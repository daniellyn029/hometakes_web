var juicebox_lib=juicebox_lib?juicebox_lib:{};!function(e,t){function n(e){var t=U[e]={},n,i;for(e=e.split(/\s+/),n=0,i=e.length;i>n;n++)t[e[n]]=!0;return t}function i(e,n,i){if(i===t&&1===e.nodeType){var o="data-"+n.replace(P,"-$1").toLowerCase();if(i=e.getAttribute(o),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:M.isNumeric(i)?parseFloat(i):R.test(i)?M.parseJSON(i):i}catch(a){}M.data(e,n,i)}else i=t}return i}function o(e){for(var t in e)if(("data"!==t||!M.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function a(e,t,n){var i=t+"defer",o=t+"queue",a=t+"mark",r=M._data(e,i);!r||"queue"!==n&&M._data(e,o)||"mark"!==n&&M._data(e,a)||setTimeout(function(){M._data(e,o)||M._data(e,a)||(M.removeData(e,i,!0),r.fire())},0)}function r(){return!1}function s(){return!0}function l(e){return!e||!e.parentNode||11===e.parentNode.nodeType}function c(e,t,n){if(t=t||0,M.isFunction(t))return M.grep(e,function(e,i){var o=!!t.call(e,i,e);return o===n});if(t.nodeType)return M.grep(e,function(e,i){return e===t===n});if("string"==typeof t){var i=M.grep(e,function(e){return 1===e.nodeType});if(lt.test(t))return M.filter(t,i,!n);t=M.filter(t,i)}return M.grep(e,function(e,i){return M.inArray(e,t)>=0===n})}function u(e){var t=ft.split(" "),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function d(e,t){return M.nodeName(e,"table")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function f(e,t){if(1===t.nodeType&&M.hasData(e)){var n,i,o,a=M._data(e),r=M._data(t,a),s=a.events;if(s){delete r.handle,r.events={};for(n in s)for(i=0,o=s[n].length;o>i;i++)M.event.add(t,n+(s[n][i].namespace?".":"")+s[n][i].namespace,s[n][i],s[n][i].data)}r.data&&(r.data=M.extend({},r.data))}}function p(e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName("*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll("*"):[]}function g(e){("checkbox"===e.type||"radio"===e.type)&&(e.defaultChecked=e.checked)}function h(e){var t=(e.nodeName||"").toLowerCase();"input"===t?g(e):"script"!==t&&"undefined"!=typeof e.getElementsByTagName&&M.grep(e.getElementsByTagName("input"),g)}function _(e,t){t.src?M.ajax({url:t.src,async:!1,dataType:"script"}):M.globalEval((t.text||t.textContent||t.innerHTML||"").replace(Tt,"/*$0*/")),t.parentNode&&t.parentNode.removeChild(t)}function m(e,t,n){var i="width"===t?e.offsetWidth:e.offsetHeight,o="width"===t?Mt:Ut;return i>0?("border"!==n&&M.each(o,function(){n||(i-=parseFloat(M.css(e,"padding"+this))||0),"margin"===n?i+=parseFloat(M.css(e,n+this))||0:i-=parseFloat(M.css(e,"border"+this+"Width"))||0}),i+"px"):(i=Ft(e,t,t),(0>i||null==i)&&(i=e.style[t]||0),i=parseFloat(i)||0,n&&M.each(o,function(){i+=parseFloat(M.css(e,"padding"+this))||0,"padding"!==n&&(i+=parseFloat(M.css(e,"border"+this+"Width"))||0),"margin"===n&&(i+=parseFloat(M.css(e,n+this))||0)}),i+"px")}function b(e){return function(t,n){if("string"!=typeof t&&(n=t,t="*"),M.isFunction(n))for(var i=t.toLowerCase().split(Kt),o=0,a=i.length,r,s,l;a>o;o++)r=i[o],l=/^\+/.test(r),l&&(r=r.substr(1)||"*"),s=e[r]=e[r]||[],s[l?"unshift":"push"](n)}}function v(e,n,i,o,a,r){a=a||n.dataTypes[0],r=r||{},r[a]=!0;for(var s=e[a],l=0,c=s?s.length:0,u=e===tn,d;c>l&&(u||!d);l++)d=s[l](n,i,o),"string"==typeof d&&(!u||r[d]?d=t:(n.dataTypes.unshift(d),d=v(e,n,i,o,d,r)));return!u&&d||r["*"]||(d=v(e,n,i,o,"*",r)),d}function x(e,n){var i,o,a=M.ajaxSettings.flatOptions||{};for(i in n)n[i]!==t&&((a[i]?e:o||(o={}))[i]=n[i]);o&&M.extend(!0,e,o)}function w(e,t,n,i){if(M.isArray(t))M.each(t,function(t,o){n||zt.test(e)?i(e,o):w(e+"["+("object"==typeof o||M.isArray(o)?t:"")+"]",o,n,i)});else if(n||null==t||"object"!=typeof t)i(e,t);else for(var o in t)w(e+"["+o+"]",t[o],n,i)}function y(e,n,i){var o=e.contents,a=e.dataTypes,r=e.responseFields,s,l,c,u;for(l in r)l in i&&(n[r[l]]=i[l]);for(;"*"===a[0];)a.shift(),s===t&&(s=e.mimeType||n.getResponseHeader("content-type"));if(s)for(l in o)if(o[l]&&o[l].test(s)){a.unshift(l);break}if(a[0]in i)c=a[0];else{for(l in i){if(!a[0]||e.converters[l+" "+a[0]]){c=l;break}u||(u=l)}c=c||u}return c?(c!==a[0]&&a.unshift(c),i[c]):void 0}function j(e,n){e.dataFilter&&(n=e.dataFilter(n,e.dataType));var i=e.dataTypes,o={},a,r,s=i.length,l,c=i[0],u,d,f,p,g;for(a=1;s>a;a++){if(1===a)for(r in e.converters)"string"==typeof r&&(o[r.toLowerCase()]=e.converters[r]);if(u=c,c=i[a],"*"===c)c=u;else if("*"!==u&&u!==c){if(d=u+" "+c,f=o[d]||o["* "+c],!f){g=t;for(p in o)if(l=p.split(" "),(l[0]===u||"*"===l[0])&&(g=o[l[1]+" "+c])){p=o[p],p===!0?f=g:g===!0&&(f=p);break}}f||g||M.error("No conversion from "+d.replace(" "," to ")),f!==!0&&(n=f?f(n):g(p(n)))}}return n}function T(){try{return new e.XMLHttpRequest}catch(t){}}function E(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function k(){return setTimeout(C,0),xn=M.now()}function C(){xn=t}function I(e,t){var n={};return M.each(vn.concat.apply([],vn.slice(0,t)),function(){n[this]=e}),n}function O(e){if(!pn[e]){var t=A.body,n=M("<"+e+">").appendTo(t),i=n.css("display");n.remove(),("none"===i||""===i)&&(gn||(gn=A.createElement("iframe"),gn.frameBorder=gn.width=gn.height=0),t.appendChild(gn),hn&&gn.createElement||(hn=(gn.contentWindow||gn.contentDocument).document,hn.write(("CSS1Compat"===A.compatMode?"<!doctype html>":"")+"<html><body>"),hn.close()),n=hn.createElement(e),hn.body.appendChild(n),i=M.css(n,"display"),t.removeChild(gn)),pn[e]=i}return pn[e]}function L(e){return M.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var A=e.document,S=e.navigator,N=e.location,M=function(){function n(){if(!i.isReady){try{A.documentElement.doScroll("left")}catch(e){return void setTimeout(n,1)}i.ready()}}var i=function(e,t){return new i.fn.init(e,t,r)},o=e.jQuery,a=e.$,r,s=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,l=/\S/,c=/^\s+/,u=/\s+$/,d=/\d/,f=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,p=/^[\],:{}\s]*$/,g=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,h=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,_=/(?:^|:|,)(?:\s*\[)+/g,m=/(webkit)[ \/]([\w.]+)/,b=/(opera)(?:.*version)?[ \/]([\w.]+)/,v=/(msie) ([\w.]+)/,x=/(mozilla)(?:.*? rv:([\w.]+))?/,w=/-([a-z]|[0-9])/gi,y=/^-ms-/,j=function(e,t){return(t+"").toUpperCase()},T=S.userAgent,E,k,C,I=Object.prototype.toString,O=Object.prototype.hasOwnProperty,L=Array.prototype.push,N=Array.prototype.slice,M=String.prototype.trim,U=Array.prototype.indexOf,F={};return i.fn=i.prototype={constructor:i,init:function(e,n,o){var a,r,l,c;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if("body"===e&&!n&&A.body)return this.context=A,this[0]=A.body,this.selector=e,this.length=1,this;if("string"==typeof e){if(a="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:s.exec(e),!a||!a[1]&&n)return!n||n.jquery?(n||o).find(e):this.constructor(n).find(e);if(a[1])return n=n instanceof i?n[0]:n,c=n?n.ownerDocument||n:A,l=f.exec(e),l?i.isPlainObject(n)?(e=[A.createElement(l[1])],i.fn.attr.call(e,n,!0)):e=[c.createElement(l[1])]:(l=i.buildFragment([a[1]],[c]),e=(l.cacheable?i.clone(l.fragment):l.fragment).childNodes),i.merge(this,e);if(r=A.getElementById(a[2]),r&&r.parentNode){if(r.id!==a[2])return o.find(e);this.length=1,this[0]=r}return this.context=A,this.selector=e,this}return i.isFunction(e)?o.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),i.makeArray(e,this))},selector:"",jquery:"1.7",length:0,size:function(){return this.length},toArray:function(){return N.call(this,0)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e,t,n){var o=this.constructor();return i.isArray(e)?L.apply(o,e):i.merge(o,e),o.prevObject=this,o.context=this.context,"find"===t?o.selector=this.selector+(this.selector?" ":"")+n:t&&(o.selector=this.selector+"."+t+"("+n+")"),o},each:function(e,t){return i.each(this,e,t)},ready:function(e){return i.bindReady(),k.add(e),this},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(N.apply(this,arguments),"slice",N.call(arguments).join(","))},map:function(e){return this.pushStack(i.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:L,sort:[].sort,splice:[].splice},i.fn.init.prototype=i.fn,i.extend=i.fn.extend=function(){var e,n,o,a,r,s,l=arguments[0]||{},c=1,u=arguments.length,d=!1;for("boolean"==typeof l&&(d=l,l=arguments[1]||{},c=2),"object"==typeof l||i.isFunction(l)||(l={}),u===c&&(l=this,--c);u>c;c++)if(null!=(e=arguments[c]))for(n in e)o=l[n],a=e[n],l!==a&&(d&&a&&(i.isPlainObject(a)||(r=i.isArray(a)))?(r?(r=!1,s=o&&i.isArray(o)?o:[]):s=o&&i.isPlainObject(o)?o:{},l[n]=i.extend(d,s,a)):a!==t&&(l[n]=a));return l},i.extend({noConflict:function(t){return e.$===i&&(e.$=a),t&&e.jQuery===i&&(e.jQuery=o),i},isReady:!1,readyWait:1,holdReady:function(e){e?i.readyWait++:i.ready(!0)},ready:function(e){if(e===!0&&!--i.readyWait||e!==!0&&!i.isReady){if(!A.body)return setTimeout(i.ready,1);if(i.isReady=!0,e!==!0&&--i.readyWait>0)return;k.fireWith(A,[i]),i.fn.trigger&&i(A).trigger("ready").unbind("ready")}},bindReady:function(){if(!k){if(k=i.Callbacks("once memory"),"complete"===A.readyState)return setTimeout(i.ready,1);if(A.addEventListener)A.addEventListener("DOMContentLoaded",C,!1),e.addEventListener("load",i.ready,!1);else if(A.attachEvent){A.attachEvent("onreadystatechange",C),e.attachEvent("onload",i.ready);var t=!1;try{t=null==e.frameElement}catch(o){}A.documentElement.doScroll&&t&&n()}}},isFunction:function(e){return"function"===i.type(e)},isArray:Array.isArray||function(e){return"array"===i.type(e)},isWindow:function(e){return e&&"object"==typeof e&&"setInterval"in e},isNumeric:function(e){return null!=e&&d.test(e)&&!isNaN(e)},type:function(e){return null==e?String(e):F[I.call(e)]||"object"},isPlainObject:function(e){if(!e||"object"!==i.type(e)||e.nodeType||i.isWindow(e))return!1;try{if(e.constructor&&!O.call(e,"constructor")&&!O.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var o;for(o in e);return o===t||O.call(e,o)},isEmptyObject:function(e){for(var t in e)return!1;return!0},error:function(e){throw e},parseJSON:function(t){return"string"==typeof t&&t?(t=i.trim(t),e.JSON&&e.JSON.parse?e.JSON.parse(t):p.test(t.replace(g,"@").replace(h,"]").replace(_,""))?new Function("return "+t)():void i.error("Invalid JSON: "+t)):null},noop:function(){},globalEval:function(t){t&&l.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(y,"ms-").replace(w,j)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toUpperCase()===t.toUpperCase()},each:function(e,n,o){var a,r=0,s=e.length,l=s===t||i.isFunction(e);if(o)if(l){for(a in e)if(n.apply(e[a],o)===!1)break}else for(;s>r&&n.apply(e[r++],o)!==!1;);else if(l){for(a in e)if(n.call(e[a],a,e[a])===!1)break}else for(;s>r&&n.call(e[r],r,e[r++])!==!1;);return e},trim:M?function(e){return null==e?"":M.call(e)}:function(e){return null==e?"":e.toString().replace(c,"").replace(u,"")},makeArray:function(e,t){var n=t||[];if(null!=e){var o=i.type(e);null==e.length||"string"===o||"function"===o||"regexp"===o||i.isWindow(e)?L.call(n,e):i.merge(n,e)}return n},inArray:function(e,t,n){var i;if(t){if(U)return U.call(t,e,n);for(i=t.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var i=e.length,o=0;if("number"==typeof n.length)for(var a=n.length;a>o;o++)e[i++]=n[o];else for(;n[o]!==t;)e[i++]=n[o++];return e.length=i,e},grep:function(e,t,n){var i=[],o;n=!!n;for(var a=0,r=e.length;r>a;a++)o=!!t(e[a],a),n!==o&&i.push(e[a]);return i},map:function(e,n,o){var a,r,s=[],l=0,c=e.length,u=e instanceof i||c!==t&&"number"==typeof c&&(c>0&&e[0]&&e[c-1]||0===c||i.isArray(e));if(u)for(;c>l;l++)a=n(e[l],l,o),null!=a&&(s[s.length]=a);else for(r in e)a=n(e[r],r,o),null!=a&&(s[s.length]=a);return s.concat.apply([],s)},guid:1,access:function(e,n,o,a,r,s){var l=e.length;if("object"==typeof n){for(var c in n)i.access(e,c,n[c],a,r,o);return e}if(o!==t){a=!s&&a&&i.isFunction(o);for(var u=0;l>u;u++)r(e[u],n,a?o.call(e[u],u,r(e[u],n)):o,s);return e}return l?r(e[0],n):t},now:function(){return(new Date).getTime()},uaMatch:function(e){e=e.toLowerCase();var t=m.exec(e)||b.exec(e)||v.exec(e)||e.indexOf("compatible")<0&&x.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},sub:function(){function e(t,n){return new e.fn.init(t,n)}i.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function n(o,a){return a&&a instanceof i&&!(a instanceof e)&&(a=e(a)),i.fn.init.call(this,o,a,t)},e.fn.init.prototype=e.fn;var t=e(A);return e},browser:{}}),i.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){F["[object "+t+"]"]=t.toLowerCase()}),E=i.uaMatch(T),E.browser&&(i.browser[E.browser]=!0,i.browser.version=E.version),i.browser.webkit&&(i.browser.safari=!0),l.test("Â ")&&(c=/^[\s\xA0]+/,u=/[\s\xA0]+$/),r=i(A),A.addEventListener?C=function(){A.removeEventListener("DOMContentLoaded",C,!1),i.ready()}:A.attachEvent&&(C=function(){"complete"===A.readyState&&(A.detachEvent("onreadystatechange",C),i.ready())}),"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return i}),i}(),U={};M.Callbacks=function(e){e=e?U[e]||n(e):{};var i=[],o=[],a,r,s,l,c,u=function(t){var n,o,a,r,s;for(n=0,o=t.length;o>n;n++)a=t[n],r=M.type(a),"array"===r?u(a):"function"===r&&(e.unique&&f.has(a)||i.push(a))},d=function(t,n){for(n=n||[],a=!e.memory||[t,n],r=!0,c=s||0,s=0,l=i.length;i&&l>c;c++)if(i[c].apply(t,n)===!1&&e.stopOnFalse){a=!0;break}r=!1,i&&(e.once?a===!0?f.disable():i=[]:o&&o.length&&(a=o.shift(),f.fireWith(a[0],a[1])))},f={add:function(){if(i){var e=i.length;u(arguments),r?l=i.length:a&&a!==!0&&(s=e,d(a[0],a[1]))}return this},remove:function(){if(i)for(var t=arguments,n=0,o=t.length;o>n;n++)for(var a=0;a<i.length&&(t[n]!==i[a]||(r&&l>=a&&(l--,c>=a&&c--),i.splice(a--,1),!e.unique));a++);return this},has:function(e){if(i)for(var t=0,n=i.length;n>t;t++)if(e===i[t])return!0;return!1},empty:function(){return i=[],this},disable:function(){return i=o=a=t,this},disabled:function(){return!i},lock:function(){return o=t,a&&a!==!0||f.disable(),this},locked:function(){return!o},fireWith:function(t,n){return o&&(r?e.once||o.push([t,n]):e.once&&a||d(t,n)),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!a}};return f};var F=[].slice;M.extend({Deferred:function(e){var t=M.Callbacks("once memory"),n=M.Callbacks("once memory"),i=M.Callbacks("memory"),o="pending",a={resolve:t,reject:n,notify:i},r={done:t.add,fail:n.add,progress:i.add,state:function(){return o},isResolved:t.fired,isRejected:n.fired,then:function(e,t,n){return s.done(e).fail(t).progress(n),this},always:function(){return s.done.apply(s,arguments).fail.apply(s,arguments)},pipe:function(e,t,n){return M.Deferred(function(i){M.each({done:[e,"resolve"],fail:[t,"reject"],progress:[n,"notify"]},function(e,t){var n=t[0],o=t[1],a;s[e](M.isFunction(n)?function(){a=n.apply(this,arguments),a&&M.isFunction(a.promise)?a.promise().then(i.resolve,i.reject,i.notify):i[o+"With"](this===s?i:this,[a])}:i[o])})}).promise()},promise:function(e){if(null==e)e=r;else for(var t in r)e[t]=r[t];return e}},s=r.promise({}),l;for(l in a)s[l]=a[l].fire,s[l+"With"]=a[l].fireWith;return s.done(function(){o="resolved"},n.disable,i.lock).fail(function(){o="rejected"},t.disable,i.lock),e&&e.call(s,s),s}}),M.support=function(){var e=A.createElement("div"),t=A.documentElement,n,i,o,a,r,s,l,c,u,d,f,p,g,h,_,m,b;if(e.setAttribute("className","t"),e.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/><nav></nav>",n=e.getElementsByTagName("*"),i=e.getElementsByTagName("a")[0],!n||!n.length||!i)return{};o=A.createElement("select"),a=o.appendChild(A.createElement("option")),r=e.getElementsByTagName("input")[0],l={leadingWhitespace:3===e.firstChild.nodeType,tbody:!e.getElementsByTagName("tbody").length,htmlSerialize:!!e.getElementsByTagName("link").length,style:/top/.test(i.getAttribute("style")),hrefNormalized:"/a"===i.getAttribute("href"),opacity:/^0.55/.test(i.style.opacity),cssFloat:!!i.style.cssFloat,unknownElems:!!e.getElementsByTagName("nav").length,checkOn:"on"===r.value,optSelected:a.selected,getSetAttribute:"t"!==e.className,enctype:!!A.createElement("form").enctype,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0},r.checked=!0,l.noCloneChecked=r.cloneNode(!0).checked,o.disabled=!0,l.optDisabled=!a.disabled;try{delete e.test}catch(v){l.deleteExpando=!1}!e.addEventListener&&e.attachEvent&&e.fireEvent&&(e.attachEvent("onclick",function(){l.noCloneEvent=!1}),e.cloneNode(!0).fireEvent("onclick")),r=A.createElement("input"),r.value="t",r.setAttribute("type","radio"),l.radioValue="t"===r.value,r.setAttribute("checked","checked"),e.appendChild(r),c=A.createDocumentFragment(),c.appendChild(e.lastChild),l.checkClone=c.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="",e.style.width=e.style.paddingLeft="1px",u=A.getElementsByTagName("body")[0],f=A.createElement(u?"div":"body"),p={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},u&&M.extend(p,{position:"absolute",left:"-999px",top:"-999px"});for(m in p)f.style[m]=p[m];if(f.appendChild(e),d=u||t,d.insertBefore(f,d.firstChild),l.appendChecked=r.checked,l.boxModel=2===e.offsetWidth,"zoom"in e.style&&(e.style.display="inline",e.style.zoom=1,l.inlineBlockNeedsLayout=2===e.offsetWidth,e.style.display="",e.innerHTML="<div style='width:4px;'></div>",l.shrinkWrapBlocks=2!==e.offsetWidth),e.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>",g=e.getElementsByTagName("td"),b=0===g[0].offsetHeight,g[0].style.display="",g[1].style.display="none",l.reliableHiddenOffsets=b&&0===g[0].offsetHeight,e.innerHTML="",A.defaultView&&A.defaultView.getComputedStyle&&(s=A.createElement("div"),s.style.width="0",s.style.marginRight="0",e.appendChild(s),l.reliableMarginRight=0===(parseInt((A.defaultView.getComputedStyle(s,null)||{marginRight:0}).marginRight,10)||0)),e.attachEvent)for(m in{submit:1,change:1,focusin:1})_="on"+m,b=_ in e,b||(e.setAttribute(_,"return;"),b="function"==typeof e[_]),l[m+"Bubbles"]=b;return M(function(){var e,t,n,i,o,a,r=1,s="position:absolute;top:0;left:0;width:1px;height:1px;margin:0;",c="visibility:hidden;border:0;",d="style='"+s+"border:5px solid #000;padding:0;'",p="<div "+d+"><div></div></div><table "+d+" cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";u=A.getElementsByTagName("body")[0],u&&(e=A.createElement("div"),e.style.cssText=c+"width:0;height:0;position:static;top:0;margin-top:"+r+"px",u.insertBefore(e,u.firstChild),f=A.createElement("div"),f.style.cssText=s+c,f.innerHTML=p,e.appendChild(f),t=f.firstChild,n=t.firstChild,o=t.nextSibling.firstChild.firstChild,a={doesNotAddBorder:5!==n.offsetTop,doesAddBorderForTableAndCells:5===o.offsetTop},n.style.position="fixed",n.style.top="20px",a.fixedPosition=20===n.offsetTop||15===n.offsetTop,n.style.position=n.style.top="",t.style.overflow="hidden",t.style.position="relative",a.subtractsBorderForOverflowNotVisible=-5===n.offsetTop,a.doesNotIncludeMarginInBodyOffset=u.offsetTop!==r,u.removeChild(e),f=e=null,M.extend(l,a))}),f.innerHTML="",d.removeChild(f),f=c=o=a=u=s=e=r=null,l}(),M.boxModel=M.support.boxModel;var R=/^(?:\{.*\}|\[.*\])$/,P=/([A-Z])/g;M.extend({cache:{},uuid:0,expando:"jQuery"+(M.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?M.cache[e[M.expando]]:e[M.expando],!!e&&!o(e)},data:function(e,n,i,o){if(M.acceptData(e)){var a,r,s,l=M.expando,c="string"==typeof n,u=e.nodeType,d=u?M.cache:e,f=u?e[M.expando]:e[M.expando]&&M.expando,p="events"===n;if(f&&d[f]&&(p||o||d[f].data)||!c||i!==t)return f||(u?e[M.expando]=f=++M.uuid:f=M.expando),d[f]||(d[f]={},u||(d[f].toJSON=M.noop)),("object"==typeof n||"function"==typeof n)&&(o?d[f]=M.extend(d[f],n):d[f].data=M.extend(d[f].data,n)),a=r=d[f],o||(r.data||(r.data={}),r=r.data),i!==t&&(r[M.camelCase(n)]=i),p&&!r[n]?a.events:(c?(s=r[n],null==s&&(s=r[M.camelCase(n)])):s=r,s)}},removeData:function(e,t,n){if(M.acceptData(e)){var i,a,r,s=M.expando,l=e.nodeType,c=l?M.cache:e,u=l?e[M.expando]:M.expando;if(c[u]){if(t&&(i=n?c[u]:c[u].data)){M.isArray(t)?t=t:t in i?t=[t]:(t=M.camelCase(t),t=t in i?[t]:t.split(" "));for(a=0,r=t.length;r>a;a++)delete i[t[a]];if(!(n?o:M.isEmptyObject)(i))return}(n||(delete c[u].data,o(c[u])))&&(M.support.deleteExpando||!c.setInterval?delete c[u]:c[u]=null,l&&(M.support.deleteExpando?delete e[M.expando]:e.removeAttribute?e.removeAttribute(M.expando):e[M.expando]=null))}}},_data:function(e,t,n){return M.data(e,t,n,!0)},acceptData:function(e){if(e.nodeName){var t=M.noData[e.nodeName.toLowerCase()];if(t)return!(t===!0||e.getAttribute("classid")!==t)}return!0}}),M.fn.extend({data:function(e,n){var o,a,r,s=null;if("undefined"==typeof e){if(this.length&&(s=M.data(this[0]),1===this[0].nodeType&&!M._data(this[0],"parsedAttrs"))){a=this[0].attributes;for(var l=0,c=a.length;c>l;l++)r=a[l].name,0===r.indexOf("data-")&&(r=M.camelCase(r.substring(5)),i(this[0],r,s[r]));M._data(this[0],"parsedAttrs",!0)}return s}return"object"==typeof e?this.each(function(){M.data(this,e)}):(o=e.split("."),o[1]=o[1]?"."+o[1]:"",n===t?(s=this.triggerHandler("getData"+o[1]+"!",[o[0]]),s===t&&this.length&&(s=M.data(this[0],e),s=i(this[0],e,s)),s===t&&o[1]?this.data(o[0]):s):this.each(function(){var t=M(this),i=[o[0],n];t.triggerHandler("setData"+o[1]+"!",i),M.data(this,e,n),t.triggerHandler("changeData"+o[1]+"!",i)}))},removeData:function(e){return this.each(function(){M.removeData(this,e)})}}),M.extend({_mark:function(e,t){e&&(t=(t||"fx")+"mark",M._data(e,t,(M._data(e,t)||0)+1))},_unmark:function(e,t,n){if(e!==!0&&(n=t,t=e,e=!1),t){n=n||"fx";var i=n+"mark",o=e?0:(M._data(t,i)||1)-1;o?M._data(t,i,o):(M.removeData(t,i,!0),a(t,n,"mark"))}},queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=M._data(e,t),n&&(!i||M.isArray(n)?i=M._data(e,t,M.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=M.queue(e,t),i=n.shift(),o={};"inprogress"===i&&(i=n.shift()),i&&("fx"===t&&n.unshift("inprogress"),M._data(e,t+".run",o),i.call(e,function(){M.dequeue(e,t)},o)),n.length||(M.removeData(e,t+"queue "+t+".run",!0),a(e,t,"queue"))}}),M.fn.extend({queue:function(e,n){return"string"!=typeof e&&(n=e,e="fx"),n===t?M.queue(this[0],e):this.each(function(){var t=M.queue(this,e,n);"fx"===e&&"inprogress"!==t[0]&&M.dequeue(this,e)})},dequeue:function(e){return this.each(function(){M.dequeue(this,e)})},delay:function(e,t){return e=M.fx?M.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},clearQueue:function(e){return this.queue(e||"fx",[])}});var H=/[\n\t\r]/g,z=/\s+/,B=/\r/g,D=/^(?:button|input)$/i,G=/^(?:button|input|object|select|textarea)$/i,W=/^a(?:rea)?$/i,V=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,q=M.support.getSetAttribute,Y,X,Q;M.fn.extend({attr:function(e,t){return M.access(this,e,t,!0,M.attr)},removeAttr:function(e){return this.each(function(){M.removeAttr(this,e)})},addClass:function(e){var t,n,i,o,a,r,s;if(M.isFunction(e))return this.each(function(t){M(this).addClass(e.call(this,t,this.className))});if(e&&"string"==typeof e)for(t=e.split(z),n=0,i=this.length;i>n;n++)if(o=this[n],1===o.nodeType)if(o.className||1!==t.length){for(a=" "+o.className+" ",r=0,s=t.length;s>r;r++)~a.indexOf(" "+t[r]+" ")||(a+=t[r]+" ");o.className=M.trim(a)}else o.className=e;return this},removeClass:function(e){var n,i,o,a,r,s,l;if(M.isFunction(e))return this.each(function(t){M(this).removeClass(e.call(this,t,this.className))});if(e&&"string"==typeof e||e===t)for(n=(e||"").split(z),i=0,o=this.length;o>i;i++)if(a=this[i],1===a.nodeType&&a.className)if(e){for(r=(" "+a.className+" ").replace(H," "),s=0,l=n.length;l>s;s++)r=r.replace(" "+n[s]+" "," ");a.className=M.trim(r)}else a.className="";return this},toggleClass:function(e,t){var n=typeof e,i="boolean"==typeof t;return this.each(M.isFunction(e)?function(n){M(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var o,a=0,r=M(this),s=t,l=e.split(z);o=l[a++];)s=i?s:!r.hasClass(o),r[s?"addClass":"removeClass"](o);else("undefined"===n||"boolean"===n)&&(this.className&&M._data(this,"__className__",this.className),this.className=this.className||e===!1?"":M._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(H," ").indexOf(t)>-1)return!0;return!1},val:function(e){var n,i,o,a=this[0];return arguments.length?(o=M.isFunction(e),this.each(function(i){var a=M(this),r;1===this.nodeType&&(r=o?e.call(this,i,a.val()):e,null==r?r="":"number"==typeof r?r+="":M.isArray(r)&&(r=M.map(r,function(e){return null==e?"":e+""})),n=M.valHooks[this.nodeName.toLowerCase()]||M.valHooks[this.type],n&&"set"in n&&n.set(this,r,"value")!==t||(this.value=r))})):a?(n=M.valHooks[a.nodeName.toLowerCase()]||M.valHooks[a.type],n&&"get"in n&&(i=n.get(a,"value"))!==t?i:(i=a.value,"string"==typeof i?i.replace(B,""):null==i?"":i)):t}}),M.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,i,o,a=e.selectedIndex,r=[],s=e.options,l="select-one"===e.type;if(0>a)return null;for(n=l?a:0,i=l?a+1:s.length;i>n;n++)if(o=s[n],!(!o.selected||(M.support.optDisabled?o.disabled:null!==o.getAttribute("disabled"))||o.parentNode.disabled&&M.nodeName(o.parentNode,"optgroup"))){if(t=M(o).val(),l)return t;r.push(t)}return l&&!r.length&&s.length?M(s[a]).val():r},set:function(e,t){var n=M.makeArray(t);return M(e).find("option").each(function(){this.selected=M.inArray(M(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(e,n,i,o){var a,r,s,l=e.nodeType;return e&&3!==l&&8!==l&&2!==l?o&&n in M.attrFn?M(e)[n](i):"getAttribute"in e?(s=1!==l||!M.isXMLDoc(e),s&&(n=n.toLowerCase(),r=M.attrHooks[n]||(V.test(n)?X:Y)),i!==t?null===i?(M.removeAttr(e,n),t):r&&"set"in r&&s&&(a=r.set(e,i,n))!==t?a:(e.setAttribute(n,""+i),i):r&&"get"in r&&s&&null!==(a=r.get(e,n))?a:(a=e.getAttribute(n),null===a?t:a)):M.prop(e,n,i):t},removeAttr:function(e,t){var n,i,o,a,r=0;if(1===e.nodeType)for(i=(t||"").split(z),a=i.length;a>r;r++)o=i[r].toLowerCase(),n=M.propFix[o]||o,M.attr(e,o,""),e.removeAttribute(q?o:n),V.test(o)&&n in e&&(e[n]=!1)},attrHooks:{type:{set:function(e,t){if(D.test(e.nodeName)&&e.parentNode)M.error("type property can't be changed");else if(!M.support.radioValue&&"radio"===t&&M.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}},value:{get:function(e,t){return Y&&M.nodeName(e,"button")?Y.get(e,t):t in e?e.value:null},set:function(e,t,n){return Y&&M.nodeName(e,"button")?Y.set(e,t,n):void(e.value=t)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,i){var o,a,r,s=e.nodeType;return e&&3!==s&&8!==s&&2!==s?(r=1!==s||!M.isXMLDoc(e),r&&(n=M.propFix[n]||n,a=M.propHooks[n]),i!==t?a&&"set"in a&&(o=a.set(e,i,n))!==t?o:e[n]=i:a&&"get"in a&&null!==(o=a.get(e,n))?o:e[n]):t},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):G.test(e.nodeName)||W.test(e.nodeName)&&e.href?0:t}}}}),M.attrHooks.tabindex=M.propHooks.tabIndex,X={get:function(e,n){var i,o=M.prop(e,n);return o===!0||"boolean"!=typeof o&&(i=e.getAttributeNode(n))&&i.nodeValue!==!1?n.toLowerCase():t},set:function(e,t,n){var i;return t===!1?M.removeAttr(e,n):(i=M.propFix[n]||n,i in e&&(e[i]=!0),e.setAttribute(n,n.toLowerCase())),n}},q||(Q={name:!0,id:!0},Y=M.valHooks.button={get:function(e,n){var i;return i=e.getAttributeNode(n),i&&(Q[n]?""!==i.nodeValue:i.specified)?i.nodeValue:t},set:function(e,t,n){var i=e.getAttributeNode(n);return i||(i=A.createAttribute(n),e.setAttributeNode(i)),i.nodeValue=t+""}},M.attrHooks.tabindex.set=Y.set,M.each(["width","height"],function(e,t){M.attrHooks[t]=M.extend(M.attrHooks[t],{set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}})}),M.attrHooks.contenteditable={get:Y.get,set:function(e,t,n){""===t&&(t="false"),Y.set(e,t,n)}}),M.support.hrefNormalized||M.each(["href","src","width","height"],function(e,n){M.attrHooks[n]=M.extend(M.attrHooks[n],{get:function(e){var i=e.getAttribute(n,2);return null===i?t:i}})}),M.support.style||(M.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||t},set:function(e,t){return e.style.cssText=""+t}}),M.support.optSelected||(M.propHooks.selected=M.extend(M.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),M.support.enctype||(M.propFix.enctype="encoding"),M.support.checkOn||M.each(["radio","checkbox"],function(){M.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),M.each(["radio","checkbox"],function(){M.valHooks[this]=M.extend(M.valHooks[this],{set:function(e,t){return M.isArray(t)?e.checked=M.inArray(M(e).val(),t)>=0:void 0}})});var K=/^([^\.]*)?(?:\.(.+))?$/,J=/\bhover(\.\S+)?/,Z=/^key/,et=/^(?:mouse|contextmenu)|click/,tt=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,nt=function(e){var t=tt.exec(e);return t&&(t[1]=(t[1]||"").toLowerCase(),t[3]=t[3]&&new RegExp("(?:^|\\s)"+t[3]+"(?:\\s|$)")),t},it=function(e,t){return!(t[1]&&e.nodeName.toLowerCase()!==t[1]||t[2]&&e.id!==t[2]||t[3]&&!t[3].test(e.className))},ot=function(e){return M.event.special.hover?e:e.replace(J,"mouseenter$1 mouseleave$1")};M.event={add:function(e,n,i,o,a){var r,s,l,c,u,d,f,p,g,h,_,m;if(3!==e.nodeType&&8!==e.nodeType&&n&&i&&(r=M._data(e))){for(i.handler&&(g=i,i=g.handler),i.guid||(i.guid=M.guid++),l=r.events,l||(r.events=l={}),s=r.handle,s||(r.handle=s=function(e){return"undefined"==typeof M||e&&M.event.triggered===e.type?t:M.event.dispatch.apply(s.elem,arguments)},s.elem=e),n=ot(n).split(" "),c=0;c<n.length;c++)u=K.exec(n[c])||[],d=u[1],f=(u[2]||"").split(".").sort(),m=M.event.special[d]||{},d=(a?m.delegateType:m.bindType)||d,m=M.event.special[d]||{},p=M.extend({type:d,origType:u[1],data:o,handler:i,guid:i.guid,selector:a,namespace:f.join(".")},g),a&&(p.quick=nt(a),!p.quick&&M.expr.match.POS.test(a)&&(p.isPositional=!0)),_=l[d],_||(_=l[d]=[],_.delegateCount=0,m.setup&&m.setup.call(e,o,f,s)!==!1||(e.addEventListener?e.addEventListener(d,s,!1):e.attachEvent&&e.attachEvent("on"+d,s))),m.add&&(m.add.call(e,p),p.handler.guid||(p.handler.guid=i.guid)),a?_.splice(_.delegateCount++,0,p):_.push(p),M.event.global[d]=!0;e=null}},global:{},remove:function(e,t,n,i){var o=M.hasData(e)&&M._data(e),a,r,s,l,c,u,d,f,p,g,h;if(o&&(d=o.events)){for(t=ot(t||"").split(" "),a=0;a<t.length;a++){if(r=K.exec(t[a])||[],s=r[1],l=r[2],!s){l=l?"."+l:"";for(u in d)M.event.remove(e,u+l,n,i);return}if(f=M.event.special[s]||{},s=(i?f.delegateType:f.bindType)||s,g=d[s]||[],c=g.length,l=l?new RegExp("(^|\\.)"+l.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null,n||l||i||f.remove)for(u=0;u<g.length;u++)h=g[u],n&&n.guid!==h.guid||(!l||l.test(h.namespace))&&(!i||i===h.selector||"**"===i&&h.selector)&&(g.splice(u--,1),h.selector&&g.delegateCount--,f.remove&&f.remove.call(e,h));else g.length=0;0===g.length&&c!==g.length&&(f.teardown&&f.teardown.call(e,l)!==!1||M.removeEvent(e,s,o.handle),delete d[s])
}M.isEmptyObject(d)&&(p=o.handle,p&&(p.elem=null),M.removeData(e,["events","handle"],!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(n,i,o,a){if(!o||3!==o.nodeType&&8!==o.nodeType){var r=n.type||n,s=[],l,c,u,d,f,p,g,h,_,m;if(r.indexOf("!")>=0&&(r=r.slice(0,-1),c=!0),r.indexOf(".")>=0&&(s=r.split("."),r=s.shift(),s.sort()),o&&!M.event.customEvent[r]||M.event.global[r])if(n="object"==typeof n?n[M.expando]?n:new M.Event(r,n):new M.Event(r),n.type=r,n.isTrigger=!0,n.exclusive=c,n.namespace=s.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+s.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,p=r.indexOf(":")<0?"on"+r:"",(a||!o)&&n.preventDefault(),o){if(n.result=t,n.target||(n.target=o),i=null!=i?M.makeArray(i):[],i.unshift(n),g=M.event.special[r]||{},!g.trigger||g.trigger.apply(o,i)!==!1){if(_=[[o,g.bindType||r]],!a&&!g.noBubble&&!M.isWindow(o)){for(m=g.delegateType||r,f=null,d=o.parentNode;d;d=d.parentNode)_.push([d,m]),f=d;f&&f===o.ownerDocument&&_.push([f.defaultView||f.parentWindow||e,m])}for(u=0;u<_.length&&(d=_[u][0],n.type=_[u][1],h=(M._data(d,"events")||{})[n.type]&&M._data(d,"handle"),h&&h.apply(d,i),h=p&&d[p],h&&M.acceptData(d)&&h.apply(d,i),!n.isPropagationStopped());u++);return n.type=r,n.isDefaultPrevented()||g._default&&g._default.apply(o.ownerDocument,i)!==!1||"click"===r&&M.nodeName(o,"a")||!M.acceptData(o)||p&&o[r]&&("focus"!==r&&"blur"!==r||0!==n.target.offsetWidth)&&!M.isWindow(o)&&(f=o[p],f&&(o[p]=null),M.event.triggered=r,o[r](),M.event.triggered=t,f&&(o[p]=f)),n.result}}else{l=M.cache;for(u in l)l[u].events&&l[u].events[r]&&M.event.trigger(n,i,l[u].handle.elem,!0)}}},dispatch:function(n){n=M.event.fix(n||e.event);var i=(M._data(this,"events")||{})[n.type]||[],o=i.delegateCount,a=[].slice.call(arguments,0),r=!n.exclusive&&!n.namespace,s=(M.event.special[n.type]||{}).handle,l=[],c,u,d,f,p,g,h,_,m,b,v;if(a[0]=n,n.delegateTarget=this,o&&!n.target.disabled&&(!n.button||"click"!==n.type))for(d=n.target;d!=this;d=d.parentNode||this){for(p={},h=[],c=0;o>c;c++)_=i[c],m=_.selector,b=p[m],_.isPositional?b=(b||(p[m]=M(m))).index(d)>=0:b===t&&(b=p[m]=_.quick?it(d,_.quick):M(d).is(m)),b&&h.push(_);h.length&&l.push({elem:d,matches:h})}for(i.length>o&&l.push({elem:this,matches:i.slice(o)}),c=0;c<l.length&&!n.isPropagationStopped();c++)for(g=l[c],n.currentTarget=g.elem,u=0;u<g.matches.length&&!n.isImmediatePropagationStopped();u++)_=g.matches[u],(r||!n.namespace&&!_.namespace||n.namespace_re&&n.namespace_re.test(_.namespace))&&(n.data=_.data,n.handleObj=_,f=(s||_.handler).apply(g.elem,a),f!==t&&(n.result=f,f===!1&&(n.preventDefault(),n.stopPropagation())));return n.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement wheelDelta".split(" "),filter:function(e,n){var i,o,a,r=n.button,s=n.fromElement;return null==e.pageX&&null!=n.clientX&&(i=e.target.ownerDocument||A,o=i.documentElement,a=i.body,e.pageX=n.clientX+(o&&o.scrollLeft||a&&a.scrollLeft||0)-(o&&o.clientLeft||a&&a.clientLeft||0),e.pageY=n.clientY+(o&&o.scrollTop||a&&a.scrollTop||0)-(o&&o.clientTop||a&&a.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?n.toElement:s),e.which||r===t||(e.which=1&r?1:2&r?3:4&r?2:0),e}},fix:function(e){if(e[M.expando])return e;var n,i,o=e,a=M.event.fixHooks[e.type]||{},r=a.props?this.props.concat(a.props):this.props;for(e=M.Event(o),n=r.length;n;)i=r[--n],e[i]=o[i];return e.target||(e.target=o.srcElement||A),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey===t&&(e.metaKey=e.ctrlKey),a.filter?a.filter(e,o):e},special:{ready:{setup:M.bindReady},focus:{delegateType:"focusin",noBubble:!0},blur:{delegateType:"focusout",noBubble:!0},beforeunload:{setup:function(e,t,n){M.isWindow(this)&&(this.onbeforeunload=n)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}}},M.event.handle=M.event.dispatch,M.removeEvent=A.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){e.detachEvent&&e.detachEvent("on"+t,n)},M.Event=function(e,t){return this instanceof M.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.defaultPrevented&&e.defaultPrevented()?s:r):this.type=e,t&&M.extend(this,t),this.timeStamp=e&&e.timeStamp||M.now(),void(this[M.expando]=!0)):new M.Event(e,t)},M.Event.prototype={preventDefault:function(){this.isDefaultPrevented=s;var e=this.originalEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=s;var e=this.originalEvent;e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},isDefaultPrevented:r,isPropagationStopped:r,isImmediatePropagationStopped:r},M.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){M.event.special[e]=M.event.special[t]={delegateType:t,bindType:t,handle:function(e){var t=this,n=e.relatedTarget,i=e.handleObj,o=i.selector,a,r;return(!n||i.origType===e.type||n!==t&&!M.contains(t,n))&&(a=e.type,e.type=i.origType,r=i.handler.apply(this,arguments),e.type=a),r}}}),M.fn.extend({on:function(e,n,i,o,a){var s,l;if("object"==typeof e){"string"!=typeof n&&(i=n,n=t);for(l in e)this.on(l,n,i,e[l],a);return this}if(null==i&&null==o?(o=n,i=n=t):null==o&&("string"==typeof n?(o=i,i=t):(o=i,i=n,n=t)),o===!1)o=r;else if(!o)return this;return 1===a&&(s=o,o=function(e){return M().off(e),s.apply(this,arguments)},o.guid=s.guid||(s.guid=M.guid++)),this.each(function(){M.event.add(this,e,o,i,n)})},one:function(e,t,n,i){return this.on.call(this,e,t,n,i,1)},off:function(e,n,i){if(e&&e.preventDefault&&e.handleObj){var o=e.handleObj;return M(e.delegateTarget).off(o.namespace?o.type+"."+o.namespace:o.type,o.selector,o.handler),this}if("object"==typeof e){for(var a in e)this.off(a,n,e[a]);return this}return(n===!1||"function"==typeof n)&&(i=n,n=t),i===!1&&(i=r),this.each(function(){M.event.remove(this,e,i,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},live:function(e,t,n){return M(this.context).on(e,this.selector,t,n),this},die:function(e,t){return M(this.context).off(e,this.selector||"**",t),this},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1==arguments.length?this.off(e,"**"):this.off(t,e,n)},trigger:function(e,t){return this.each(function(){M.event.trigger(e,t,this)})},triggerHandler:function(e,t){return this[0]?M.event.trigger(e,t,this[0],!0):void 0},toggle:function(e){var t=arguments,n=e.guid||M.guid++,i=0,o=function(n){var o=(M._data(this,"lastToggle"+e.guid)||0)%i;return M._data(this,"lastToggle"+e.guid,o+1),n.preventDefault(),t[o].apply(this,arguments)||!1};for(o.guid=n;i<t.length;)t[i++].guid=n;return this.click(o)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),M.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){M.fn[t]=function(e,n){return null==n&&(n=e,e=null),arguments.length>0?this.bind(t,e,n):this.trigger(t)},M.attrFn&&(M.attrFn[t]=!0),Z.test(t)&&(M.event.fixHooks[t]=M.event.keyHooks),et.test(t)&&(M.event.fixHooks[t]=M.event.mouseHooks)}),function(){function e(e,t,n,i,a,r){for(var s=0,l=i.length;l>s;s++){var c=i[s];if(c){var u=!1;for(c=c[e];c;){if(c[o]===n){u=i[c.sizset];break}if(1!==c.nodeType||r||(c[o]=n,c.sizset=s),c.nodeName.toLowerCase()===t){u=c;break}c=c[e]}i[s]=u}}}function n(e,t,n,i,a,r){for(var s=0,l=i.length;l>s;s++){var c=i[s];if(c){var u=!1;for(c=c[e];c;){if(c[o]===n){u=i[c.sizset];break}if(1===c.nodeType)if(r||(c[o]=n,c.sizset=s),"string"!=typeof t){if(c===t){u=!0;break}}else if(f.filter(t,[c]).length>0){u=c;break}c=c[e]}i[s]=u}}}var i=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,o="sizcache"+(Math.random()+"").replace(".",""),a=0,r=Object.prototype.toString,s=!1,l=!0,c=/\\/g,u=/\r\n/g,d=/\W/;[0,0].sort(function(){return l=!1,0});var f=function(e,t,n,o){n=n||[],t=t||A;var a=t;if(1!==t.nodeType&&9!==t.nodeType)return[];if(!e||"string"!=typeof e)return n;var s,l,c,u,d,p,_,m,v=!0,x=f.isXML(t),w=[],j=e;do if(i.exec(""),s=i.exec(j),s&&(j=s[3],w.push(s[1]),s[2])){u=s[3];break}while(s);if(w.length>1&&h.exec(e))if(2===w.length&&g.relative[w[0]])l=y(w[0]+w[1],t,o);else for(l=g.relative[w[0]]?[t]:f(w.shift(),t);w.length;)e=w.shift(),g.relative[e]&&(e+=w.shift()),l=y(e,l,o);else if(!o&&w.length>1&&9===t.nodeType&&!x&&g.match.ID.test(w[0])&&!g.match.ID.test(w[w.length-1])&&(d=f.find(w.shift(),t,x),t=d.expr?f.filter(d.expr,d.set)[0]:d.set[0]),t)for(d=o?{expr:w.pop(),set:b(o)}:f.find(w.pop(),1!==w.length||"~"!==w[0]&&"+"!==w[0]||!t.parentNode?t:t.parentNode,x),l=d.expr?f.filter(d.expr,d.set):d.set,w.length>0?c=b(l):v=!1;w.length;)p=w.pop(),_=p,g.relative[p]?_=w.pop():p="",null==_&&(_=t),g.relative[p](c,_,x);else c=w=[];if(c||(c=l),c||f.error(p||e),"[object Array]"===r.call(c))if(v)if(t&&1===t.nodeType)for(m=0;null!=c[m];m++)c[m]&&(c[m]===!0||1===c[m].nodeType&&f.contains(t,c[m]))&&n.push(l[m]);else for(m=0;null!=c[m];m++)c[m]&&1===c[m].nodeType&&n.push(l[m]);else n.push.apply(n,c);else b(c,n);return u&&(f(u,a,n,o),f.uniqueSort(n)),n};f.uniqueSort=function(e){if(x&&(s=l,e.sort(x),s))for(var t=1;t<e.length;t++)e[t]===e[t-1]&&e.splice(t--,1);return e},f.matches=function(e,t){return f(e,null,null,t)},f.matchesSelector=function(e,t){return f(t,null,null,[e]).length>0},f.find=function(e,t,n){var i,o,a,r,s,l;if(!e)return[];for(o=0,a=g.order.length;a>o;o++)if(s=g.order[o],(r=g.leftMatch[s].exec(e))&&(l=r[1],r.splice(1,1),"\\"!==l.substr(l.length-1)&&(r[1]=(r[1]||"").replace(c,""),i=g.find[s](r,t,n),null!=i))){e=e.replace(g.match[s],"");break}return i||(i="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName("*"):[]),{set:i,expr:e}},f.filter=function(e,n,i,o){for(var a,r,s,l,c,u,d,p,h,_=e,m=[],b=n,v=n&&n[0]&&f.isXML(n[0]);e&&n.length;){for(s in g.filter)if(null!=(a=g.leftMatch[s].exec(e))&&a[2]){if(u=g.filter[s],d=a[1],r=!1,a.splice(1,1),"\\"===d.substr(d.length-1))continue;if(b===m&&(m=[]),g.preFilter[s])if(a=g.preFilter[s](a,b,i,m,o,v)){if(a===!0)continue}else r=l=!0;if(a)for(p=0;null!=(c=b[p]);p++)c&&(l=u(c,a,p,b),h=o^l,i&&null!=l?h?r=!0:b[p]=!1:h&&(m.push(c),r=!0));if(l!==t){if(i||(b=m),e=e.replace(g.match[s],""),!r)return[];break}}if(e===_){if(null!=r)break;f.error(e)}_=e}return b},f.error=function(e){throw"Syntax error, unrecognized expression: "+e};var p=f.getText=function(e){var t,n,i=e.nodeType,o="";if(i){if(1===i){if("string"==typeof e.textContent)return e.textContent;if("string"==typeof e.innerText)return e.innerText.replace(u,"");for(e=e.firstChild;e;e=e.nextSibling)o+=p(e)}else if(3===i||4===i)return e.nodeValue}else for(t=0;n=e[t];t++)8!==n.nodeType&&(o+=p(n));return o},g=f.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(e){return e.getAttribute("href")},type:function(e){return e.getAttribute("type")}},relative:{"+":function(e,t){var n="string"==typeof t,i=n&&!d.test(t),o=n&&!i;i&&(t=t.toLowerCase());for(var a=0,r=e.length,s;r>a;a++)if(s=e[a]){for(;(s=s.previousSibling)&&1!==s.nodeType;);e[a]=o||s&&s.nodeName.toLowerCase()===t?s||!1:s===t}o&&f.filter(t,e,!0)},">":function(e,t){var n,i="string"==typeof t,o=0,a=e.length;if(i&&!d.test(t)){for(t=t.toLowerCase();a>o;o++)if(n=e[o]){var r=n.parentNode;e[o]=r.nodeName.toLowerCase()===t?r:!1}}else{for(;a>o;o++)n=e[o],n&&(e[o]=i?n.parentNode:n.parentNode===t);i&&f.filter(t,e,!0)}},"":function(t,i,o){var r,s=a++,l=n;"string"!=typeof i||d.test(i)||(i=i.toLowerCase(),r=i,l=e),l("parentNode",i,s,t,r,o)},"~":function(t,i,o){var r,s=a++,l=n;"string"!=typeof i||d.test(i)||(i=i.toLowerCase(),r=i,l=e),l("previousSibling",i,s,t,r,o)}},find:{ID:function(e,t,n){if("undefined"!=typeof t.getElementById&&!n){var i=t.getElementById(e[1]);return i&&i.parentNode?[i]:[]}},NAME:function(e,t){if("undefined"!=typeof t.getElementsByName){for(var n=[],i=t.getElementsByName(e[1]),o=0,a=i.length;a>o;o++)i[o].getAttribute("name")===e[1]&&n.push(i[o]);return 0===n.length?null:n}},TAG:function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e[1]):void 0}},preFilter:{CLASS:function(e,t,n,i,o,a){if(e=" "+e[1].replace(c,"")+" ",a)return e;for(var r=0,s;null!=(s=t[r]);r++)s&&(o^(s.className&&(" "+s.className+" ").replace(/[\t\n\r]/g," ").indexOf(e)>=0)?n||i.push(s):n&&(t[r]=!1));return!1},ID:function(e){return e[1].replace(c,"")},TAG:function(e,t){return e[1].replace(c,"").toLowerCase()},CHILD:function(e){if("nth"===e[1]){e[2]||f.error(e[0]),e[2]=e[2].replace(/^\+|\s*/g,"");var t=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec("even"===e[2]&&"2n"||"odd"===e[2]&&"2n+1"||!/\D/.test(e[2])&&"0n+"+e[2]||e[2]);e[2]=t[1]+(t[2]||1)-0,e[3]=t[3]-0}else e[2]&&f.error(e[0]);return e[0]=a++,e},ATTR:function(e,t,n,i,o,a){var r=e[1]=e[1].replace(c,"");return!a&&g.attrMap[r]&&(e[1]=g.attrMap[r]),e[4]=(e[4]||e[5]||"").replace(c,""),"~="===e[2]&&(e[4]=" "+e[4]+" "),e},PSEUDO:function(e,t,n,o,a){if("not"===e[1]){if(!((i.exec(e[3])||"").length>1||/^\w/.test(e[3]))){var r=f.filter(e[3],t,n,!0^a);return n||o.push.apply(o,r),!1}e[3]=f(e[3],null,null,t)}else if(g.match.POS.test(e[0])||g.match.CHILD.test(e[0]))return!0;return e},POS:function(e){return e.unshift(!0),e}},filters:{enabled:function(e){return e.disabled===!1&&"hidden"!==e.type},disabled:function(e){return e.disabled===!0},checked:function(e){return e.checked===!0},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!!e.firstChild},empty:function(e){return!e.firstChild},has:function(e,t,n){return!!f(n[3],e).length},header:function(e){return/h\d/i.test(e.nodeName)},text:function(e){var t=e.getAttribute("type"),n=e.type;return"input"===e.nodeName.toLowerCase()&&"text"===n&&(t===n||null===t)},radio:function(e){return"input"===e.nodeName.toLowerCase()&&"radio"===e.type},checkbox:function(e){return"input"===e.nodeName.toLowerCase()&&"checkbox"===e.type},file:function(e){return"input"===e.nodeName.toLowerCase()&&"file"===e.type},password:function(e){return"input"===e.nodeName.toLowerCase()&&"password"===e.type},submit:function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&"submit"===e.type},image:function(e){return"input"===e.nodeName.toLowerCase()&&"image"===e.type},reset:function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&"reset"===e.type},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},input:function(e){return/input|select|textarea|button/i.test(e.nodeName)},focus:function(e){return e===e.ownerDocument.activeElement}},setFilters:{first:function(e,t){return 0===t},last:function(e,t,n,i){return t===i.length-1},even:function(e,t){return t%2===0},odd:function(e,t){return t%2===1},lt:function(e,t,n){return t<n[3]-0},gt:function(e,t,n){return t>n[3]-0},nth:function(e,t,n){return n[3]-0===t},eq:function(e,t,n){return n[3]-0===t}},filter:{PSEUDO:function(e,t,n,i){var o=t[1],a=g.filters[o];if(a)return a(e,n,t,i);if("contains"===o)return(e.textContent||e.innerText||p([e])||"").indexOf(t[3])>=0;if("not"===o){for(var r=t[3],s=0,l=r.length;l>s;s++)if(r[s]===e)return!1;return!0}f.error(o)},CHILD:function(e,t){var n,i,a,r,s,l,c,u=t[1],d=e;switch(u){case"only":case"first":for(;d=d.previousSibling;)if(1===d.nodeType)return!1;if("first"===u)return!0;d=e;case"last":for(;d=d.nextSibling;)if(1===d.nodeType)return!1;return!0;case"nth":if(n=t[2],i=t[3],1===n&&0===i)return!0;if(a=t[0],r=e.parentNode,r&&(r[o]!==a||!e.nodeIndex)){for(l=0,d=r.firstChild;d;d=d.nextSibling)1===d.nodeType&&(d.nodeIndex=++l);r[o]=a}return c=e.nodeIndex-i,0===n?0===c:c%n===0&&c/n>=0}},ID:function(e,t){return 1===e.nodeType&&e.getAttribute("id")===t},TAG:function(e,t){return"*"===t&&1===e.nodeType||!!e.nodeName&&e.nodeName.toLowerCase()===t},CLASS:function(e,t){return(" "+(e.className||e.getAttribute("class"))+" ").indexOf(t)>-1},ATTR:function(e,t){var n=t[1],i=f.attr?f.attr(e,n):g.attrHandle[n]?g.attrHandle[n](e):null!=e[n]?e[n]:e.getAttribute(n),o=i+"",a=t[2],r=t[4];return null==i?"!="===a:!a&&f.attr?null!=i:"="===a?o===r:"*="===a?o.indexOf(r)>=0:"~="===a?(" "+o+" ").indexOf(r)>=0:r?"!="===a?o!==r:"^="===a?0===o.indexOf(r):"$="===a?o.substr(o.length-r.length)===r:"|="===a?o===r||o.substr(0,r.length+1)===r+"-":!1:o&&i!==!1},POS:function(e,t,n,i){var o=t[2],a=g.setFilters[o];return a?a(e,n,t,i):void 0}}},h=g.match.POS,_=function(e,t){return"\\"+(t-0+1)};for(var m in g.match)g.match[m]=new RegExp(g.match[m].source+/(?![^\[]*\])(?![^\(]*\))/.source),g.leftMatch[m]=new RegExp(/(^(?:.|\r|\n)*?)/.source+g.match[m].source.replace(/\\(\d+)/g,_));var b=function(e,t){return e=Array.prototype.slice.call(e,0),t?(t.push.apply(t,e),t):e};try{Array.prototype.slice.call(A.documentElement.childNodes,0)[0].nodeType}catch(v){b=function(e,t){var n=0,i=t||[];if("[object Array]"===r.call(e))Array.prototype.push.apply(i,e);else if("number"==typeof e.length)for(var o=e.length;o>n;n++)i.push(e[n]);else for(;e[n];n++)i.push(e[n]);return i}}var x,w;A.documentElement.compareDocumentPosition?x=function(e,t){return e===t?(s=!0,0):e.compareDocumentPosition&&t.compareDocumentPosition?4&e.compareDocumentPosition(t)?-1:1:e.compareDocumentPosition?-1:1}:(x=function(e,t){if(e===t)return s=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var n,i,o=[],a=[],r=e.parentNode,l=t.parentNode,c=r;if(r===l)return w(e,t);if(!r)return-1;if(!l)return 1;for(;c;)o.unshift(c),c=c.parentNode;for(c=l;c;)a.unshift(c),c=c.parentNode;n=o.length,i=a.length;for(var u=0;n>u&&i>u;u++)if(o[u]!==a[u])return w(o[u],a[u]);return u===n?w(e,a[u],-1):w(o[u],t,1)},w=function(e,t,n){if(e===t)return n;for(var i=e.nextSibling;i;){if(i===t)return-1;i=i.nextSibling}return 1}),function(){var e=A.createElement("div"),n="script"+(new Date).getTime(),i=A.documentElement;e.innerHTML="<a name='"+n+"'/>",i.insertBefore(e,i.firstChild),A.getElementById(n)&&(g.find.ID=function(e,n,i){if("undefined"!=typeof n.getElementById&&!i){var o=n.getElementById(e[1]);return o?o.id===e[1]||"undefined"!=typeof o.getAttributeNode&&o.getAttributeNode("id").nodeValue===e[1]?[o]:t:[]}},g.filter.ID=function(e,t){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return 1===e.nodeType&&n&&n.nodeValue===t}),i.removeChild(e),i=e=null}(),function(){var e=A.createElement("div");e.appendChild(A.createComment("")),e.getElementsByTagName("*").length>0&&(g.find.TAG=function(e,t){var n=t.getElementsByTagName(e[1]);if("*"===e[1]){for(var i=[],o=0;n[o];o++)1===n[o].nodeType&&i.push(n[o]);n=i}return n}),e.innerHTML="<a href='#'></a>",e.firstChild&&"undefined"!=typeof e.firstChild.getAttribute&&"#"!==e.firstChild.getAttribute("href")&&(g.attrHandle.href=function(e){return e.getAttribute("href",2)}),e=null}(),A.querySelectorAll&&!function(){var e=f,t=A.createElement("div"),n="__sizzle__";if(t.innerHTML="<p class='TEST'></p>",!t.querySelectorAll||0!==t.querySelectorAll(".TEST").length){f=function(t,i,o,a){if(i=i||A,!a&&!f.isXML(i)){var r=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(t);if(r&&(1===i.nodeType||9===i.nodeType)){if(r[1])return b(i.getElementsByTagName(t),o);if(r[2]&&g.find.CLASS&&i.getElementsByClassName)return b(i.getElementsByClassName(r[2]),o)}if(9===i.nodeType){if("body"===t&&i.body)return b([i.body],o);if(r&&r[3]){var s=i.getElementById(r[3]);if(!s||!s.parentNode)return b([],o);if(s.id===r[3])return b([s],o)}try{return b(i.querySelectorAll(t),o)}catch(l){}}else if(1===i.nodeType&&"object"!==i.nodeName.toLowerCase()){var c=i,u=i.getAttribute("id"),d=u||n,p=i.parentNode,h=/^\s*[+~]/.test(t);u?d=d.replace(/'/g,"\\$&"):i.setAttribute("id",d),h&&p&&(i=i.parentNode);try{if(!h||p)return b(i.querySelectorAll("[id='"+d+"'] "+t),o)}catch(_){}finally{u||c.removeAttribute("id")}}}return e(t,i,o,a)};for(var i in e)f[i]=e[i];t=null}}(),function(){var e=A.documentElement,t=e.matchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.msMatchesSelector;if(t){var n=!t.call(A.createElement("div"),"div"),i=!1;try{t.call(A.documentElement,"[test!='']:sizzle")}catch(o){i=!0}f.matchesSelector=function(e,o){if(o=o.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']"),!f.isXML(e))try{if(i||!g.match.PSEUDO.test(o)&&!/!=/.test(o)){var a=t.call(e,o);if(a||!n||e.document&&11!==e.document.nodeType)return a}}catch(r){}return f(o,null,null,[e]).length>0}}}(),function(){var e=A.createElement("div");e.innerHTML="<div class='test e'></div><div class='test'></div>",e.getElementsByClassName&&0!==e.getElementsByClassName("e").length&&(e.lastChild.className="e",1!==e.getElementsByClassName("e").length&&(g.order.splice(1,0,"CLASS"),g.find.CLASS=function(e,t,n){return"undefined"==typeof t.getElementsByClassName||n?void 0:t.getElementsByClassName(e[1])},e=null))}(),f.contains=A.documentElement.contains?function(e,t){return e!==t&&(e.contains?e.contains(t):!0)}:A.documentElement.compareDocumentPosition?function(e,t){return!!(16&e.compareDocumentPosition(t))}:function(){return!1},f.isXML=function(e){var t=(e?e.ownerDocument||e:0).documentElement;return t?"HTML"!==t.nodeName:!1};var y=function(e,t,n){for(var i,o=[],a="",r=t.nodeType?[t]:t;i=g.match.PSEUDO.exec(e);)a+=i[0],e=e.replace(g.match.PSEUDO,"");e=g.relative[e]?e+"*":e;for(var s=0,l=r.length;l>s;s++)f(e,r[s],o,n);return f.filter(a,o)};f.attr=M.attr,f.selectors.attrMap={},M.find=f,M.expr=f.selectors,M.expr[":"]=M.expr.filters,M.unique=f.uniqueSort,M.text=f.getText,M.isXMLDoc=f.isXML,M.contains=f.contains}();var at=/Until$/,rt=/^(?:parents|prevUntil|prevAll)/,st=/,/,lt=/^.[^:#\[\.,]*$/,ct=Array.prototype.slice,ut=M.expr.match.POS,dt={children:!0,contents:!0,next:!0,prev:!0};M.fn.extend({find:function(e){var t=this,n,i;if("string"!=typeof e)return M(e).filter(function(){for(n=0,i=t.length;i>n;n++)if(M.contains(t[n],this))return!0});var o=this.pushStack("","find",e),a,r,s;for(n=0,i=this.length;i>n;n++)if(a=o.length,M.find(e,this[n],o),n>0)for(r=a;r<o.length;r++)for(s=0;a>s;s++)if(o[s]===o[r]){o.splice(r--,1);break}return o},has:function(e){var t=M(e);return this.filter(function(){for(var e=0,n=t.length;n>e;e++)if(M.contains(this,t[e]))return!0})},not:function(e){return this.pushStack(c(this,e,!1),"not",e)},filter:function(e){return this.pushStack(c(this,e,!0),"filter",e)},is:function(e){return!!e&&("string"==typeof e?ut.test(e)?M(e,this.context).index(this[0])>=0:M.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){var n=[],i,o,a=this[0];if(M.isArray(e)){for(var r=1;a&&a.ownerDocument&&a!==t;){for(i=0;i<e.length;i++)M(a).is(e[i])&&n.push({selector:e[i],elem:a,level:r});a=a.parentNode,r++}return n}var s=ut.test(e)||"string"!=typeof e?M(e,t||this.context):0;for(i=0,o=this.length;o>i;i++)for(a=this[i];a;){if(s?s.index(a)>-1:M.find.matchesSelector(a,e)){n.push(a);break}if(a=a.parentNode,!a||!a.ownerDocument||a===t||11===a.nodeType)break}return n=n.length>1?M.unique(n):n,this.pushStack(n,"closest",e)},index:function(e){return e?"string"==typeof e?M.inArray(this[0],M(e)):M.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var n="string"==typeof e?M(e,t):M.makeArray(e&&e.nodeType?[e]:e),i=M.merge(this.get(),n);return this.pushStack(l(n[0])||l(i[0])?i:M.unique(i))},andSelf:function(){return this.add(this.prevObject)}}),M.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return M.dir(e,"parentNode")},parentsUntil:function(e,t,n){return M.dir(e,"parentNode",n)},next:function(e){return M.nth(e,2,"nextSibling")},prev:function(e){return M.nth(e,2,"previousSibling")},nextAll:function(e){return M.dir(e,"nextSibling")},prevAll:function(e){return M.dir(e,"previousSibling")},nextUntil:function(e,t,n){return M.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return M.dir(e,"previousSibling",n)},siblings:function(e){return M.sibling(e.parentNode.firstChild,e)},children:function(e){return M.sibling(e.firstChild)},contents:function(e){return M.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:M.makeArray(e.childNodes)}},function(e,t){M.fn[e]=function(n,i){var o=M.map(this,t,n),a=ct.call(arguments);return at.test(e)||(i=n),i&&"string"==typeof i&&(o=M.filter(i,o)),o=this.length>1&&!dt[e]?M.unique(o):o,(this.length>1||st.test(i))&&rt.test(e)&&(o=o.reverse()),this.pushStack(o,e,a.join(","))}}),M.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?M.find.matchesSelector(t[0],e)?[t[0]]:[]:M.find.matches(e,t)},dir:function(e,n,i){for(var o=[],a=e[n];a&&9!==a.nodeType&&(i===t||1!==a.nodeType||!M(a).is(i));)1===a.nodeType&&o.push(a),a=a[n];return o},nth:function(e,t,n,i){t=t||1;for(var o=0;e&&(1!==e.nodeType||++o!==t);e=e[n]);return e},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var ft="abbr article aside audio canvas datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",pt=/ jQuery\d+="(?:\d+|null)"/g,gt=/^\s+/,ht=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,_t=/<([\w:]+)/,mt=/<tbody/i,bt=/<|&#?\w+;/,vt=/<(?:script|style)/i,xt=/<(?:script|object|embed|option|style)/i,wt=new RegExp("<(?:"+ft.replace(" ","|")+")","i"),yt=/checked\s*(?:[^=]|=\s*.checked.)/i,jt=/\/(java|ecma)script/i,Tt=/^\s*<!(?:\[CDATA\[|\-\-)/,Et={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},kt=u(A);Et.optgroup=Et.option,Et.tbody=Et.tfoot=Et.colgroup=Et.caption=Et.thead,Et.th=Et.td,M.support.htmlSerialize||(Et._default=[1,"div<div>","</div>"]),M.fn.extend({text:function(e){return M.isFunction(e)?this.each(function(t){var n=M(this);n.text(e.call(this,t,n.text()))}):"object"!=typeof e&&e!==t?this.empty().append((this[0]&&this[0].ownerDocument||A).createTextNode(e)):M.text(this)},wrapAll:function(e){if(M.isFunction(e))return this.each(function(t){M(this).wrapAll(e.call(this,t))});if(this[0]){var t=M(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(M.isFunction(e)?function(t){M(this).wrapInner(e.call(this,t))}:function(){var t=M(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){return this.each(function(){M(this).wrapAll(e)})},unwrap:function(){return this.parent().each(function(){M.nodeName(this,"body")||M(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){1===this.nodeType&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){1===this.nodeType&&this.insertBefore(e,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=M(arguments[0]);return e.push.apply(e,this.toArray()),this.pushStack(e,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=this.pushStack(this,"after",arguments);return e.push.apply(e,M(arguments[0]).toArray()),e}},remove:function(e,t){for(var n=0,i;null!=(i=this[n]);n++)(!e||M.filter(e,[i]).length)&&(t||1!==i.nodeType||(M.cleanData(i.getElementsByTagName("*")),M.cleanData([i])),i.parentNode&&i.parentNode.removeChild(i));return this},empty:function(){for(var e=0,t;null!=(t=this[e]);e++)for(1===t.nodeType&&M.cleanData(t.getElementsByTagName("*"));t.firstChild;)t.removeChild(t.firstChild);return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return M.clone(this,e,t)})},html:function(e){if(e===t)return this[0]&&1===this[0].nodeType?this[0].innerHTML.replace(pt,""):null;if("string"!=typeof e||vt.test(e)||!M.support.leadingWhitespace&&gt.test(e)||Et[(_t.exec(e)||["",""])[1].toLowerCase()])M.isFunction(e)?this.each(function(t){var n=M(this);n.html(e.call(this,t,n.html()))}):this.empty().append(e);else{e=e.replace(ht,"<$1></$2>");try{for(var n=0,i=this.length;i>n;n++)1===this[n].nodeType&&(M.cleanData(this[n].getElementsByTagName("*")),this[n].innerHTML=e)}catch(o){this.empty().append(e)}}return this},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,i){var o,a,r,s,l=e[0],c=[];if(!M.support.checkClone&&3===arguments.length&&"string"==typeof l&&yt.test(l))return this.each(function(){M(this).domManip(e,n,i,!0)});if(M.isFunction(l))return this.each(function(o){var a=M(this);e[0]=l.call(this,o,n?a.html():t),a.domManip(e,n,i)});if(this[0]){if(s=l&&l.parentNode,o=M.support.parentNode&&s&&11===s.nodeType&&s.childNodes.length===this.length?{fragment:s}:M.buildFragment(e,this,c),r=o.fragment,a=1===r.childNodes.length?r=r.firstChild:r.firstChild){n=n&&M.nodeName(a,"tr");for(var u=0,f=this.length,p=f-1;f>u;u++)i.call(n?d(this[u],a):this[u],o.cacheable||f>1&&p>u?M.clone(r,!0,!0):r)}c.length&&M.each(c,_)}return this}}),M.buildFragment=function(e,t,n){var i,o,a,r,s=e[0];return t&&t[0]&&(r=t[0].ownerDocument||t[0]),r.createDocumentFragment||(r=A),1===e.length&&"string"==typeof s&&s.length<512&&r===A&&"<"===s.charAt(0)&&!xt.test(s)&&(M.support.checkClone||!yt.test(s))&&!M.support.unknownElems&&wt.test(s)&&(o=!0,a=M.fragments[s],a&&1!==a&&(i=a)),i||(i=r.createDocumentFragment(),M.clean(e,r,i,n)),o&&(M.fragments[s]=a?i:1),{fragment:i,cacheable:o}},M.fragments={},M.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){M.fn[e]=function(n){var i=[],o=M(n),a=1===this.length&&this[0].parentNode;if(a&&11===a.nodeType&&1===a.childNodes.length&&1===o.length)return o[t](this[0]),this;for(var r=0,s=o.length;s>r;r++){var l=(r>0?this.clone(!0):this).get();M(o[r])[t](l),i=i.concat(l)}return this.pushStack(i,e,o.selector)}}),M.extend({clean:function(e,t,n,i){var o;t=t||A,"undefined"==typeof t.createElement&&(t=t.ownerDocument||t[0]&&t[0].ownerDocument||A);for(var a=[],r,s=0,l;null!=(l=e[s]);s++)if("number"==typeof l&&(l+=""),l){if("string"==typeof l)if(bt.test(l)){l=l.replace(ht,"<$1></$2>");var c=(_t.exec(l)||["",""])[1].toLowerCase(),d=Et[c]||Et._default,f=d[0],p=t.createElement("div");for(t===A?kt.appendChild(p):u(t).appendChild(p),p.innerHTML=d[1]+l+d[2];f--;)p=p.lastChild;if(!M.support.tbody){var g=mt.test(l),_="table"!==c||g?"<table>"!==d[1]||g?[]:p.childNodes:p.firstChild&&p.firstChild.childNodes;for(r=_.length-1;r>=0;--r)M.nodeName(_[r],"tbody")&&!_[r].childNodes.length&&_[r].parentNode.removeChild(_[r])}!M.support.leadingWhitespace&&gt.test(l)&&p.insertBefore(t.createTextNode(gt.exec(l)[0]),p.firstChild),l=p.childNodes
}else l=t.createTextNode(l);var m;if(!M.support.appendChecked)if(l[0]&&"number"==typeof(m=l.length))for(r=0;m>r;r++)h(l[r]);else h(l);l.nodeType?a.push(l):a=M.merge(a,l)}if(n)for(o=function(e){return!e.type||jt.test(e.type)},s=0;a[s];s++)if(!i||!M.nodeName(a[s],"script")||a[s].type&&"text/javascript"!==a[s].type.toLowerCase()){if(1===a[s].nodeType){var b=M.grep(a[s].getElementsByTagName("script"),o);a.splice.apply(a,[s+1,0].concat(b))}n.appendChild(a[s])}else i.push(a[s].parentNode?a[s].parentNode.removeChild(a[s]):a[s]);return a},cleanData:function(e){for(var t,n,i=M.cache,o=M.event.special,a=M.support.deleteExpando,r=0,s;null!=(s=e[r]);r++)if((!s.nodeName||!M.noData[s.nodeName.toLowerCase()])&&(n=s[M.expando])){if(t=i[n],t&&t.events){for(var l in t.events)o[l]?M.event.remove(s,l):M.removeEvent(s,l,t.handle);t.handle&&(t.handle.elem=null)}a?delete s[M.expando]:s.removeAttribute&&s.removeAttribute(M.expando),delete i[n]}}});var Ct=/alpha\([^)]*\)/i,It=/opacity=([^)]*)/,Ot=/([A-Z]|^ms)/g,Lt=/^-?\d+(?:px)?$/i,At=/^-?\d/,St=/^([\-+])=([\-+.\de]+)/,Nt={position:"absolute",visibility:"hidden",display:"block"},Mt=["Left","Right"],Ut=["Top","Bottom"],Ft,Rt,Pt;M.fn.css=function(e,n){return 2===arguments.length&&n===t?this:M.access(this,e,n,!0,function(e,n,i){return i!==t?M.style(e,n,i):M.css(e,n)})},M.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ft(e,"opacity","opacity");return""===n?"1":n}return e.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":M.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,i,o){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var a,r,s=M.camelCase(n),l=e.style,c=M.cssHooks[s];if(n=M.cssProps[s]||s,i===t)return c&&"get"in c&&(a=c.get(e,!1,o))!==t?a:l[n];if(r=typeof i,"string"===r&&(a=St.exec(i))&&(i=+(a[1]+1)*+a[2]+parseFloat(M.css(e,n)),r="number"),!(null==i||"number"===r&&isNaN(i)||("number"!==r||M.cssNumber[s]||(i+="px"),c&&"set"in c&&(i=c.set(e,i))===t)))try{l[n]=i}catch(u){}}},css:function(e,n,i){var o,a;return n=M.camelCase(n),a=M.cssHooks[n],n=M.cssProps[n]||n,"cssFloat"===n&&(n="float"),a&&"get"in a&&(o=a.get(e,!0,i))!==t?o:Ft?Ft(e,n):void 0},swap:function(e,t,n){var i={};for(var o in t)i[o]=e.style[o],e.style[o]=t[o];n.call(e);for(o in t)e.style[o]=i[o]}}),M.curCSS=M.css,M.each(["height","width"],function(e,t){M.cssHooks[t]={get:function(e,n,i){var o;return n?0!==e.offsetWidth?m(e,t,i):(M.swap(e,Nt,function(){o=m(e,t,i)}),o):void 0},set:function(e,t){return Lt.test(t)?(t=parseFloat(t),t>=0?t+"px":void 0):t}}}),M.support.opacity||(M.cssHooks.opacity={get:function(e,t){return It.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?parseFloat(RegExp.$1)/100+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,o=M.isNumeric(t)?"alpha(opacity="+100*t+")":"",a=i&&i.filter||n.filter||"";n.zoom=1,t>=1&&""===M.trim(a.replace(Ct,""))&&(n.removeAttribute("filter"),i&&!i.filter)||(n.filter=Ct.test(a)?a.replace(Ct,o):a+" "+o)}}),M(function(){M.support.reliableMarginRight||(M.cssHooks.marginRight={get:function(e,t){var n;return M.swap(e,{display:"inline-block"},function(){n=t?Ft(e,"margin-right","marginRight"):e.style.marginRight}),n}})}),A.defaultView&&A.defaultView.getComputedStyle&&(Rt=function(e,n){var i,o,a;return n=n.replace(Ot,"-$1").toLowerCase(),(o=e.ownerDocument.defaultView)?((a=o.getComputedStyle(e,null))&&(i=a.getPropertyValue(n),""!==i||M.contains(e.ownerDocument.documentElement,e)||(i=M.style(e,n))),i):t}),A.documentElement.currentStyle&&(Pt=function(e,t){var n,i,o,a=e.currentStyle&&e.currentStyle[t],r=e.style;return null===a&&r&&(o=r[t])&&(a=o),!Lt.test(a)&&At.test(a)&&(n=r.left,i=e.runtimeStyle&&e.runtimeStyle.left,i&&(e.runtimeStyle.left=e.currentStyle.left),r.left="fontSize"===t?"1em":a||0,a=r.pixelLeft+"px",r.left=n,i&&(e.runtimeStyle.left=i)),""===a?"auto":a}),Ft=Rt||Pt,M.expr&&M.expr.filters&&(M.expr.filters.hidden=function(e){var t=e.offsetWidth,n=e.offsetHeight;return 0===t&&0===n||!M.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||M.css(e,"display"))},M.expr.filters.visible=function(e){return!M.expr.filters.hidden(e)});var Ht=/%20/g,zt=/\[\]$/,Bt=/\r?\n/g,Dt=/#.*$/,Gt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Wt=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,$t=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,Vt=/^(?:GET|HEAD)$/,qt=/^\/\//,Yt=/\?/,Xt=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Qt=/^(?:select|textarea)/i,Kt=/\s+/,Jt=/([?&])_=[^&]*/,Zt=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,en=M.fn.load,tn={},nn={},on,an,rn=["*/"]+["*"];try{on=N.href}catch(sn){on=A.createElement("a"),on.href="",on=on.href}an=Zt.exec(on.toLowerCase())||[],M.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){M.fn[t]=function(e){return this.bind(t,e)}}),M.each(["get","post"],function(e,n){M[n]=function(e,i,o,a){return M.isFunction(i)&&(a=a||o,o=i,i=t),M.ajax({type:n,url:e,data:i,success:o,dataType:a})}}),M.extend({getScript:function(e,n){return M.get(e,t,n,"script")},getJSON:function(e,t,n){return M.get(e,t,n,"json")},ajaxSetup:function(e,t){return t?x(e,M.ajaxSettings):(t=e,e=M.ajaxSettings),x(e,t),e},ajaxSettings:{url:on,isLocal:$t.test(an[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":rn},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":M.parseJSON,"text xml":M.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:b(tn),ajaxTransport:b(nn),ajax:function(e,n){function i(e,n,i,d){if(2!==b){b=2,_&&clearTimeout(_),h=t,p=d||"",T.readyState=e>0?4:0;var f,g,m,v=n,w=i?y(o,T,i):t,E,k;if(e>=200&&300>e||304===e)if(o.ifModified&&((E=T.getResponseHeader("Last-Modified"))&&(M.lastModified[u]=E),(k=T.getResponseHeader("Etag"))&&(M.etag[u]=k)),304===e)v="notmodified",f=!0;else try{g=j(o,w),v="success",f=!0}catch(C){v="parsererror",m=C}else m=v,(!v||e)&&(v="error",0>e&&(e=0));T.status=e,T.statusText=""+(n||v),f?s.resolveWith(a,[g,v,T]):s.rejectWith(a,[T,v,m]),T.statusCode(c),c=t,x&&r.trigger("ajax"+(f?"Success":"Error"),[T,o,f?g:m]),l.fireWith(a,[T,v]),x&&(r.trigger("ajaxComplete",[T,o]),--M.active||M.event.trigger("ajaxStop"))}}"object"==typeof e&&(n=e,e=t),n=n||{};var o=M.ajaxSetup({},n),a=o.context||o,r=a!==o&&(a.nodeType||a instanceof M)?M(a):M.event,s=M.Deferred(),l=M.Callbacks("once memory"),c=o.statusCode||{},u,d={},f={},p,g,h,_,m,b=0,x,w,T={readyState:0,setRequestHeader:function(e,t){if(!b){var n=e.toLowerCase();e=f[n]=f[n]||e,d[e]=t}return this},getAllResponseHeaders:function(){return 2===b?p:null},getResponseHeader:function(e){var n;if(2===b){if(!g)for(g={};n=Gt.exec(p);)g[n[1].toLowerCase()]=n[2];n=g[e.toLowerCase()]}return n===t?null:n},overrideMimeType:function(e){return b||(o.mimeType=e),this},abort:function(e){return e=e||"abort",h&&h.abort(e),i(0,e),this}};if(s.promise(T),T.success=T.done,T.error=T.fail,T.complete=l.add,T.statusCode=function(e){if(e){var t;if(2>b)for(t in e)c[t]=[c[t],e[t]];else t=e[T.status],T.then(t,t)}return this},o.url=((e||o.url)+"").replace(Dt,"").replace(qt,an[1]+"//"),o.dataTypes=M.trim(o.dataType||"*").toLowerCase().split(Kt),null==o.crossDomain&&(m=Zt.exec(o.url.toLowerCase()),o.crossDomain=!(!m||m[1]==an[1]&&m[2]==an[2]&&(m[3]||("http:"===m[1]?80:443))==(an[3]||("http:"===an[1]?80:443)))),o.data&&o.processData&&"string"!=typeof o.data&&(o.data=M.param(o.data,o.traditional)),v(tn,o,n,T),2===b)return!1;if(x=o.global,o.type=o.type.toUpperCase(),o.hasContent=!Vt.test(o.type),x&&0===M.active++&&M.event.trigger("ajaxStart"),!o.hasContent&&(o.data&&(o.url+=(Yt.test(o.url)?"&":"?")+o.data,delete o.data),u=o.url,o.cache===!1)){var E=M.now(),k=o.url.replace(Jt,"$1_="+E);o.url=k+(k===o.url?(Yt.test(o.url)?"&":"?")+"_="+E:"")}(o.data&&o.hasContent&&o.contentType!==!1||n.contentType)&&T.setRequestHeader("Content-Type",o.contentType),o.ifModified&&(u=u||o.url,M.lastModified[u]&&T.setRequestHeader("If-Modified-Since",M.lastModified[u]),M.etag[u]&&T.setRequestHeader("If-None-Match",M.etag[u])),T.setRequestHeader("Accept",o.dataTypes[0]&&o.accepts[o.dataTypes[0]]?o.accepts[o.dataTypes[0]]+("*"!==o.dataTypes[0]?", "+rn+"; q=0.01":""):o.accepts["*"]);for(w in o.headers)T.setRequestHeader(w,o.headers[w]);if(o.beforeSend&&(o.beforeSend.call(a,T,o)===!1||2===b))return T.abort(),!1;for(w in{success:1,error:1,complete:1})T[w](o[w]);if(h=v(nn,o,n,T)){T.readyState=1,x&&r.trigger("ajaxSend",[T,o]),o.async&&o.timeout>0&&(_=setTimeout(function(){T.abort("timeout")},o.timeout));try{b=1,h.send(d,i)}catch(C){2>b?i(-1,C):M.error(C)}}else i(-1,"No Transport");return T},param:function(e,n){var i=[],o=function(e,t){t=M.isFunction(t)?t():t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=M.ajaxSettings.traditional),M.isArray(e)||e.jquery&&!M.isPlainObject(e))M.each(e,function(){o(this.name,this.value)});else for(var a in e)w(a,e[a],n,o);return i.join("&").replace(Ht,"+")}}),M.extend({active:0,lastModified:{},etag:{}});var ln=M.now(),cn=/(\=)\?(&|$)|\?\?/i;M.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return M.expando+"_"+ln++}}),M.ajaxPrefilter("json jsonp",function(t,n,i){var o="application/x-www-form-urlencoded"===t.contentType&&"string"==typeof t.data;if("jsonp"===t.dataTypes[0]||t.jsonp!==!1&&(cn.test(t.url)||o&&cn.test(t.data))){var a,r=t.jsonpCallback=M.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s=e[r],l=t.url,c=t.data,u="$1"+r+"$2";return t.jsonp!==!1&&(l=l.replace(cn,u),t.url===l&&(o&&(c=c.replace(cn,u)),t.data===c&&(l+=(/\?/.test(l)?"&":"?")+t.jsonp+"="+r))),t.url=l,t.data=c,e[r]=function(e){a=[e]},i.always(function(){e[r]=s,a&&M.isFunction(s)&&e[r](a[0])}),t.converters["script json"]=function(){return a||M.error(r+" was not called"),a[0]},t.dataTypes[0]="json","script"}}),M.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return M.globalEval(e),e}}}),M.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),M.ajaxTransport("script",function(e){if(e.crossDomain){var n,i=A.head||A.getElementsByTagName("head")[0]||A.documentElement;return{send:function(o,a){n=A.createElement("script"),n.async="async",e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,o){(o||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,i&&n.parentNode&&i.removeChild(n),n=t,o||a(200,"success"))},i.insertBefore(n,i.firstChild)},abort:function(){n&&n.onload(0,1)}}}});var un=e.ActiveXObject?function(){for(var e in fn)fn[e](0,1)}:!1,dn=0,fn;M.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&T()||E()}:T,function(e){M.extend(M.support,{ajax:!!e,cors:!!e&&"withCredentials"in e})}(M.ajaxSettings.xhr()),M.support.ajax&&M.ajaxTransport(function(n){if(!n.crossDomain||M.support.cors){var i;return{send:function(o,a){var r=n.xhr(),s,l;if(n.username?r.open(n.type,n.url,n.async,n.username,n.password):r.open(n.type,n.url,n.async),n.xhrFields)for(l in n.xhrFields)r[l]=n.xhrFields[l];n.mimeType&&r.overrideMimeType&&r.overrideMimeType(n.mimeType),n.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest");try{for(l in o)r.setRequestHeader(l,o[l])}catch(c){}r.send(n.hasContent&&n.data||null),i=function(e,o){var l,c,u,d,f;try{if(i&&(o||4===r.readyState))if(i=t,s&&(r.onreadystatechange=M.noop,un&&delete fn[s]),o)4!==r.readyState&&r.abort();else{l=r.status,u=r.getAllResponseHeaders(),d={},f=r.responseXML,f&&f.documentElement&&(d.xml=f),d.text=r.responseText;try{c=r.statusText}catch(p){c=""}l||!n.isLocal||n.crossDomain?1223===l&&(l=204):l=d.text?200:404}}catch(g){o||a(-1,g)}d&&a(l,c,d,u)},n.async&&4!==r.readyState?(s=++dn,un&&(fn||(fn={},M(e).unload(un)),fn[s]=i),r.onreadystatechange=i):i()},abort:function(){i&&i(0,1)}}}});var pn={},gn,hn,_n=/^(?:toggle|show|hide)$/,mn=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,bn,vn=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],xn;M.fn.extend({show:function(e,t,n){var i,o;if(e||0===e)return this.animate(I("show",3),e,t,n);for(var a=0,r=this.length;r>a;a++)i=this[a],i.style&&(o=i.style.display,M._data(i,"olddisplay")||"none"!==o||(o=i.style.display=""),""===o&&"none"===M.css(i,"display")&&M._data(i,"olddisplay",O(i.nodeName)));for(a=0;r>a;a++)i=this[a],i.style&&(o=i.style.display,(""===o||"none"===o)&&(i.style.display=M._data(i,"olddisplay")||""));return this},hide:function(e,t,n){if(e||0===e)return this.animate(I("hide",3),e,t,n);for(var i,o,a=0,r=this.length;r>a;a++)i=this[a],i.style&&(o=M.css(i,"display"),"none"===o||M._data(i,"olddisplay")||M._data(i,"olddisplay",o));for(a=0;r>a;a++)this[a].style&&(this[a].style.display="none");return this},_toggle:M.fn.toggle,fadeTo:function(e,t,n,i){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){function o(){a.queue===!1&&M._mark(this);var t=M.extend({},a),n=1===this.nodeType,i=n&&M(this).is(":hidden"),o,r,s,l,c,u,d,f,p;t.animatedProperties={};for(s in e){if(o=M.camelCase(s),s!==o&&(e[o]=e[s],delete e[s]),r=e[o],M.isArray(r)?(t.animatedProperties[o]=r[1],r=e[o]=r[0]):t.animatedProperties[o]=t.specialEasing&&t.specialEasing[o]||t.easing||"swing","hide"===r&&i||"show"===r&&!i)return t.complete.call(this);!n||"height"!==o&&"width"!==o||(t.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],"inline"===M.css(this,"display")&&"none"===M.css(this,"float")&&(M.support.inlineBlockNeedsLayout&&"inline"!==O(this.nodeName)?this.style.zoom=1:this.style.display="inline-block"))}null!=t.overflow&&(this.style.overflow="hidden");for(s in e)l=new M.fx(this,t,s),r=e[s],_n.test(r)?(p=M._data(this,"toggle"+s)||("toggle"===r?i?"show":"hide":0),p?(M._data(this,"toggle"+s,"show"===p?"hide":"show"),l[p]()):l[r]()):(c=mn.exec(r),u=l.cur(),c?(d=parseFloat(c[2]),f=c[3]||(M.cssNumber[s]?"":"px"),"px"!==f&&(M.style(this,s,(d||1)+f),u=(d||1)/l.cur()*u,M.style(this,s,u+f)),c[1]&&(d=("-="===c[1]?-1:1)*d+u),l.custom(u,d,f)):l.custom(u,r,""));return!0}var a=M.speed(t,n,i);return M.isEmptyObject(e)?this.each(a.complete,[!1]):(e=M.extend({},e),a.queue===!1?this.each(o):this.queue(a.queue,o))},stop:function(e,n,i){return"string"!=typeof e&&(i=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){function t(e,t,n){var o=t[n];M.removeData(e,n,!0),o.stop(i)}var n,o=!1,a=M.timers,r=M._data(this);if(i||M._unmark(!0,this),null==e)for(n in r)r[n].stop&&n.indexOf(".run")===n.length-4&&t(this,r,n);else r[n=e+".run"]&&r[n].stop&&t(this,r,n);for(n=a.length;n--;)a[n].elem!==this||null!=e&&a[n].queue!==e||(i?a[n](!0):a[n].saveState(),o=!0,a.splice(n,1));i&&o||M.dequeue(this,e)})}}),M.each({slideDown:I("show",1),slideUp:I("hide",1),slideToggle:I("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){M.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),M.extend({speed:function(e,t,n){var i=e&&"object"==typeof e?M.extend({},e):{complete:n||!n&&t||M.isFunction(e)&&e,duration:e,easing:n&&t||t&&!M.isFunction(t)&&t};return i.duration=M.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in M.fx.speeds?M.fx.speeds[i.duration]:M.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(e){M.isFunction(i.old)&&i.old.call(this),i.queue?M.dequeue(this,i.queue):e!==!1&&M._unmark(this)},i},easing:{linear:function(e,t,n,i){return n+i*e},swing:function(e,t,n,i){return(-Math.cos(e*Math.PI)/2+.5)*i+n}},timers:[],fx:function(e,t,n){this.options=t,this.elem=e,this.prop=n,t.orig=t.orig||{}}}),M.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(M.fx.step[this.prop]||M.fx.step._default)(this)},cur:function(){if(null!=this.elem[this.prop]&&(!this.elem.style||null==this.elem.style[this.prop]))return this.elem[this.prop];var e,t=M.css(this.elem,this.prop);return isNaN(e=parseFloat(t))?t&&"auto"!==t?t:0:e},custom:function(e,n,i){function o(e){return a.step(e)}var a=this,r=M.fx;this.startTime=xn||k(),this.end=n,this.now=this.start=e,this.pos=this.state=0,this.unit=i||this.unit||(M.cssNumber[this.prop]?"":"px"),o.queue=this.options.queue,o.elem=this.elem,o.saveState=function(){a.options.hide&&M._data(a.elem,"fxshow"+a.prop)===t&&M._data(a.elem,"fxshow"+a.prop,a.start)},o()&&M.timers.push(o)&&!bn&&(bn=setInterval(r.tick,r.interval))},show:function(){var e=M._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=e||M.style(this.elem,this.prop),this.options.show=!0,e!==t?this.custom(this.cur(),e):this.custom("width"===this.prop||"height"===this.prop?1:0,this.cur()),M(this.elem).show()},hide:function(){this.options.orig[this.prop]=M._data(this.elem,"fxshow"+this.prop)||M.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(e){var t,n,i,o=xn||k(),a=!0,r=this.elem,s=this.options;if(e||o>=s.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),s.animatedProperties[this.prop]=!0;for(t in s.animatedProperties)s.animatedProperties[t]!==!0&&(a=!1);if(a){if(null==s.overflow||M.support.shrinkWrapBlocks||M.each(["","X","Y"],function(e,t){r.style["overflow"+t]=s.overflow[e]}),s.hide&&M(r).hide(),s.hide||s.show)for(t in s.animatedProperties)M.style(r,t,s.orig[t]),M.removeData(r,"fxshow"+t,!0),M.removeData(r,"toggle"+t,!0);i=s.complete,i&&(s.complete=!1,i.call(r))}return!1}return 1/0==s.duration?this.now=o:(n=o-this.startTime,this.state=n/s.duration,this.pos=juicebox_lib.jQuery.easing[s.animatedProperties[this.prop]](this.state,n,0,1,s.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update(),!0}},M.extend(M.fx,{tick:function(){for(var e,t=M.timers,n=0;n<t.length;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||M.fx.stop()},interval:13,stop:function(){clearInterval(bn),bn=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(e){M.style(e.elem,"opacity",e.now)},_default:function(e){e.elem.style&&null!=e.elem.style[e.prop]?e.elem.style[e.prop]=e.now+e.unit:e.elem[e.prop]=e.now}}}),M.each(["width","height"],function(e,t){M.fx.step[t]=function(e){M.style(e.elem,t,Math.max(0,e.now))}}),M.expr&&M.expr.filters&&(M.expr.filters.animated=function(e){return M.grep(M.timers,function(t){return e===t.elem}).length});var wn=/^t(?:able|d|h)$/i,yn=/^(?:body|html)$/i;M.fn.offset="getBoundingClientRect"in A.documentElement?function(e){var t=this[0],n;if(e)return this.each(function(t){M.offset.setOffset(this,e,t)});if(!t||!t.ownerDocument)return null;if(t===t.ownerDocument.body)return M.offset.bodyOffset(t);try{n=t.getBoundingClientRect()}catch(i){}var o=t.ownerDocument,a=o.documentElement;if(!n||!M.contains(a,t))return n?{top:n.top,left:n.left}:{top:0,left:0};var r=o.body,s=L(o),l=a.clientTop||r.clientTop||0,c=a.clientLeft||r.clientLeft||0,u=s.pageYOffset||M.support.boxModel&&a.scrollTop||r.scrollTop,d=s.pageXOffset||M.support.boxModel&&a.scrollLeft||r.scrollLeft,f=n.top+u-l,p=n.left+d-c;return{top:f,left:p}}:function(e){var t=this[0];if(e)return this.each(function(t){M.offset.setOffset(this,e,t)});if(!t||!t.ownerDocument)return null;if(t===t.ownerDocument.body)return M.offset.bodyOffset(t);for(var n,i=t.offsetParent,o=t,a=t.ownerDocument,r=a.documentElement,s=a.body,l=a.defaultView,c=l?l.getComputedStyle(t,null):t.currentStyle,u=t.offsetTop,d=t.offsetLeft;(t=t.parentNode)&&t!==s&&t!==r&&(!M.support.fixedPosition||"fixed"!==c.position);)n=l?l.getComputedStyle(t,null):t.currentStyle,u-=t.scrollTop,d-=t.scrollLeft,t===i&&(u+=t.offsetTop,d+=t.offsetLeft,!M.support.doesNotAddBorder||M.support.doesAddBorderForTableAndCells&&wn.test(t.nodeName)||(u+=parseFloat(n.borderTopWidth)||0,d+=parseFloat(n.borderLeftWidth)||0),o=i,i=t.offsetParent),M.support.subtractsBorderForOverflowNotVisible&&"visible"!==n.overflow&&(u+=parseFloat(n.borderTopWidth)||0,d+=parseFloat(n.borderLeftWidth)||0),c=n;return("relative"===c.position||"static"===c.position)&&(u+=s.offsetTop,d+=s.offsetLeft),M.support.fixedPosition&&"fixed"===c.position&&(u+=Math.max(r.scrollTop,s.scrollTop),d+=Math.max(r.scrollLeft,s.scrollLeft)),{top:u,left:d}},M.offset={bodyOffset:function(e){var t=e.offsetTop,n=e.offsetLeft;return M.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(M.css(e,"marginTop"))||0,n+=parseFloat(M.css(e,"marginLeft"))||0),{top:t,left:n}},setOffset:function(e,t,n){var i=M.css(e,"position");"static"===i&&(e.style.position="relative");var o=M(e),a=o.offset(),r=M.css(e,"top"),s=M.css(e,"left"),l=("absolute"===i||"fixed"===i)&&M.inArray("auto",[r,s])>-1,c={},u={},d,f;l?(u=o.position(),d=u.top,f=u.left):(d=parseFloat(r)||0,f=parseFloat(s)||0),M.isFunction(t)&&(t=t.call(e,n,a)),null!=t.top&&(c.top=t.top-a.top+d),null!=t.left&&(c.left=t.left-a.left+f),"using"in t?t.using.call(e,c):o.css(c)}},M.fn.extend({position:function(){if(!this[0])return null;var e=this[0],t=this.offsetParent(),n=this.offset(),i=yn.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(M.css(e,"marginTop"))||0,n.left-=parseFloat(M.css(e,"marginLeft"))||0,i.top+=parseFloat(M.css(t[0],"borderTopWidth"))||0,i.left+=parseFloat(M.css(t[0],"borderLeftWidth"))||0,{top:n.top-i.top,left:n.left-i.left}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||A.body;e&&!yn.test(e.nodeName)&&"static"===M.css(e,"position");)e=e.offsetParent;return e})}}),M.each(["Left","Top"],function(e,n){var i="scroll"+n;M.fn[i]=function(n){var o,a;return n===t?(o=this[0])?(a=L(o),a?"pageXOffset"in a?a[e?"pageYOffset":"pageXOffset"]:M.support.boxModel&&a.document.documentElement[i]||a.document.body[i]:o[i]):null:this.each(function(){a=L(this),a?a.scrollTo(e?M(a).scrollLeft():n,e?n:M(a).scrollTop()):this[i]=n})}}),M.each(["Height","Width"],function(e,n){var i=n.toLowerCase();M.fn["inner"+n]=function(){var e=this[0];return e?e.style?parseFloat(M.css(e,i,"padding")):this[i]():null},M.fn["outer"+n]=function(e){var t=this[0];return t?t.style?parseFloat(M.css(t,i,e?"margin":"border")):this[i]():null},M.fn[i]=function(e){var o=this[0];if(!o)return null==e?null:this;if(M.isFunction(e))return this.each(function(t){var n=M(this);n[i](e.call(this,t,n[i]()))});if(M.isWindow(o)){var a=o.document.documentElement["client"+n],r=o.document.body;return"CSS1Compat"===o.document.compatMode&&a||r&&r["client"+n]||a}if(9===o.nodeType)return Math.max(o.documentElement["client"+n],o.body["scroll"+n],o.documentElement["scroll"+n],o.body["offset"+n],o.documentElement["offset"+n]);if(e===t){var s=M.css(o,i),l=parseFloat(s);return M.isNumeric(l)?l:s}return this.css(i,"string"==typeof e?e:e+"px")}}),juicebox_lib.jQuery=juicebox_lib.$=M}(window),"undefined"==typeof jQuery&&(window.jQuery=juicebox_lib.jQuery),"undefined"==typeof $&&(window.$=juicebox_lib.jQuery),function(e,t,n){function i(e,t,n,i){var o=h.exec(t),a="auto"===e.css(n)?0:e.css(n),r="string"==typeof a?c(a):a,s="string"==typeof t?c(t):t,l=i===!0?0:r,u=e.is(":hidden"),d=e.translation();if("left"==n&&(l=parseInt(r,10)+d.x),"right"==n&&(l=parseInt(r,10)+d.x),"top"==n&&(l=parseInt(r,10)+d.y),"bottom"==n&&(l=parseInt(r,10)+d.y),o||"show"!=t?o||"hide"!=t||(l=0):(l=1,u&&e.css({display:"block",opacity:0})),o){var f=parseFloat(o[2]);return o[1]&&(f=("-="===o[1]?-1:1)*f+parseInt(l,10)),f}return l}function o(e,t,n){return(n===!0||1==w&&0!=n)&&C?"translate3d("+e+"px,"+t+"px,0)":"translate("+e+"px,"+t+"px)"}function a(t,n,i,o,a,s,u,d){var p=t.data(b)?l(t.data(b))?e.extend(!0,{},m):t.data(b):e.extend(!0,{},m),g=a,h=e.inArray(n,f)>-1;if(h){var _=p.meta,v=c(t.css(n))||0,x=n+"_o";g=a-v,_[n]=g,_[x]="auto"==t.css(n)?0+g:v+g||0,p.meta=_,u&&0===g&&(g=0-_[x],_[n]=g,_[x]=0)}return t.data(b,r(p,n,i,o,g,s,u,d))}function r(e,t,n,i,a,r,s,l){e="undefined"==typeof e?{}:e,e.secondary="undefined"==typeof e.secondary?{}:e.secondary;for(var c=p.length-1;c>=0;c--)"undefined"==typeof e[p[c]+"transition-property"]&&(e[p[c]+"transition-property"]=""),e[p[c]+"transition-property"]+=", "+(r===!0&&s===!0?p[c]+"transform":t),e[p[c]+"transition-duration"]=n+"ms",e[p[c]+"transition-timing-function"]=i,e.secondary[r===!0&&s===!0?p[c]+"transform":t]=r===!0&&s===!0?o(e.meta.left,e.meta.top,l):a;return e}function s(e){for(var t in e)if(!("width"!=t&&"height"!=t||"show"!=e[t]&&"hide"!=e[t]&&"toggle"!=e[t]))return!0;return!1}function l(e){for(var t in e)return!1;return!0}function c(e){return parseFloat(e.replace(/px/i,""))}function u(t,n,i){var o=e.inArray(t,d)>-1;return"width"!=t&&"height"!=t||n!==parseFloat(i.css(t))||(o=!1),o}var d=["top","right","bottom","left","opacity","height","width"],f=["top","right","bottom","left"],p=["","-webkit-","-moz-","-o-"],g=["avoidTransforms","useTranslate3d","leaveTransforms"],h=/^([+-]=)?([\d+-.]+)(.*)$/,_=/([A-Z])/g,m={secondary:{},meta:{top:0,right:0,bottom:0,left:0}},b="jQe",v="cubic-bezier(",x=")",w=!1,y=null,j=document.body||document.documentElement,T=j.style,E=void 0!==T.WebkitTransition?"webkitTransitionEnd":void 0!==T.OTransition?"oTransitionEnd":"transitionend",k=void 0!==T.WebkitTransition||void 0!==T.MozTransition||void 0!==T.OTransition||void 0!==T.transition,C=w="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix;e.expr&&e.expr.filters&&(y=e.expr.filters.animated,e.expr.filters.animated=function(t){return e(t).data("events")&&e(t).data("events")[E]?!0:y.call(this,t)}),e.extend({toggle3DByDefault:function(){w=!w}}),e.fn.translation=function(){if(!this[0])return null;for(var e=this[0],t=window.getComputedStyle(e,null),n={x:0,y:0},i=p.length-1;i>=0;i--){var o=t.getPropertyValue(p[i]+"transform");if(o&&/matrix/i.test(o)){var a=o.replace(/^matrix\(/i,"").split(/, |\)$/g);n={x:parseInt(a[4],10),y:parseInt(a[5],10)};break}}return n},e.fn.animate=function(n,o,r,c){n=n||{};var d=!("undefined"!=typeof n.bottom||"undefined"!=typeof n.right),h=e.speed(o,r,c),_=this,m=0,w=function(){m--,0===m&&"function"==typeof h.complete&&h.complete.apply(_[0],arguments)};return!k||l(n)||s(n)||h.duration<=0||e.fn.animate.defaults.avoidTransforms===!0&&n.avoidTransforms!==!1?t.apply(this,arguments):this[h.queue===!0?"queue":"each"](function(){var o=e(this),r=e.extend({},h),s=function(){for(var e={},t=p.length-1;t>=0;t--)e[p[t]+"transition-property"]="none",e[p[t]+"transition-duration"]="",e[p[t]+"transition-timing-function"]="";if(o.unbind(E),!n.leaveTransforms==!0){var i=o.data(b)||{},a={};for(t=p.length-1;t>=0;t--)a[p[t]+"transform"]="";if(d&&"undefined"!=typeof i.meta)for(var r=0,s;s=f[r];++r)a[s]=i.meta[s+"_o"]+"px";o.css(e).css(a)}"hide"===n.opacity&&o.css("display","none"),o.data(b,null),w.call(o)},c={bounce:v+"0.0, 0.35, .5, 1.3"+x,linear:"linear",swing:"ease-in-out",easeOutQuad:v+"0.250, 0.460, 0.450, 0.940"+x,easeInOutQuad:v+"0.455, 0.030, 0.515, 0.955"+x,easeInOutCirc:v+"0.785, 0.135, 0.150, 0.860"+x},_={},y=c[r.easing||"swing"]?c[r.easing||"swing"]:r.easing||"swing";for(var j in n)if(-1===e.inArray(j,g)){var T=e.inArray(j,f)>-1,k=i(o,n[j],j,T&&n.avoidTransforms!==!0);n.avoidTransforms!==!0&&u(j,k,o)?a(o,j,r.duration,y,T&&n.avoidTransforms===!0?k+"px":k,T&&n.avoidTransforms!==!0,d,n.useTranslate3d===!0):_[j]=n[j]}for(var C=o.data(b)||{},I=p.length-1;I>=0;I--)"undefined"!=typeof C[p[I]+"transition-property"]&&(C[p[I]+"transition-property"]=C[p[I]+"transition-property"].substr(2));if(o.data(b,C).unbind(E),l(o.data(b))||l(o.data(b).secondary))r.queue=!1;else{m++,o.css(o.data(b));var O=o.data(b).secondary;setTimeout(function(){o.bind(E,s).css(O)})}return l(_)||(m++,t.apply(o,[_,{duration:r.duration,easing:e.easing[r.easing]?r.easing:e.easing.swing?"swing":"linear",complete:w,queue:r.queue}])),!0})},e.fn.animate.defaults={},e.fn.stop=function(t,i,o){if(!k)return n.apply(this,[t,i]);t&&this.queue([]);for(var a={},r=p.length-1;r>=0;r--)a[p[r]+"transition-property"]="none",a[p[r]+"transition-duration"]="",a[p[r]+"transition-timing-function"]="";return this.each(function(){var r=e(this),s=window.getComputedStyle(this,null),c={},u;if(l(r.data(b))||l(r.data(b).secondary))n.apply(r,[t,i]);else{var d=r.data(b);if(i){if(c=d.secondary,!o&&void 0!==typeof d.meta.left_o||void 0!==typeof d.meta.top_o)for(c.left=void 0!==typeof d.meta.left_o?d.meta.left_o:"auto",c.top=void 0!==typeof d.meta.top_o?d.meta.top_o:"auto",u=p.length-1;u>=0;u--)c[p[u]+"transform"]=""}else for(var f in r.data(b).secondary)if(f=f.replace(_,"-$1").toLowerCase(),c[f]=s.getPropertyValue(f),!o&&/matrix/i.test(c[f])){var g=c[f].replace(/^matrix\(/i,"").split(/, |\)$/g);for(c.left=parseFloat(g[4])+parseFloat(r.css("left"))+"px"||"auto",c.top=parseFloat(g[5])+parseFloat(r.css("top"))+"px"||"auto",u=p.length-1;u>=0;u--)c[p[u]+"transform"]=""}r.unbind(E).css(a).css(c).data(b,null)}}),this}}(juicebox_lib.jQuery,juicebox_lib.jQuery.fn.animate,juicebox_lib.jQuery.fn.stop),function(e){if(juicebox_lib.jQuery.browser.msie&&!(juicebox_lib.jQuery.browser.version<10)){var t=e.document,n=function(e,n,i){var o,a=t.createEvent("Event");a.initEvent(e,!0,!0);for(o in i)a[o]=i[o];n.dispatchEvent(a)},i=function(){function e(e){return e>>>0}function t(t){var o=-1,a,r;for(r in t)a=String(e(r))===r&&e(r)!==n&&i.call(t,r),a&&r>o&&(o=r);return o}var n=Math.pow(2,32)-1,i=Object.prototype.hasOwnProperty;return function(n){var i=0;return n=n||{},n.length={get:function(){var e=+t(this);return Math.max(i,e+1)},set:function(t){var n=e(t);if(n!==+t)throw new RangeError;for(var o=n,a=this.length;a>o;o++)delete this[o];i=n}},n.toString={value:Array.prototype.join},Object.create(Array.prototype,n)}}(),o={identifiedTouch:{value:function(e){for(var t=this.length;t--;)if(this[t].identifier===e)return this[t];return void 0}},item:{value:function(e){return this[e]}},_touchIndex:{value:function(e){for(var t=this.length;t--;)if(this[t].pointerId==e.pointerId)return t;return-1}},_addAll:{value:function(e){for(var t=0,n=e.length;n>t;t++)this._add(e[t])}},_add:{value:function(e){var t=this._touchIndex(e);t=0>t?this.length:t,e.type="MSPointerMove",e.identifier=e.pointerId,e.force=e.pressure,e.radiusX=e.radiusY=1,e.rotationAngle=0,this[t]=e}},_remove:{value:function(e){var t=this._touchIndex(e);t>=0&&this.splice(t,1)}}},a=function(e){return function(){var t=i(e);return 1===arguments.length?t.length=arguments[0]:t.push.apply(t,arguments),t}}(o),r,s={},l=e.MSGesture?new MSGesture:null,c=[],u=function(e,t){return t?e===t?!0:u(e,t.parentNode):!1},d=function(e){var i,o=e.target,a,c,d;if("MSPointerDown"===e.type&&(r._add(e),s[e.pointerId]=e.target,i="touchstart",r.length>1)){l.target=e.target;for(var f=0;f<r.length;f++)l.addPointer(r[f].pointerId)}"MSPointerMove"===e.type&&r.identifiedTouch(e.pointerId)&&(r._add(e),i="touchmove"),c=t.createTouchList(e),d=t.createTouchList();for(var f=0;f<r.length;f++)u(o,s[r[f].identifier])&&d._add(r[f]);a=s[e.pointerId],"MSPointerUp"===e.type&&(r._remove(e),s[e.pointerId]=null,delete s[e.pointerId],i="touchend",r.length<=1&&l&&l.stop()),i&&a&&n(i,a,{touches:r,changedTouches:c,targetTouches:d})},f=function(e){var t;"MSGestureStart"===e.type?t="gesturestart":"MSGestureChange"===e.type?t="gesturechange":"MSGestureEnd"===e.type&&(t="gestureend"),n(t,e.target,{scale:e.scale,rotation:e.rotation,screenX:e.screenX,screenY:e.screenY})},p=function(t){var n=g,i=h,o=t.prototype.addEventListener,a=t.prototype.removeEventListener;t.prototype.addEventListener=function(t,i,a){e.navigator.msPointerEnabled&&n.call(this,t,i,a),o.call(this,t,i,a)},t.prototype.removeEventListener=function(t,n,o){e.navigator.msPointerEnabled&&i.call(this,t,n,o),a.call(this,t,n,o)}},g=function(e,t,n){var i=this,o;0===e.indexOf("touchstart")&&(o=function(){u(i,arguments[0].target)&&d.apply(this,arguments)},c.push({node:this,func:o}),this.ownerDocument.addEventListener("MSPointerDown",o,n)),0===e.indexOf("touchmove")&&this.ownerDocument.addEventListener("MSPointerMove",d,n),0===e.indexOf("touchend")&&this.ownerDocument.addEventListener("MSPointerUp",d,n),0===e.indexOf("gesturestart")&&this.ownerDocument.addEventListener("MSGestureStart",f,n),0===e.indexOf("gesturechange")&&this.ownerDocument.addEventListener("MSGestureChange",f,n),0===e.indexOf("gestureend")&&this.ownerDocument.addEventListener("MSGestureEnd",f,n),this.style&&"undefined"!=typeof this.style.msTouchAction&&(this.style.msTouchAction="none")
},h=function(e,t,n){var i,o;if(0===e.indexOf("touchstart"))for(o=c.length;o--;)if(c[o].node===this){this.ownerDocument.removeEventListener("MSPointerDown",i,n),c.splice(o,1);break}0===e.indexOf("touchmove")&&this.ownerDocument.removeEventListener("MSPointerMove",d,n),0===e.indexOf("touchend")&&this.ownerDocument.removeEventListener("MSPointerUp",d,n),0===e.indexOf("gesturestart")&&this.ownerDocument.removeEventListener("MSGestureStart",f,n),0===e.indexOf("gesturechange")&&this.ownerDocument.removeEventListener("MSGestureChange",f,n),0===e.indexOf("gestureend")&&this.ownerDocument.removeEventListener("MSGestureEnd",f,n)};t.createTouchList=function(e){var t=new a;return e&&(e.length?t._addAll(e):t._add(e)),t},t.createTouch=function(e,t,n,i,o,a,r){return{identifier:n,screenX:a,screenY:r,pageX:i,pageY:o,target:t}},e.ontouchstart||(e.ontouchstart=1),r=t.createTouchList(),p(HTMLElement),p(Document)}}(window),juicebox_lib.jQuery.fn.extend({disableSelection:function(){return this.each(function(){this.onselectstart=function(){return!1},this.unselectable="on",jQuery(this).css("user-select","none"),jQuery(this).css("-o-user-select","none"),jQuery(this).css("-moz-user-select","none"),jQuery(this).css("-khtml-user-select","none"),jQuery(this).css("-webkit-user-select","none")})}}),juicebox_lib.jQuery.easing.easeInOutQuart||juicebox_lib.jQuery.extend(juicebox_lib.jQuery.easing,{easeInOutQuart:function(e,t,n,i,o){return(t/=o/2)<1?i/2*t*t*t*t+n:-i/2*((t-=2)*t*t*t-2)+n},easeOutQuart:function(e,t,n,i,o){return-i*((t=t/o-1)*t*t*t-1)+n}});var juice_box_utils=function(p$){var $=p$,is_pro_version="cd64f8c2ad416da082f8c514ba054429",is_absolute_path=function(e){return e?0===e.indexOf("/")?!0:0===e.toLowerCase().indexOf("http://")?!0:0===e.toLowerCase().indexOf("https://")?!0:e.indexOf("://")>0&&e.indexOf("://")<10?!0:!1:!1},is_end_with=function(e,t){return e&&t&&e.substring(e.length-t.length)===t?!0:!1},get_base_url=function(e,t){if(0===e.indexOf("/")){var n=t.indexOf("://");0>n?n=0:n+=3;var i=t.indexOf("/",n);return 0>i?t:t.substring(0,i)}var o=t.lastIndexOf("/");return 0>=o?"":t.substring(0,o)},convert_to_absolute_path=function(e){if(0===e.toLowerCase().indexOf("http://")||0===e.toLowerCase().indexOf("https://"))return e;var t=window.location.href.split("#")[0].split("?")[0],n=t.lastIndexOf("/"),i=t.indexOf("://");return 0>=n?"/"+e:i>0&&3>n-i?"/"+e:get_base_url(e,t)+(0===e.indexOf("/")?"":"/")+e},concatenate_path=function(e,t){return e||(e=""),t||(t=""),is_absolute_path(t)?t:(!is_end_with(e,"/")&&e&&(e+="/"),e+t)},is_it_scrolling=function(){var e=$(document),t=$(window);return{v_scrolling:Math.abs(parseInt(e.height())-parseInt(t.height()))>(is_android()?3:0),h_scrolling:e.width()>t.width()}},in_iframe=function(){return window.location.href.indexOf("noiframelimit")>-1?!1:top&&top.location!==location?!0:!1},is_windows=function(){return navigator.userAgent.match(/Windows/i)?!0:!1},is_iphone_chrome=function(){return is_iphone()&&navigator.userAgent.match(/CriOS/i)?!0:!1},is_iphone=function(){return navigator.userAgent.match(/iPhone/i)?!0:navigator.userAgent.match(/iPod/i)?!0:!1},is_ipad=function(){return navigator.userAgent.match(/iPad/i)?!0:!1},is_android=function(){return navigator.userAgent.match(/Android/i)?!0:!1},is_mobile_ie=function(){return navigator.userAgent.match(/IEMobile/i)?!0:!1},is_small_android=function(){return navigator.userAgent.match(/Galaxy Nexus/i)?!0:navigator.userAgent.match(/Nexus S/i)?!0:navigator.userAgent.match(/HTC Panache/i)?!0:navigator.userAgent.match(/HTC myTouch/i)?!0:navigator.userAgent.match(/Sensation/i)?!0:is_android()&&is_small_screen()?!0:!1},is_ie_after_11=function(){return navigator.userAgent.match(/Trident.*rv/)&&$.browser.version>=11?!0:!1},is_ios_mobile_chrome=function(){return is_mac_os()&&navigator.userAgent.match(/CriOS.*Mobile/)?!0:!1},is_chrome=function(){return navigator.userAgent.match(/Chrome/i)?!0:!1},is_opera=function(){return navigator.userAgent.match(/Opera/i)||navigator.userAgent.match(/OPR/i)?!0:!1},is_firefox=function(){return navigator.userAgent.match(/Firefox/i)?!0:!1},get_android_ver=function(){var e=navigator.userAgent.indexOf("Android");if(0>e)return 0;var t=navigator.userAgent.indexOf(";",e);if(e>=t)return 0;var n=navigator.userAgent.substring(e,t),i=n.split(" ");if(2!==i.length)return 0;var o=parseInt(i[1].replace(/\./g,"").substring(0,3)),a=parseFloat(parseFloat(o)/100);return 1>a&&(a*=10),1>a&&(a*=10),a},get_vp_meta_cnt=function(e,t){return"width=device-width, initial-scale=1.0, minimum-scale="+(t?.25:1)+", maximum-scale="+(t?4:1)+", user-scalable="+(t?1:0)+(e?", target-densitydpi="+e:", minimal-ui")},get_vp_meta_cnt_4_iphone_with_ratio=function(e){return"width=800, initial-scale="+e+", minimum-scale="+e+", maximum-scale="+e+", user-scalable="+(scalable?1:0)+", minimal-ui"},meta_tag_id="jb-viewport",populate_viewport_meta_content=function(e){return e?is_ipad()||is_iphone()?get_vp_meta_cnt(""):is_android()?get_vp_meta_cnt(160):"":""},set_viewport_value=function(e,t){is_android()&&$("#"+meta_tag_id).attr("content",get_vp_meta_cnt(e,t)),is_iphone()&&$("#"+meta_tag_id).attr("content",get_vp_meta_cnt_4_iphone_with_ratio(e,t))},only_has_minimal_ui=function(){var e=document.getElementsByName("viewport");if(!e||e.length<=0||!e[0].content)return!1;var t=e[0].content.toLowerCase().replace(/ /g,"");return"minimal-ui"==t.toLowerCase()?!0:!1},host_has_viewport_meta=function(){return only_has_minimal_ui()?!1:is_iphone()&&is_ios_mobile_chrome()&&$("#"+meta_tag_id).length<=0?!1:document.getElementsByName("viewport").length>0&&$("#"+meta_tag_id).length<=0},has_viewport_locked=function(){var e=document.getElementsByName("viewport");if(!e||e.length<=0||!e[0].content)return!1;var t=e[0].content.toLowerCase().replace(/ /g,""),n=null!=t.match(/initial-scale=1\b/g)&&null==t.match(/initial-scale=1\.[1-9]/g),i=t.indexOf("user-scalable=0")>=0||t.indexOf("user-scalable=off")>=0||t.indexOf("user-scalable=false")>=0;return n&&i},need_viewport_meta=function(){return is_ipad()||is_iphone()||is_android()?!0:!1},add_js_tag=function(e,t){if(!(t&&$("#"+t).length>0)){var n=document.createElement("script");t&&(n.id=t),n.type="text/javascript",n.src=e;var i=document.getElementsByTagName("head");i&&i[0].appendChild(n)}},add_viewport_meta=function(e){if(need_viewport_meta()&&!($("#"+meta_tag_id).length>0&&!only_has_minimal_ui()||host_has_viewport_meta())){var t=document.createElement("meta");t.name="viewport",t.id=meta_tag_id,t.content=populate_viewport_meta_content(e);var n=document.getElementsByTagName("head");n&&n[0].appendChild(t)}},set_viewport_meta=function(e){if(need_viewport_meta()){var t=$("#"+meta_tag_id);if(t.length<=0){for(var n=document.getElementsByName("viewport"),i=0;i<n.length;i++)n[i]&&n[i].remove&&n[i].remove();return void add_viewport_meta(e)}t.attr("content",populate_viewport_meta_content(e))}},get_viewport_meta_content=function(){var e=document.getElementsByName("viewport");return e.length<=0?null:e[0].content?e[0].content:null},set_viewport_meta_content=function(e){var t=document.getElementsByName("viewport");t.length<=0||(t[0].content=e)},get_current_path=function(){var e=window.location.href.split("#")[0].split("?")[0],t=e.lastIndexOf("/"),n=e.indexOf("//");if(0>t||0>n)return"";var i=e.indexOf("/",n+2);if(0>i||0>=t-i)return"/";var o=e.substring(t+1);return o.indexOf(".")>0?e.substring(i,t):e.substring(i)},get_qs_value=function(e,t){null==t&&(t=""),e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]"+e+"=([^&#]*)"),i=n.exec(window.location.href);return null==i?t:i[1]},get_js_folder_url=function(){var e,t,n=document.getElementsByTagName("script");for(e=0;e<n.length;e++){if(t=n[e].src.toLowerCase().indexOf("juicebox.js"),0===t)return"";if(t>0)return n[e].src.substring(0,t)}return""},u_skey="cd64f8c2ad416da082f8c514ba054429",set_cookie=function(e,t,n){n=0>n?"Thu, 01 Jan 1970 00:00:00 GMT":"",document.cookie=e+"="+escape(t)+(""===n?"":";expires="+n)+";path=/"},get_cookie=function(e){if(document.cookie.length>0){var t=document.cookie.indexOf(e+"=");if(-1!==t){t=t+e.length+1;var n=document.cookie.indexOf(";",t);return-1===n&&(n=document.cookie.length),unescape(document.cookie.substring(t,n))}}return""},wrap_value=function(e){switch(typeof e){case"boolean":case"number":return e+"";default:return'"'+e+'"'}},save_object_2_cookie=function(e,t){if(!t)return void set_cookie(e,"");var n="";for(var i in t)n.length>0&&(n+=","),n+=i+":"+wrap_value(t[i]);n="{"+n+"}",set_cookie(e,n)},get_object_from_cookie=function(c_name){var json=get_cookie(c_name),ret;return eval("ret = "+(json?json:null)+";"),ret},get_device_dpi=function(e){if(!is_iphone()&&!is_ipad()&&!is_android())return e&&e(1),1;var t=document.createElement("style"),n=document.createElement("div");n.id="dpi-detector-01";var i=[{ratio:1,pixel:"10px"},{ratio:1.5,pixel:"15px"},{ratio:2,pixel:"20px"}];t.innerText="";for(var o=0;o<i.length;o++)t.innerText+="@media (-webkit-min-device-pixel-ratio:"+i[o].ratio+") {#"+n.id+"{font-size:"+i[o].pixel+" !important;}}";return document.documentElement.appendChild(t).appendChild(n),window.setTimeout(function(){for(var a=getComputedStyle(n,null).getPropertyValue("font-size"),r=0;r<i.length;r++)if(a==i[o].pixel)return e&&e(i[o].ratio),i[o].ratio;return t.parentNode.removeChild(t),n.parentNode.removeChild(n),e&&e(1),1},100),0},get_query_path=function(e,t){for(var n=t.split(","),i="",o=0;o<n.length;o++)i+="#"+e+" "+n[o]+(o===n.length-1?"":", ");return i},is_small_screen=function(){return is_android()?navigator.userAgent.match(/Mobile/i)?!0:!1:Math.max(screen.height,screen.width)>1e3?!1:!0},is_swipable_device=function(){return is_iphone()||is_ipad()||is_android()?!0:!1},is_large_screen_mode=function(e){return"LARGE"===e.screenmode.toUpperCase()?!0:"SMALL"===e.screenmode.toUpperCase()?!1:is_small_screen()||is_small_android()||is_iphone()?!1:!0},is_earlier_ie=function(){return $.browser.msie&&$.browser.version<9?!0:!1},is_ie8=function(){return $.browser.msie&&$.browser.version<9&&$.browser.version>7},is_firefox3=function(){var e=$.browser;return e.mozilla&&"1.9"==e.version.slice(0,3)?!0:!1},format_color=function(e){return e=e.replace(/#/g,""),e.match(/^[0-9a-f]{3,6}$/i)?"#"+e:e},need_new_window=function(e){if("boolean"==typeof e.expandinnewpage)return e.expandinnewpage;var t=e.expandinnewpage.toUpperCase();return"TRUE"===t?!0:"FALSE"===t?!1:is_iphone()||is_ipad()?has_viewport_locked()?!1:!0:!1},is_new_expanded_window=function(){return"undefined"!=typeof expanded_jb_gallery&&expanded_jb_gallery},is_adobe_air=function(){return navigator.userAgent.match(/AdobeAIR/i)},show_real_fullscreen=function(e){var t=document.getElementById(e);t.requestFullScreen?t.requestFullScreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullScreen?t.webkitRequestFullScreen():t.msRequestFullscreen&&t.msRequestFullscreen()},exit_fullscreen=function(){document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()},support_real_fullscreen=function(){return document.cancelFullScreen?!0:document.mozCancelFullScreen?!0:document.webkitCancelFullScreen?!0:document.msFullscreenEnabled?!0:!1},is_in_real_fullscreen=function(){if(!(screen&&window&&screen.height&&window.innerHeight))return!1;var e=Math.max(screen.height,screen.width),t=Math.max(window.innerHeight,window.innerWidth);return e-t>10?!1:!0},exit_support_real_fullscreen=function(){return document.cancelFullScreen||document.mozCancelFullScreen||document.webkitCancelFullScreen||document.msExitFullscreen?!0:!1},add_fullscreen_listener=function(e){"function"==typeof e&&support_real_fullscreen()&&(document.addEventListener("fullscreenchange",function(){e(document.fullscreen)},!1),document.addEventListener("mozfullscreenchange",function(){e(document.mozFullScreen)},!1),document.addEventListener("webkitfullscreenchange",function(){e(document.webkitIsFullScreen)},!1),document.addEventListener("MSFullscreenChange",function(){e(null!=document.msFullscreenElement)},!1))},is_side_layout=function(e){var t=e.thumbsposition.toUpperCase();return"LEFT"===t||"RIGHT"===t},add_font_icon_4_ie8=function(e,t){if(!$.browser.msie||$.browser.version>=9)return"";var n=e.buttonbariconrealsize?e.buttonbariconrealsize+"px;":"";return"<span style=\"font-family: 'juicebox';"+n+'">'+t+"</span>"},get_text_shadow_style=function(e,t,n){if(is_earlier_ie())return"";var i="transparent"===t.toLowerCase()?"0px 0px 0px ":"1px 1px 2px ";return is_small_android()||is_iphone()?(n?"":"-webkit-text-shadow: ")+i+format_color(t)+";":(n?"":"text-shadow: ")+i+format_color(e)+(n?"":";")},get_font_shadow_style=function(e,t,n){return is_earlier_ie()?"":is_small_android()||is_iphone()?"-webkit-text-shadow: 0px 0px "+n+"px "+format_color(t)+";":"text-shadow: 0px 0px "+n+"px "+format_color(e)+";"},get_shadow_style_string=function(e,t,n,i){return is_earlier_ie()?"":is_small_android()||is_iphone()?(i?"":"-webkit-box-shadow: ")+"0px 0px "+n+"px "+format_color(t)+";":(i?"":"box-shadow: ")+"0px 0px "+n+"px "+format_color(e)+(i?"":";")},get_button_bar_style=function(e,t){var n="";if(e.buttonbarbackcolor&&(n+="background-color:"+format_color(e.buttonbarbackcolor)+";"),is_earlier_ie()){var i=parseInt(e.buttonbariconrealsize),o="auto;";i&&(o=2*i+"px;"),n+="height:"+o}else t&&(n+="padding:0;height:auto;border-radius:3px;");return n},get_button_bar_icon_style=function(e,t){var n="";if(e.buttonbariconrealsize){var i=parseInt(e.buttonbariconrealsize);if(n+="font-size:"+e.buttonbariconrealsize+(i?"px;":";"),t)i&&(n+="height:"+(2*i-parseInt(i/2))+"px;width:"+2*i+"px;");else{var o=parseInt(i/2);is_ie8()&&(o=parseInt(i/4)),i&&(n+="border-top:"+o+"px solid transparent;height:"+parseInt(1.5*i)+"px;width:"+2*i+"px;")}}return e.buttonbariconcolor&&(n+="color:"+format_color(e.buttonbariconcolor)+";"),e.buttonbarshadowcolor&&(n+=get_font_shadow_style(e.buttonbarshadowcolor,e.buttonbarshadowcolora,e.buttonbarshadowblur)),n},get_thumb_size=function(e){var t,n;return e.usethumbdots?(t=20,n=20):(t=e.thumbwidth,n=e.thumbheight),{width:t,height:n}},btnOriginalSize=28,get_nav_btn_size=function(e){var t=btnOriginalSize,n=parseInt(e.navbuttoniconrealsize);return n&&(t=parseInt(1.4*n)),t},navSizeThresHold4Ie=25,get_nav_btn_size_style=function(e,t){var n=get_nav_btn_size(e);if(!n)return"";var i=parseInt(e.navbuttoniconrealsize);if(t){i||(i=18);var o=parseInt((n-i)/2);n-=o}if($.browser.msie&&$.browser.version<10&&$.browser.version>=9&&i>navSizeThresHold4Ie){var a=n-1;return"height:"+a+"px;width:"+n+"px;"}return"height:"+n+"px;width:"+n+"px;"},get_nav_icon_style=function(e){var t="";if(e.navbuttoniconrealsize){var n=parseInt(e.navbuttoniconrealsize),i=get_nav_btn_size(e),o="";if(i){var a=parseInt((i-n)/2),r=0;is_ie8()&&(r=a);var s=$.browser.msie&&$.browser.version<10&&$.browser.version>=9&&n>navSizeThresHold4Ie?1:0;o+=get_nav_btn_size_style(e,!0)+"padding-left:"+parseInt(a/2)+"px;padding-right:"+parseInt(a/2)+"px;padding-top:"+(a+s-r)+"px;"}t+="font-size:"+e.navbuttoniconrealsize+(n?"px;":";")+o,t+="border-radius:"+e.navbuttoniconrealsize+"px;"}return e.navbuttoniconcolor&&(t+="color:"+format_color(e.navbuttoniconcolor)+";"),e.navbuttonshadowcolor&&(t+=get_font_shadow_style(e.navbuttonshadowcolor,e.navbuttonshadowcolora,e.navbuttonshadowblur)),e.navbuttonbackcolor&&(t+="background-color:"+format_color(e.navbuttonbackcolor)+";"),t},get_button_bar_button_size=function(e){return e.buttonbariconrealsize?{buttonWidth:2*e.buttonbariconrealsize,padding:8}:{buttonWidth:38,padding:8}},get_popup_position_string=function(e,t){var n="height="+t+",width="+e;return n},getMsPointerXy=function(e){var t=e.touches?e.touches.length:0,n=-1,i=-1;return t>0&&(n=e.touches[0].screenX,i=e.touches[0].screenY),t>1&&(n=e.touches[1].screenX,i=e.touches[1].screenY),{x:n,y:i}},is_buttonbarposition_default=function(e){var t=e.buttonbarposition.toUpperCase();return"TOP"!=t&&"NONE"!=t&&"OVERLAY_IMAGE"!=t?!0:!1},is_captionposition_default=function(e){var t=e.captionposition.toUpperCase();return"BOTTOM"!=t&&"NONE"!=t&&"OVERLAY_IMAGE"!=t&&"BELOW_IMAGE"!=t&&"BELOW_THUMBS"!=t?!0:!1},is_touchable_desktop=function(){return window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints?!0:!1},is_touchable_device=function(e){return is_swipable_device()||is_touchable_desktop()||e.forcetouchmode?!0:!1},init_components=function(e,t){t=t.replace(/ /g,"");for(var n=t.split(","),i=0;i<n.length;i++)e[n[i]]&&e[n[i]].init&&e[n[i]].init();return!1},setup_components_event=function(e,t){t=t.replace(/ /g,"");for(var n=t.split(","),i=0;i<n.length;i++)e[n[i]]&&e[n[i]].setEvent&&e[n[i]].setEvent();return!1},set_components_position=function(e,t,n){t=t.replace(/ /g,"");for(var i=t.split(","),o=0;o<i.length;o++)e[i[o]]&&e[i[o]].setPosition&&e[i[o]].setPosition(n);return!1},reppaint_components=function(e,t,n,i){t=t.replace(/ /g,"");for(var o=t.split(","),a=0;a<o.length;a++)e[o[a]]&&e[o[a]].repaint&&e[o[a]].repaint(n);return n&&i&&window.setTimeout(function(){i()},n),!1},show_hide_controls=function(e,t,n){return n?(e.stop(!1,!0),void(t?(!e.is(":visible")||0==e.css("opacity")||is_swipable_device())&&e.fadeIn(n):e.fadeOut(n))):void(t?e.css("opacity",1).show():e.hide())},ios_version=function(){var e=navigator.userAgent.match(/OS \d?_/g);return e?parseFloat(e[0].replace(/OS /g,"")):0},is_mac_os=function(){return navigator.userAgent.match(/Mac OS X/i)?!0:!1},is_retina_display=function(){if(!is_mac_os())return!1;var e=1;return void 0!==window.devicePixelRatio&&(e=window.devicePixelRatio),e>1.5},is_safari=function(){return!!navigator.userAgent.match(/Version\/[\d\.]+.*Safari/)},get_css3_prefix=function(){var e=!1,t="";return is_firefox3()||(is_firefox()?(e=!0,$.browser.version<26&&(t="-moz-")):is_chrome()?(e=!0,$.browser.version<33&&(t="-webkit-")):is_opera()?(e=!0,$.browser.version<12&&(t="-o-")):($.browser.msie&&$.browser.version>=10||document.msFullscreenEnabled)&&(e=!0)),{support:e,prefix:t}},clean_up_transition=function(e,t){if(e){t||(t=get_css3_prefix());var n={};t.support&&(n[t.prefix+"transition"]="",e.css(n))}},slidingTimer={},currentAnimationObjs,slide=function(e,t,n,i,o,a){var r=get_css3_prefix(),s={};clean_up_transition(t,r),r.support?(s[r.prefix+"transition"]="left "+parseInt(i)+"ms ease-in",t.css(s),window.setTimeout(function(){t.each(function(){var e=$(this);e.css({left:parseInt(e.css("left"))+n})})},100)):imgs.animate({left:(0>n?"-=":"+=")+Math.abs(n),avoidTransforms:!e.use_webkit_transform,useTranslate3d:e.use_3d_transform},i,"easeInOutQuart"),o||(o="default"),slidingTimer[o]&&(window.clearTimeout(slidingTimer[o]),clean_up_transition(currentAnimationObjs,r),currentAnimationObjs.stop(!1,!0)),currentAnimationObjs=t,a&&i&&(slidingTimer[o]=window.setTimeout(function(){slidingTimer[o]=0,a()},i+10))},fadeInContext={},fadeOutContext={},stop_fading_in=function(e,t,n){var i=get_css3_prefix();e||(e=fadeInContext[t].object),e&&(clean_up_transition(e,i),(fadeInContext[t].timer||fadeInContext[t].starttimer)&&(window.clearTimeout(fadeInContext[t].starttimer),fadeInContext[t].starttimer=0,window.clearTimeout(fadeInContext[t].timer),fadeInContext[t].timer=0,fadeInContext[t].object.css({opacity:1}).show(),n&&fadeInContext[t].callback&&fadeInContext[t].callback()))},stop_fading_out=function(e,t,n){var i=get_css3_prefix();e||(e=fadeOutContext[t].object),e&&(clean_up_transition(e,i),fadeOutContext[t].timer&&(window.clearTimeout(fadeOutContext[t].timer),fadeOutContext[t].timer=0,fadeOutContext[t].object.hide(),n&&fadeOutContext[t].callback&&fadeOutContext[t].callback()))},stop_fading=function(e,t){e||(e="default"),fadeInContext[e]&&stop_fading_in(null,e,t),fadeOutContext[e]&&stop_fading_out(null,e,t)},fade_in=function(e,t,n,i,o,a,r){a||(a="default"),fadeInContext[a]||(fadeInContext[a]={}),stop_fading_in(t,a,r);var s=get_css3_prefix(),l={};clean_up_transition(t,s),n?(!i&&is_android()?t.fadeIn(n):(t.css(i?{opacity:0}:{opacity:0,display:"block"}),fadeInContext[a].object=t,s.support?(l[s.prefix+"transition"]="opacity "+parseInt(n)+"ms ease-in",t.css(l),fadeInContext[a].starttimer=window.setTimeout(function(){fadeInContext[a].starttimer=0,t.css({opacity:1})},50)):is_safari()?t.fadeIn(n):t.animate({opacity:"+=1",avoidTransforms:!e.use_webkit_transform,useTranslate3d:e.use_3d_transform},n,"easeInOutQuart",null)),o&&(fadeInContext[a].callback=o,fadeInContext[a].timer=window.setTimeout(function(){fadeInContext[a].timer=0,o()},n+10))):(t.css({opacity:1}),t.show())},fade_out=function(e,t,n,i,o,a){if(t.is(":visible")){o||(o="default"),fadeOutContext[o]||(fadeOutContext[o]={}),stop_fading_out(t,o,a),i&&(fadeOutContext[o].callback=i),fadeOutContext[o].object=t;var r=get_css3_prefix();if(n)if(r.support){var s={};s[r.prefix+"transition"]="opacity "+parseInt(n)+"ms ease-in",t.css(s),window.setTimeout(function(){t.css({opacity:0}),fadeOutContext[o].timer=window.setTimeout(function(){fadeOutContext[o].timer=0,t.hide(),i&&i()},n+10)},20)}else is_safari()||$.browser.msie&&$.browser.version<=9?t.fadeOut(n):t.animate({opacity:"-=0",avoidTransforms:!e.use_webkit_transform,useTranslate3d:e.use_3d_transform},n,"easeInOutQuart",null),fadeOutContext[o].timer=fadeOutContext[o].timer=window.setTimeout(function(){t.hide(),fadeOutContext[o].timer=0,i&&i()},n);else t.hide()}},get_transition_style=function(e){if(0>=e||!e)return"";var t=get_css3_prefix();return t.support?t.prefix+"transition:opacity "+ +parseInt(e)+"ms ease-in;":""};return{ship:is_pro_version===u_skey,concate_path:concatenate_path,is_page_scrolling:is_it_scrolling,is_in_iframe:in_iframe,add_viewport_meta_tag_4_device:add_viewport_meta,set_viewport_meta:set_viewport_meta,is_iphone:is_iphone,is_iphone_chrome:is_iphone_chrome,is_ipad:is_ipad,is_android:is_android,is_small_android:is_small_android,get_android_ver:get_android_ver,is_chrome:is_chrome,is_opera:is_opera,get_current_path:get_current_path,get_query_string_value:get_qs_value,save_object_2_cookie:save_object_2_cookie,get_object_from_cookie:get_object_from_cookie,get_device_dpi:get_device_dpi,get_query_path:get_query_path,is_swipable_device:is_swipable_device,is_large_screen_mode:is_large_screen_mode,is_earlier_ie:is_earlier_ie,set_viewport_value:set_viewport_value,format_color:format_color,need_viewport_meta:need_viewport_meta,host_has_viewport_meta:host_has_viewport_meta,get_viewport_meta_content:get_viewport_meta_content,set_viewport_meta_content:set_viewport_meta_content,is_firefox:is_firefox,is_firefox3:is_firefox3,get_js_folder_url:get_js_folder_url,need_new_window:need_new_window,convert_to_absolute_path:convert_to_absolute_path,is_adobe_air:is_adobe_air,is_new_expanded_window:is_new_expanded_window,show_real_fullscreen:show_real_fullscreen,is_in_real_fullscreen:is_in_real_fullscreen,exit_fullscreen:exit_fullscreen,exit_support_real_fullscreen:exit_support_real_fullscreen,add_fullscreen_listener:add_fullscreen_listener,is_ie8:is_ie8,is_mobile_ie:is_mobile_ie,support_real_fullscreen:support_real_fullscreen,is_side_layout:is_side_layout,add_font_icon_4_ie8:add_font_icon_4_ie8,get_button_bar_icon_style:get_button_bar_icon_style,get_button_bar_style:get_button_bar_style,get_nav_icon_style:get_nav_icon_style,get_nav_btn_size:get_nav_btn_size,get_nav_btn_size_style:get_nav_btn_size_style,get_shadow_style_string:get_shadow_style_string,add_js_tag:add_js_tag,get_button_bar_button_size:get_button_bar_button_size,get_thumb_size:get_thumb_size,get_popup_position_string:get_popup_position_string,get_text_shadow_style:get_text_shadow_style,getMsPointerXy:getMsPointerXy,is_touchable_desktop:is_touchable_desktop,is_buttonbarposition_default:is_buttonbarposition_default,is_captionposition_default:is_captionposition_default,is_touchable_device:is_touchable_device,setup_components_event:setup_components_event,reppaint_components:reppaint_components,init_components:init_components,show_hide_controls:show_hide_controls,set_components_position:set_components_position,is_retina_display:is_retina_display,ios_version:ios_version,is_ie_after_11:is_ie_after_11,is_ios_mobile_chrome:is_ios_mobile_chrome,is_windows:is_windows,fade_in:fade_in,fade_out:fade_out,is_mac_os:is_mac_os,get_transition_style:get_transition_style,clean_up_transition:clean_up_transition,slide:slide,stop_fading:stop_fading}},juicebox_config_manager=function(e,t){var n=e,i=t,o=!1,a="048d7e421a02974b54391bc3463ebd52",r=!1,s="",l="",c={containerid:"juicebox-container",debugmode:!1,forcetouchmode:!1,usefullscreenexpand:!1,autofullscreenexpand:!1,expandinnewpage:"AUTO",gallerywidth:"100%",galleryheight:"100%",backgroundcolor:"",backgroundurl:"",backgroundscale:"STRETCH",expandedbackgroundcolor:"",galleryfontface:"",backgroundopacity:"1",textcolor:"",textshadowcolor:"",textshadowcolora:"",topbackcolor:"",topbackopacity:"0",captionbackcolor:"",captionbackopacity:"1",imageframecolor:"",imageframeopacity:"1",thumbframecolor:"rgba(255, 255, 255, .5)",thumbframeopacity:"",thumbframewidth:0,thumbhoverframewidth:2,thumbselectedframewidth:10,thumbcornerradius:0,thumbshadowcolor:"rgba(0, 0, 0, .4)",thumbshadowcolora:"",thumbshadowblur:5,imageshadowcolor:"rgba(0, 0, 0, .4)",imageshadowcolora:"",imageshadowblur:10,stagepadding:0,imagepadding:0,framewidth:0,enablekeyboardcontrols:!0,firstimageindex:-1,randomizeimages:!1,showpreloader:!0,screenmode:"AUTO",languagelistall:'Previous|Next|Start AutoPlay|Stop AutoPlay|Play Audio|Pause Audio|Show Thumbnails|Exit Fullscreen|Close Gallery|Open Image in New Window|Download Image|About|AutoPlay ON|AutoPlay OFF|Show Thumbnails|Hide Thumbnails|Show Information|Next Image|Previous Image|Hide Information|Juicebox can not display locally in this browser. <a href="http://www.juicebox.net/support/faq/#local">More Info.</a>|Juicebox Error: Config XML file not found.|Juicebox Error: Cannot find div with id: "|"|Juicebox Error: Theme CSS file not found|Buy this Image|Share on Facebook|Share on Twitter|Share on Google+|Share on Pinterest|To use Fotomoto please set the Fotomoto Store Id|Share on Tumblr|Go Back|of|Images',languagelist:"",splashbuttontext:"View Gallery",imagelocking:!1,enablelooping:!1,changeimageonhover:!1,maximagewidth:1024,maximageheight:768,imageclickmode:"NAVIGATE",imagescalemode:"SCALE_DOWN",imagepreloading:"PAGE",imagetransitiontime:.5,fadetime:.4,imagetransitiontype:"SLIDE",imagevalign:"CENTER",imagehalign:"CENTER",showimageoverlay:"AUTO",showimagenav:!0,imagenavposition:"STAGE",showbigplaybutton:!1,thumbsposition:"BOTTOM",thumbnavposition:"CENTER",thumbwidth:85,thumbheight:85,thumbpadding:10,thumbhseparation:10,thumbvseparation:10,thumbsvalign:"CENTER",thumbshalign:"CENTER",thumbpreloading:"PAGE",changecaptiononhover:!1,usethumbdots:!1,thumbdotcolor:"rgba(0, 0, 0, .4)",thumbdothovercolor:"rgba(255,255,255,1)",showpagingtext:!1,showsmallpagingtext:!0,showsmallthumbnav:!1,showsmallthumbsbutton:!0,smallthumbsshowtitles:!1,smallthumbslayoutstyle:"GRID",smallthumbslidetime:.5,topareaheight:50,buttonbarposition:"OVERLAY",buttonbarhalign:"RIGHT",showopenbutton:!0,showexpandbutton:!0,showinfobutton:!1,showdownloadbutton:!1,showsharebutton:!0,shownavbuttons:!1,showautoplaybutton:!1,showaudiobutton:!1,showthumbsbutton:!0,showthumbsonload:!0,showsmallthumbsonload:!0,buttonbariconsize:0,buttonbariconrealsize:0,buttonbariconcolor:"",buttonbariconopacity:"",buttonbariconhovercolor:"",buttonbariconhoveropacity:"",buttonbarshadowcolor:"",buttonbarshadowcolora:"",buttonbarshadowblur:5,buttonbarbackcolor:"",buttonbarbackopacity:"1",navbuttoniconsize:0,navbuttoniconrealsize:0,navbuttoniconcolor:"rgba(255, 255, 255, 1)",navbuttoniconopacity:"",navbuttoniconhovercolor:"",navbuttoniconhoveropacity:"",navbuttonshadowcolor:"",navbuttonshadowcolora:"",navbuttonshadowblur:5,navbuttonbackcolor:"rgba(0, 0, 0, .5)",navbuttonbackcoloropacity:"",imagenavpadding:20,imagecornerradius:0,showoverlayonload:!0,gallerytitle:"",gallerytitleposition:"OVERLAY",gallerytitlehalign:"LEFT",captionposition:"OVERLAY",captionhalign:"LEFT",maxcaptionheight:120,showimagenumber:!0,enableautoplay:!1,autoplayonload:!1,displaytime:5,showautoplaystatus:!0,gonextonautoplay:!1,autoplaythumbs:!0,audiourlmp3:"",audiourlogg:"",loopaudio:!0,playaudioonload:!1,audiovolume:.8,showsmallbackbutton:!1,backbuttonuseicon:!1,backbuttontext:"< Back",backbuttonurl:"",backbuttonposition:"NONE",backbuttonhalign:"LEFT",usefixedlayout:!1,showsplashpage:"AUTO",splashtitle:"",splashimageurl:"",splashshowimagecount:!0,gallerydescription:"",enableseo:!1,seoadditionaltext:"",enabledirectlinks:!1,fotomotostoreid:"",sharefacebook:!1,sharetwitter:!1,sharegplus:!1,sharepinterest:!1,sharetumblr:!1,shareemail:!1,configurl:"config.xml",themeurl:i.get_js_folder_url()+"classic/theme.css",baseurl:"",useflickr:!1,flickrusername:"",flickrtags:"",flickruserid:"",flickrsetid:"",flickrgroupid:"",flickrtagmode:"ALL",flickrsort:"DATE-POSTED-DESC",flickrimagesize:"LARGE",flickrimagecount:50,flickrextraparams:"",flickrshowtitle:!0,flickrshowdescription:!1,flickrshowpagelink:!1,flickrpagelinktext:"View on Flickr",theme:"classic",showcaption:!0,slidecaption:!1,maxthumbcolumns:10,maxthumbrows:1,thumb_load_placeholder:"<div class='jb-status-thumb-loading'><div>",main_load_placeholder:"<div class='jb-status-loading'></div>",pages_header:"",sync_caption_dimensions:!0,minimagegap:60,use_webkit_transform:!0,use_3d_transform:!(i.is_in_iframe()&&i.is_chrome()),onload:function(){}},u=",onload,",d=",containerid,gallerytitle,gallerywidth,galleryheight,backgroundcolor,overlaycolor,framecolor,showopenbutton,showexpandbutton,useflickr,flickrusername,flickrtags,configurl,themeurl,baseurl,debugmode,showthumbsbutton,maximagewidth,maximageheight,languagelist,usefullscreenexpand,textcolor,thumbframecolor,usethumbdots,",f={usefullscreenexpand:{appliedValues:[!0],"default":!1},showthumbsonload:{appliedValues:[!1],"default":!0},showthumbsbutton:{appliedValues:[!1],"default":!0},usethumbdots:{appliedValues:[!0],"default":!1},captionposition:{appliedValues:["BELOW_IMAGE","BOTTOM","OVERLAY_IMAGE","BELOW_THUMBS"],"default":"OVERLAY"},captionhalign:{appliedValues:["CENTER","RIGHT"],"default":"LEFT"},buttonbarposition:{appliedValues:["TOP"],"default":"OVERLAY"},backbuttonposition:{appliedValues:["TOP","OVERLAY"],"default":"NONE"},backbuttonhalign:{appliedValues:["RIGHT","CENTER"],"default":"LEFT"},stagepadding:{appliedValues:null,"default":0},imagepadding:{appliedValues:null,"default":0},framewidth:{appliedValues:null,"default":0},topbackcolor:{appliedValues:null,"default":""},thumbsposition:{appliedValues:["TOP","LEFT","RIGHT"],"default":"BOTTOM"},thumbnavposition:{appliedValues:["BOTTOM"],"default":"CENTER"},imageframecolor:{appliedValues:null,"default":""},imagetransitiontype:{appliedValues:null,"default":"SLIDE"},changeimageonhover:{appliedValues:[!0],"default":!1},gallerytitleposition:{appliedValues:["TOP","ABOVE_THUMBS"],"default":"OVERLAY"},gallerytitlehalign:{appliedValues:["RIGHT","CENTER"],"default":"LEFT"},buttonbarhalign:{appliedValues:["CENTER","LEFT"],"default":"RIGHT"},thumbshalign:{appliedValues:["RIGHT","LEFT"],"default":"CENTER"},thumbsvalign:{appliedValues:["TOP","BOTTOM"],"default":"CENTER"},imagehalign:{appliedValues:["RIGHT","LEFT"],"default":"CENTER"},imagevalign:{appliedValues:["TOP","BOTTOM"],"default":"CENTER"}},p=function(e){return e?"number"==typeof e||e.indexOf("%")<=0?parseInt(e)+"px":e:"100%"},g=function(e,t){if(!e)return t;var n=e.split("#")[0].split("?")[0].split("/");return n.length<=0?t:n.length<=1?"":n[n.length-1].toLowerCase().indexOf("theme.css")<0?t:n[n.length-2]},h=function(e,t,n,i){return i?i:!e||e.length<=t?n:e[t]},_=function(e,t,n,i,o){!i&&c.languagelistall[e]&&(i=c.languagelistall[e]),c.languagelistall[e]=h(t,n,i,o)},m=function(e,t){if(!t)return!0;for(var n=0;n<t.length;n++)if("string"==typeof e){if(t[n].toUpperCase()===e.toUpperCase())return!0}else if(t[n]===e)return!0;return!1},b=function(){0==c.showexpandbutton&&(c.originalUsefullscreenexpand=c.usefullscreenexpand,c.usefullscreenexpand=!1),c.audiovolume<0&&(c.audiovolume=0),c.audiovolume>1&&(c.audiovolume=1),c.showpreloader||(c.main_load_placeholder=c.main_load_placeholder.replace("jb-status-loading","jb-status-no-loading")),c.backbuttonuseicon&&(c.backbuttontext=" "),c.galleryfontface=decodeURI(c.galleryfontface).replace(/\+/g," ").replace(/\"/g,"'");
var e=c.thumbsposition.toUpperCase();("LEFT"===e||"RIGHT"===e)&&(c.usethumbdots=!1);var t=i.is_large_screen_mode(c);if(t)return void(c.showsmallbackbutton=!1);for(var n in c)f[n]&&m(c[n],f[n].appliedValues)&&(c[n]=f[n]["default"]);i.is_swipable_device()&&(c.forcetouchmode&&(c.forcetouchmodereversed=!0),c.forcetouchmode=!1),c.thumbselectedframewidth=c.thumbframewidth},v=function(){if("string"==typeof c.languagelistall||c.languagelist){var e=c.languagelist.split("|");c.languagelistbak=c.languagelist,c.languagelist="";var t=e.length,n=7,i=25;E()?t-i>0&&e.splice(i,t-i):t-n>0&&e.splice(i,t-n);var o=null;"string"==typeof c.languagelistall&&(o=c.languagelistall.split("|"),c.languagelistall={}),_("p",o,0,""),_("n",o,1,""),_("strta",o,2,"",e[12]),_("stpa",o,3,"",e[13]),_("plya",o,4,"",e[8]),_("psa",o,5,"",e[9]),_("st",o,6,"",e[0]),_("gf",o,7,"",e[2]),_("ef",o,8,"",e[3]),_("oiinw",o,9,"",e[4]),_("di",o,10,""),_("abt",o,11,""),_("aon",o,12,"",e[14]),_("aoff",o,13,"",e[15]),_("stlsm",o,14,"",e[0]),_("htlsm",o,15,"",e[1]),_("sinfo",o,16,"",e[10]),_("gonxt",o,17,"",e[6]),_("goprv",o,18,"",e[7]),_("hdinfo",o,19,"",e[11]),_("lcchm",o,20,""),_("ae",o,21,""),_("noid01",o,22,""),_("noid02",o,23,""),_("nothm",o,24,""),_("fotomoto",o,25,"",e[17]),_("facebook",o,26,"",e[18]),_("twitter",o,27,"",e[19]),_("gplus",o,28,"",e[20]),_("printerest",o,29,"",e[21]),_("fotomotomissingid",o,30,""),_("tumblr",o,31,"",e[22]),_("gobk",o,32,"",e[16]),_("pgnum",o,33,"",e[23]),_("splimgs",o,34,"",e[5])}},x=function(){c.galleryheight=p(c.galleryheight),c.gallerywidth=p(c.gallerywidth),c.theme=g(c.themeurl,c.theme),(c.thumbwidth<20||c.thumbwidth>600)&&(c.thumbwidth=96),(c.thumbheight<20||c.thumbheight>600)&&(c.thumbheight=96),v();var e;if(c){c.backgroundcolor&&(e=j(c.backgroundcolor),c.backgroundcolor=e.color,e.fullFormate&&(c.backgroundopacity=e.opacity)),c.expandedbackgroundcolor&&(e=j(c.expandedbackgroundcolor),c.expandedbackgroundcolor=e.color,e.fullFormate&&(c.backgroundopacity=e.opacity)),c.textcolor&&(e=j(c.textcolor),c.textcolor=e.color),c.textshadowcolor&&("rgba(0,0,0,0)"===c.textshadowcolor.replace(/ /g,"").toLowerCase()?(c.textshadowcolora="transparent",l+="textshadowcolora,"):(e=j(c.textshadowcolor),c.textshadowcolora=e.color)),c.topbackcolor&&(e=j(c.topbackcolor),c.topbackcolor=e.color,e.fullFormate&&(c.topbackopacity=e.opacity)),c.captionbackcolor&&(e=j(c.captionbackcolor),c.captionbackcolor=e.color,e.fullFormate&&(c.captionbackopacity=e.opacity)),c.buttonbarbackcolor&&(e=j(c.buttonbarbackcolor),c.buttonbarbackcolor=e.color,e.fullFormate&&(c.buttonbarbackopacity=e.opacity)),c.imageframecolor&&(e=j(c.imageframecolor),c.imageframecolor=e.color,e.fullFormate&&(c.imageframeopacity=e.opacity)),c.thumbframecolor&&(e=j(c.thumbframecolor),c.thumbframecolor=e.color,e.fullFormate&&(c.thumbframeopacity=e.opacity)),c.thumbshadowcolor&&(e=j(c.thumbshadowcolor),c.thumbshadowcolora=e.color),c.imageshadowcolor&&(e=j(c.imageshadowcolor),c.imageshadowcolora=e.color),c.buttonbariconcolor&&(e=j(c.buttonbariconcolor),c.buttonbariconcolor=e.color,e.fullFormate&&(c.buttonbariconopacity=e.opacity)),c.buttonbariconhovercolor&&(e=j(c.buttonbariconhovercolor),c.buttonbariconhovercolor=e.color,e.fullFormate&&(c.buttonbariconhoveropacity=e.opacity)),c.buttonbarshadowcolor&&(e=j(c.buttonbarshadowcolor),c.buttonbarshadowcolora=e.color),c.navbuttoniconcolor&&(e=j(c.navbuttoniconcolor),c.navbuttoniconcolor=e.color,e.fullFormate&&(c.navbuttoniconopacity=e.opacity)),c.navbuttoniconhovercolor&&(e=j(c.navbuttoniconhovercolor),c.navbuttoniconhovercolor=e.color,e.fullFormate&&(c.navbuttoniconhoveropacity=e.opacity)),c.navbuttonbackcolor&&(e=j(c.navbuttonbackcolor),c.navbuttonbackcolor=e.color,e.fullFormate&&(c.navbuttonbackcoloropacity=e.opacity)),c.navbuttonshadowcolor&&(e=j(c.navbuttonshadowcolor),c.navbuttonshadowcolora=e.color),c.thumbdotcolor&&(e=j(c.thumbdotcolor),c.thumbdotcolor=e.color),c.thumbdothovercolor&&(e=j(c.thumbdothovercolor),c.thumbdothovercolor=e.color),0===c.buttonbariconsize&&(c.buttonbariconsize=20),c.buttonbariconrealsize=c.buttonbariconsize,0===c.navbuttoniconsize&&(c.navbuttoniconsize=20),c.navbuttoniconrealsize=c.navbuttoniconsize;var t=i.is_large_screen_mode(c);l.indexOf("maxthumbrows,")<0&&t&&l.indexOf("screenmode,")>-1&&(c.maxthumbrows=1),t?(c.showsmallthumbsbutton=!0,c.usethumbdots&&c.maxthumbcolumns<=1&&"BOTTOM"===c.thumbnavposition.toUpperCase()&&(c.maxthumbcolumns=2),c.thumbhseparation=c.thumbpadding/2,c.thumbvseparation=c.thumbpadding/2):(c.showthumbsbutton=!0,c.maxthumbcolumns=1e3,c.maxthumbrows=1e3,c.showpagingtext=c.showsmallpagingtext),i.is_side_layout(c)?"CENTER"!=c.thumbshalign.toUpperCase()&&(c.thumbshalign="CENTER"):"CENTER"!=c.thumbsvalign.toUpperCase()&&(c.thumbsvalign="CENTER"),i.is_in_iframe()&&(c.fotomotostoreid=""),i.is_swipable_device()&&(c.buttonbariconhovercolor="",c.navbuttoniconhovercolor=""),(c.expandinnewpage===!0||"TRUE"===(c.expandinnewpage+"").toUpperCase())&&(c.usefullscreenexpand=!1)}},w=function(e){var t=e.toString(16);return t.length>=2?t:1===t.length?"0"+t:0===t.length?"00":t},y=function(e){return e&&parseInt(e,16)>0},j=function(e){if(!e)return{color:"",opacity:T(1)};var t=e.toLowerCase().replace(/ /g,"");if(0!==t.indexOf("rgb"))return y(e)&&(e="#"+e),{color:e,opacity:T(1),fullFormate:!1};t=t.replace("rgba(","").replace("rgb(","").replace(")","");var i=t.split(",");if(i.length<3||i.length>4)return{color:e,opacity:T(1),fullFormate:!1};var o=e;if(n.browser.msie&&n.browser.version<9){var a=parseInt(i[0]),r=parseInt(i[1]),s=parseInt(i[2]);o="#"+w(a)+w(r)+w(s)}if(3===i.length)return{color:o,opacity:T(1),fullFormate:!0};var l=parseFloat(i[3]);return 0>l||l>1?{color:o,opacity:T(1),fullFormate:!0}:{color:o,opacity:T(l),fullFormate:!0}},T=function(e){if(!(n.browser.msie&&n.browser.version<9))return e;if(0===(""+e).indexOf("filter"))return e;var t=n.browser.version<8?100:parseInt(100*e);return"filter:alpha(opacity="+t+")"},E=function(){return o||"048d7e421a02974b54391bc3463ebd52"===C},k=function(e){if(e){var t,n,i=E();for(var o in e)if(t=o.toLowerCase(),"undefined"!=typeof c[t]){if(n=","+t+",","048d7e421a20974d54321bc3563ebd52"!==C&&!(!i&&d.indexOf(n)<0||u.indexOf(n)>=0)){l+=t+",";var a=e[o],r=typeof c[t];"string"===r&&"string"!=typeof a&&(a+=""),c[t]=I(a,r)}}else",persistor_param,fullscreen_displaying_mode,parent_gallery,initial_body_css_inline_style,scroll_position,".indexOf(","+t+",")>=0&&(c[t]=e[t]);x()}},C="048d7e421a02974b54391bc3463ebd52",I=function(e,t){switch(t){case"boolean":return"boolean"==typeof e?e:"true"==e.toLowerCase()||"on"==e.toLowerCase()||"1"==e?!0:!1;case"number":return parseFloat(e);default:return e}},O=function(){var e="",t=",gallerywidth,galleryheight,containerid,maxthumbrows,maxthumbcolumns,",n,i;for(var o in c)n=","+o+",",u.indexOf(n)>=0||t.indexOf(n)>=0||"048d7e421a20975d64321bc3563ebd52"!==C&&(i="string"==typeof c[o]?c[o].replace("#","_p-s_"):c[o],e+=o+"="+encodeURI(i)+"&");return e},L=function(){var e=window.location.href.split("?");if(e.length<=1)return null;var t=e[1].split("#");if(t.length<=0)return null;for(var n=t[0].split("&"),i={},o,a,r,s,l,u=0;u<n.length;u++)o=n[u].split("="),o.length<2||(a=o[0].toLowerCase(),s=o[1]?o[1].replace("_p-s_","#"):"",r=decodeURI(s),l=typeof c[a],"undefined"!=l&&(i[a]=I(r,l)));return i},A=function(e){if(!e)return null;var t={},i,o,a=n.browser.msie&&e.childNodes.length>1?e.childNodes[1]:e.childNodes[0];if(!a||!a.attributes)return null;var r=n(a.attributes);return r.each(function(e,n){i=n.nodeName.toLowerCase(),o=typeof c[i],"undefined"!=o&&(t[i]=I(n.value,o))}),t},S=function(e){e||(e=s);var t=function(e,t,n){n=0>n?"Thu, 01 Jan 1970 00:00:00 GMT":"",document.cookie=e+"="+window.escape(t)+(""===n?"":";expires="+n)+";path=/"},n=function(e){if(document.cookie.length>0){var t=document.cookie.indexOf(e+"=");if(-1!==t){t=t+e.length+1;var n=document.cookie.indexOf(";",t);return-1===n&&(n=document.cookie.length),window.unescape(document.cookie.substring(t,n))}}return""},i=function(){return e+"svcrntimgi_lf"},o=function(){return e+"-sv-config-"},a=function(){return e+"-changed-options-"},r=function(e){t(i(),"1",null);var n=l.split(","),r=e.skip?","+e.skip+",":"",s;for(s=0;s<n.length;s++)n[s]&&(r.indexOf(","+n[s]+",")>=0||t(o()+n[s],encodeURI(c[n[s]])));var u=","+l,d=e.skip.split(",");for(s=0;s<d.length;s++)u=u.replace(","+d[s]+",",",");for(var f in e.config)f&&(u.indexOf(","+f+",")<0&&(u+=f+","),c[f]=e.config[f],t(o()+f,encodeURI(c[f])));t(a(),u)},u=function(){if(n(i())){var e=n(a());if(e){for(var t=e.split(","),r=0;r<t.length;r++)if(t[r]){var s=n(o()+t[r]);s&&(c[t[r]]=I(decodeURI(s),typeof c[t[r]]))}v()}}},d=function(){t(i(),"",-10)};return{saveConfig:r,loadSavedConfig:u,clearCookie:d}},N=function(e,t,n){window.location.href.indexOf("jbdbgmd=true")>0&&r&&(o=!0),k(A(t)),k(e),(c.debugmode||o)&&k(L()),s=n;var a=S(s);i.is_new_expanded_window()?a.loadSavedConfig():a.clearCookie()},M=function(e,t){k(A(t)),k(e),(c.debugmode||o)&&k(L()),b()},U=function(){return c},F=function(e){k(e),0==c.showexpandbutton?c.usefullscreenexpand=!1:c.originalUsefullscreenexpand&&(c.usefullscreenexpand=!0)};return{isp:a==C,init:N,sync_option_with_dependency:F,sync_options:M,get_config:U,get_query_string:O,get_cookie_manager:S}},juicebox_gallery_dialog=function(e){var t,n,i="jb-glry-dlg",o=function(e){t=e.jquery,n=t("#"+i),n.length<=0&&(t("body").append(a()),n=t("#"+i))},a=function(){return"<div id='"+i+"' style='display:none;position:absolute;width:100%;height:100%;left:0;top:0;'></div>"},r=function(){n.hide()},s=function(){r(),n.html(""),l(!0),c(!0)},l=function(e){e?n.siblings(".jb-status-hiding-4-dlg").show().removeClass("jb-status-hiding-4-dlg"):n.siblings(":visible").addClass("jb-status-hiding-4-dlg").hide()},c=function(e){e?t(".jb-status-hiding-4-dlg").show().removeClass("jb-status-hiding-4-dlg"):t(".juicebox-gallery:visible").addClass("jb-status-hiding-4-dlg").hide()},u=function(e,t){e?l(!1):c(!1),t&&n.html(t),n.show()},d=function(e,t,i,o){e?l(!1):c(!1),t||(t="rgba(0,0,0,0.7)"),n.css("background-color",t),n.fadeIn(i),window.setTimeout(function(){o&&o()},i+10)},f=function(){return i};return o(e),{initialize:o,hide_dialog:r,cleanup_dialog:s,show_dialog:u,get_id:f,fadein_dialog:d}},juicebox_sizing_manager=function(e,t,n){function i(e){var t=r(e,"height");return 0===parseInt(t)?0:t}function o(e){var t=r(e,"width");return 0===parseInt(t)?0:t}function a(e,t,n,i,o){var a=t,r=!0;if(l.is_in_iframe())return{height:s(window).height(),registered:r};if(l.is_ipad()&&l.ios_version()>=7)l.is_ios_mobile_chrome()?a=t:(a=window.innerHeight,n>t&&s(window).height()>window.innerHeight&&672>a&&(a=672));else if(l.is_iphone())a=window.innerHeight,l.ios_version()<7?window.innerHeight>window.innerWidth?screen.height-window.innerHeight>80&&(a+=60):screen.width-window.innerHeight>80&&(a+=60):(a++,window.innerHeight<window.innerWidth&&a++);else if(l.is_android()){var c=s(window),u=c.height(),d=c.width();l.get_android_ver()<4&&!(p>3.1&&4>p)?(u=screen.height,d=screen.width):u=m(c.height(),c.width());var f;if(t>n?(f=h(t),a=f.height+1):(f=_(t),a=f.width),r=f.registered)l.get_android_ver()>=4&&i&&(a+=5);else{var p=l.get_android_ver();if(p>=4){if(o)return{height:parseInt(a)+2,registered:r};a=window.innerHeight}else a=p>3.1&&4>p?c.height()>u+10?c.height()+(c.height()>c.width()?i?2:50:2):u>c.height()?c.height()+(c.height()>c.width()?i?2:0:2):t+(i?54:50):p>=2.3?t>n?f.height+5:f.width+5:t+5}}else l.is_mobile_ie()&&(a=parseInt(1.13*t));return{height:a,registered:r}}function r(e,t){if(!e||!t)return"";var n=e.split(";"),i,o,a,r,l;for(l=0;l<n.length;l++)if(o=s.trim(n[l]),o&&(i=o.split(":"),2===i.length&&(a=s.trim(i[0]),r=s.trim(i[1]),a&&a.toLowerCase()===t.toLowerCase())))return r;return""}var s=e,l=n,c=t,u=s("body"),d=0,f=0,p=function(){d=s(window).width(),f=s(window).height()},g=function(){return null},h=function(e){var t=g();return t?{height:t.height,registered:!0}:{height:e,registered:!1}},_=function(e){var t=g();return t?{width:t.width,registered:!0}:{width:e,registered:!1}},m=function(e,t){var n=Math.max(f,d),i=Math.min(f,d);return e>t?n:i},b=function(e,t,n){return 3.1>e?1:e>3.1&&4>e?0:4.1>e&&e>=4?n>t?0:l.is_small_android()?58:0:0},v=!0,x=i(u.attr("style")),w=x&&parseInt(x)>0,y=function(e){return w?!1:e.galleryheight.indexOf("%")<0?!1:!(v&&!I(e.gallerywidth,e.galleryheight)||T(e))||l.is_iphone()&&O(e)?!0:!1},j=function(){return!1},T=function(e){return N().heightFound&&e.galleryheight.indexOf("%")>0},E=function(e){return N().widthFound&&e.galleryheight.indexOf("%")>0},k=function(e,t){var n=s(window);if((t||y(e))&&u.height(a(t,n.height(),n.width()).height),t||j(e)){var i=n.width();l.is_ipad()&&l.ios_version()>=7&&n.width()>n.height()&&(i=l.is_ios_mobile_chrome()?n.width():1024),u.width(i)}},C=function(){var e=parseInt(c.height()),t=parseInt(s("body").height());return l.is_android()?e>=t&&t-3>=e:e==t},I=function(e,t){return"100%"===e&&"100%"===t&&c.width()==s("body").width()&&0===N().percentHeight&&(0==R().height||C()||0===s("body").height()&&l.is_ie8())?!0:!1},O=function(e){var t=l.is_page_scrolling();return I(e.gallerywidth,e.galleryheight)&&(l.is_small_android()||l.is_iphone()||s.browser.msie||!t.v_scrolling&&!t.h_scrolling)?!0:!1},L=!1,A=0,S=0,N=function(){return L?{heightFound:A>0,widthFound:S>0,percentHeight:A,percentWidth:S}:(L=!0,c.parents().each(function(e,t){if(!(A>0&&S>0)){var n=t.nodeName.toUpperCase();if("BODY"!==n){var a=s(t).attr("style"),r=i(a),l=o(a);(l||r)&&((r.indexOf("%")>0||parseInt(r)>0)&&(A=parseInt(r)),(l.indexOf("%")>0||parseInt(l)>0)&&(S=parseInt(l)))}}}),{heightFound:A>0,widthFound:S>0,percentHeight:A,percentWidth:S})},M=!1,U=0,F=0,R=function(){return M?{height:U,parentHeight:F}:(U=c.height(),F=c.parent().height(),M=!0,{height:U,parentHeight:F})},P=0,H=function(){var e=c.height(),t=P;return P=e,{newHeight:e,oldHeight:t}},z=!1,B=function(){var e=H();if(s.browser.msie){if(s.browser.version<8){if(0===R().height){if(e.newHeight>0)return!0}else if(R().height===e.newHeight&&e.newHeight>110)return!0;return!1}if(l.is_ie8())return c.height()<=0&&c.parent().height()>0&&c.parent().height()===R().parentHeight?(z=!0,!0):z?!0:!1}return R().parentHeight>110&&e.newHeight>110},D=function(e,t,n,i){if(t){if(l.is_android())return window.innerHeight+(n?3:2);var o=s(window),r=o.height(),c=o.width();!l.is_ios_mobile_chrome()&&(l.is_ipad()||l.is_iphone())&&l.ios_version()>=7&&(r=window.innerHeight,c=window.innerWidth);var u=a(t,r,c,n,i);return u.height}return G(e,t)},G=function(e,t){var n=parseInt(e.galleryheight);if(e.galleryheight.indexOf("%")<0)return n;if(!N().heightFound&&B())return l.is_ie8()&&c.height()<10&&c.parent().height()>10?c.parent().height():c.height();var o=1,r=0,u;c.parents().each(function(e,t){var n=t.nodeName.toUpperCase();if("BODY"!==n){u=s(t).attr("style");var a=i(u);a.toLowerCase().indexOf("%")<0&&parseInt(a)>0&&(r=parseInt(a)),!a||r>0||a.indexOf("%")>0&&(o*=parseInt(a)/100)}});var d=s(window);return 0===r&&(r=a(t,d.height(),d.width()).height),n||(n=100),n/=100,o*n*r},W=function(e,t,n){if(t){var i=s(window).width();return l.is_android()&&(i=window.innerWidth+(n?1:0)),i}return V(e)},V=function(e){var t=parseInt(e.gallerywidth);if(e.gallerywidth.indexOf("%")<0)return t;if(!N().widthFound)return c.width();var n=1,i=0,a;c.parents().each(function(e,t){var r=t.nodeName.toUpperCase();if("BODY"!==r){a=s(t).attr("style");var l=o(a);l.toLowerCase().indexOf("%")<0&&parseInt(l)>0&&(i=parseInt(l)),!l||i>0||l.indexOf("%")>0&&(n*=parseInt(l)/100)}});var r=s(window);return 0===i&&(i=r.width()),t||(t=100),t/=100,n*t*i},q=function(e,t,n,i){var o=lt(e,t,n,!1,i),a=l.get_thumb_size(n),r=a.height+n.thumbpadding;return o.rows*r+n.thumbpadding},Y=function(e){if(!l.is_large_screen_mode(e))return 0;var t=e.thumbsposition.toUpperCase();if("LEFT"!=t&&"RIGHT"!=t)return 0;var n=l.get_thumb_size(e),i=n.width+e.thumbpadding,o="BOTTOM"!=e.thumbnavposition.toUpperCase()?128:0,a=e.maxthumbcolumns>0?e.maxthumbcolumns:1;return i*a+o},X=function(e,t){return"NONE"===e.captionposition.toUpperCase()?0:!t||0>=t?e.maxcaptionheight:e.maxcaptionheight>t?t:e.maxcaptionheight},Q=30,K=13,J=75,Z=function(e,t,n,i,o,a,r,s,l){var c=et(e,t,s),u=Y(s),d=2*c;(d>e-60||d>t-60)&&(d=0,c=0);var f=c,p=c,g=d,h=d;g=2*f,h=2*p;var _,m,b,v,x,w,y,j,T,E,k,C,I,O=f,L=0,A=0,S=p,N=s.captionposition.toUpperCase(),M=s.thumbnavposition.toUpperCase(),U="BOTTOM"===M?J:0;a&&(L=s.topareaheight,A=e-h);var F=s.thumbsposition.toUpperCase(),R=s.thumbpadding/2,P=r+2*R;_=(s.showpagingtext&&0>=U?P+(o?K+s.thumbpadding+R:15):P)+(o?0:24)+U,"TOP"!=F&&(_-=s.thumbhseparation);var H=s.gallerytitleposition.toUpperCase();"ABOVE_THUMBS"===H&&"LEFT"!=F&&"RIGHT"!=F&&(_+=Q),x=t-_-O-L-f;var z=s.captionposition.toUpperCase();I=0;var B=X(s,t-O-L-f);T=B;var D=!1;"TOP"===F?(y=t-f-x-R,b=O+L+R):"LEFT"===F?D=!0:"RIGHT"===F?D=!0:(y=O+L,b=t-f-_),D&&(b=O+L,y=O+L,x=t-O-L-f,_=x-("BOTTOM"===N?T:0));var G;if(k="BELOW_IMAGE"===N||"BOTTOM"===N?t-f-T:"BELOW_THUMBS"===N?D?"TOP"===s.thumbsvalign.toUpperCase()?q(D?u:e-h,ct(s,_),s,l)+(s.showpagingtext&&0>=U?K:0)+U:_/2+q(D?u:e-h,ct(s,_),s,l)/2+(s.showpagingtext&&0>=U?K:0)+U:q(D?u:e-h,_-ct(s,_),s,l)+(s.showpagingtext&&0>=U?K:0)-parseInt(s.thumbpadding/2)+U:x-T-L,n&&i)m=e-h,v=p,w=m,j=p,D&&(m=u,w=e-h-m-s.thumbhseparation),"LEFT"===F?(v=p+R,j=v+m+s.thumbhseparation):"RIGHT"===F?(m+=s.thumbhseparation,j=p,v=j+w):D||("TOP"===F?y+=s.thumbvseparation:x-=s.thumbvseparation),E=e-h,C=p,"BOTTOM"===z||!D&&"BELOW_THUMBS"===N&&"TOP"!=F?("BELOW_THUMBS"===N?(C=0,_+=T,D||(k=_-T)):k=t-T-f,x-=T,"TOP"!=F&&(b-=T),0>b&&(b=0)):"BELOW_IMAGE"===z?(T=x,x-=B,k=y,E=w,C=j):"BELOW_THUMBS"===N?(T=B,C=0,D&&(E=m),C=0,"TOP"===F&&(x-=T,y+=T),D||(_+=T)):(I=("TOP"===F?0:_)+f,G=x-T,k=G>0?y+G:y,"OVERLAY_IMAGE"===z&&(E=w,C=j));else{var W=O+L;_=t-W,m=e-h,b=f+W,v=p,x=t-W-f,T=s.maxcaptionheight>x?x:s.maxcaptionheight,w=e-h,y=W,j=p,E=e-h,C=p,"BOTTOM"===z?x-=T:"BELOW_IMAGE"===z?(x-=T,k=y):(G=x-T,k=G>0?y+G:y,I=f)}return{top_panel_height:L,top_panel_width:A,top_panel_left:S,top_panel_top:O,index_panel_height:_,index_panel_width:m,index_panel_top:b,index_panel_left:v,detail_panel_height:x,detail_panel_width:w,detail_panel_top:y,detail_panel_left:j,caption_panel_height:T,caption_panel_width:E,caption_panel_left:C,caption_panel_top:k,caption_panel_bottom:I,is_sideway_layout:D}},et=function(e,t,n){var i=Math.min(e,t);if(2*n.stagepadding+160>i){var o=parseInt((i-160)/2);return o>=0?o:0}return n.stagepadding},tt=function(e,t,n){var i=Math.min(e,t);return 2*n.imagepadding+60>i?parseInt(n.framewidth>0&&2*n.framewidth>=60?(i-60)/4:(i-60)/2):n.imagepadding},nt=function(e,t,n){var i=10,o=Math.min(e,t);return 2*n.framewidth+i>o?parseInt(n.imagepadding>0&&2*n.imagepadding>=i?(o-i)/4:(o-i)/2):2*n.imagepadding+2*n.framewidth+i>o?0:n.framewidth},it=function(e,t,n,i,o,a){var r,s,l,c,u,d,f=t/i,p=e/n;if(0>=t||0>=e||0>=i||0>=n)return{};f>=1&&p>=1?a?f>p?(l="auto",c=n,u=t/p,d=n,r=0,s=parseInt((u-i)/2)):(l=i,c="auto",u=i,d=e/f,r=parseInt((d-n)/2),s=0):(l="auto",c="auto",u=t,d=e,r=parseInt((e-n)/2),s=parseInt((t-i)/2)):p>f?(l=i,c="auto",u=i,d=parseInt(u*e/t),s=0,r=parseInt((d-n)/2)):(c=n,l="auto",d=n,u=parseInt(d*t/e),r=0,s=parseInt((u-i)/2));var g={imageTop:-1*r,imageLeft:-1*s,imageWidth:l,imageHeight:c,imageExpectedWidth:u,imageExpectedHeight:d};return o?(o(g),null):g},ot=function(e,t,n,i,o){e=parseInt(e),t=parseInt(t);var a=new Image;a.onload=function(){it(a.height,a.width,t,e,i,o)},a.src=n},at=function(e,t,n,i,o){var a=n/e,r=i/t,s;switch(s="SCALE"===o?0:"FILL"===o?3:"STRETCH"===o?4:"NONE"===o?2:1>a||1>r?0:1){case 0:return a>r?{width:"auto",height:i+"px"}:{width:n+"px",height:"auto"};case 1:return{width:e+"px",height:t+"px"};case 2:return{width:"auto",height:"auto"};case 3:return a>r?{width:n+"px",height:"auto",expectedWidth:n,expectedHeight:n*t/e}:{width:"auto",height:i+"px",expectedWidth:i*e/t,expectedHeight:i};case 4:return{width:n+"px",height:i+"px"}}return null},rt=function(e,t,n,i,o,a){var r=a?0:2*(tt(t,n,i)+nt(t,n,i));return t-=r,n-=r,e&&e.width&&e.height?at(e.width,e.height,t,n,o):{width:"auto",height:"auto"}},st=function(e,t,n,i,o,a){var r=rt(e,t,n,i,o?o:i.imagescalemode.toUpperCase(),a),s=r.width,l=r.height,c=a?0:tt(t,n,i),u=a?0:nt(t,n,i),d=c+u,f=2*d;"auto"===s&&"auto"===l?(l=e.height,s=e.width):"auto"===s?s=parseInt(l)*(e.width/e.height):"auto"===l&&(l=parseInt(s)*(e.height/e.width)),s=parseInt(s),l=parseInt(l);var p=0,g=0,h=i.imagehalign.toUpperCase(),_=i.imagevalign.toUpperCase();p="LEFT"===h?0:"RIGHT"===h?parseInt(t-s-2*u)-c:parseInt((t-s)/2)-u,g="TOP"===_?0:"BOTTOM"===_?parseInt(n-l-2*u)-c:parseInt((n-l)/2)-u;var m=p,b=g;c>p&&(p=c),c>g&&(g=c);var v=t-f<parseInt(s)?t-f:parseInt(s),x=n-f<parseInt(l)?n-f:parseInt(l);return{width:parseInt(s),height:parseInt(l),left:p,top:g,frameWidth:v,frameHeight:x,unadjtop:b,unadjleft:m,parentWidth:t,parentHeight:n}},lt=function(e,t,n,i){0>t&&(t=0);var o=0,a=0,r,s=l.get_thumb_size(n),c=s.width+n.thumbpadding,u=s.height+n.thumbpadding,d=(l.is_large_screen_mode(n)||n.showsmallthumbnav?l.get_nav_btn_size(n):0)+n.thumbpadding;r=e-2*d;var f=n.thumbsposition.toUpperCase();"LEFT"===f||"RIGHT"===f?o=n.maxthumbcolumns:e>0&&(o=parseInt(r/c)),0>=o&&(o=1),o>n.maxthumbcolumns&&(o=n.maxthumbcolumns),t>0&&(a=parseInt(t/u),!l.is_large_screen_mode(n)&&(i||n.forcetouchmode||n.forcetouchmodereversed)),(0>=a||n.usethumbdots)&&(a=1),a>n.maxthumbrows&&(a=n.maxthumbrows);var p=a;return{columns:o,rows:p,regularRows:a}},ct=function(e,t){var n=e.thumbnavposition.toUpperCase(),i=e.captionposition.toUpperCase(),o=l.is_side_layout(e);return("ABOVE_THUMBS"===e.gallerytitleposition.toUpperCase()&&"BELOW_THUMBS"!=i||!l.is_large_screen_mode(e))&&(t-=Q),"BELOW_THUMBS"===i&&(t-=X(e),o&&"BOTTOM"!=n&&(t-=X(e))),e.showpagingtext&&"BOTTOM"!=n&&(t-=(o?2:1)*K),l.is_large_screen_mode(e)||(t-=30),"BOTTOM"===n&&(t-=J+(o?25:0)),t-=e.thumbpadding/2},ut=function(e,t,n,i,o){return t=ct(n,t),lt(e,t,n,i,o)},dt=function(e){return parseInt(e.thumbheight/3)},ft=function(e,t,i,o,a){var r=i.thumbshalign.toUpperCase(),s=i.thumbsvalign.toUpperCase(),u=l.get_thumb_size(i),d=i.thumbnavposition.toUpperCase(),f=u.width+i.thumbpadding,p=u.height+i.thumbpadding,g=a*p+i.thumbpadding;g<l.get_nav_btn_size(i)&&(g=l.get_nav_btn_size(i));var h=o*f+i.thumbpadding,_=i.captionposition.toUpperCase(),m=et(c.width(),c.height(),i),b=("BOTTOM"===_?m:0)+parseInt((t-g)/2-(l.is_side_layout(i)?i.thumbpadding:0)/2+i.thumbpadding/2),v=0,x=n.get_nav_btn_size(i);v="LEFT"===r?x:"RIGHT"===r?parseInt(e-h)-x:parseInt((e-h)/2),b="TOP"===s?0:"BOTTOM"===s?("BOTTOM"===_?m:0)+parseInt(t-g-(l.is_side_layout(i)?i.thumbpadding:0)/2+i.thumbpadding/2)-("BOTTOM"===d?x+dt():0):("BOTTOM"===_?m:0)+parseInt((t-g)/2-(l.is_side_layout(i)?i.thumbpadding:0)/2+i.thumbpadding/2),l.is_side_layout(i)?0>b&&(b=0):b=0;var w=i.gallerytitleposition.toUpperCase(),y=l.is_large_screen_mode(i),j=!1;return l.is_side_layout(i)?j||0>b&&(b=0):"ABOVE_THUMBS"===w&&(b+=Q),{top:b,left:v,width:h,height:j||!y?"100%":g}};return{get_gallery_height:D,get_gallery_width:W,is_fullscreen_mode:O,is_gallery_fully_filled:I,try_set_body_size:k,get_containers_size_and_position:Z,get_stage_padding:et,get_image_padding:tt,get_image_framewidth:nt,position_2_fill_image:ot,force_height_calculation:T,force_width_calculation:E,get_initial_size:p,get_initial_win_size:m,get_side_panel_width:Y,suggested_image_size:rt,get_image_display_size:st,get_thumb_size_info:ut,get_thumbs_show_area_size_info:ft,constTitleHeight4AboveThumbs:Q,constIndexNavHeight:J,get_android_additional_height:b,padding_bottom_index_nav:dt}},juicebox_flickr_image_loader=function(e,t,n){function i(e){return b+x[e]+v}function o(e){return i("FLICKR_SEARCH")+(f.flickrtags?"&tags="+f.flickrtags:"")+(f.flickruserid?"&user_id="+f.flickruserid:"")+"&page="+_+"&per_page="+e+"&sort="+f.flickrsort.toLowerCase()+"&tag_mode="+f.flickrtagmode.toLowerCase()+(f.flickrextraparams?"&"+f.flickrextraparams.replace(/,/g,"&"):"")+"&media=photos&extras=url_sq,url_m,url_l,url_o,original_format&format=json&jsoncallback=?"}function a(e){return i("FLICKR_SET")+"&photoset_id="+f.flickrsetid+(f.flickrtags?"&tags="+f.flickrtags:"")+"&page="+_+"&per_page="+e+"&tag_mode="+f.flickrtagmode.toLowerCase()+"&media=photos&extras=url_sq,url_m,url_l,url_o,original_format&format=json&jsoncallback=?"}function r(e){return i("FLICKR_GROUP")+"&group_id="+f.flickrgroupid+(f.flickrtags?"&tags="+f.flickrtags:"")+"&page="+_+"&per_page="+e+"&tag_mode="+f.flickrtagmode.toLowerCase()+"&extras=url_sq,url_m,url_l,url_o,original_format&format=json&jsoncallback=?"}function s(e){return i("FLICKR_INTERESTINGNESS")+"&page="+_+"&per_page="+e+"&extras=url_sq, url_m, url_l,url_o,original_format&format=json&jsoncallback=?"}function l(){return i("FLICKR_PEOPLE_FIND")+"&username="+f.flickrusername+"&format=json&jsoncallback=?"}function c(e){return t.isp?f.flickrsetid?a(e):f.flickrgroupid?r(e):f.flickruserid?o(e):f.flickrusername?o(e):f.flickrtags?o(e):s(e):f.flickrtags||f.flickrusername?o(e):s(e)}function u(e,t){return"http"+m+"://www.flickr.com/photos/"+e+"/"+t}function d(e,t,n,i){return"http"+m+"://farm"+e+".static.flickr.com/"+t+"/"+i+"_"+n+"_s.jpg"}var f=t.get_config(),p=50,g=n,h=0,_=1,m="s",b="https://api.flickr.com/services/rest/?method=",v="&api_key=b40dc56c795c0103c6170731e6271e04",x={FLICKR_SEARCH:"flickr.photos.search",FLICKR_INTERESTINGNESS:"flickr.interestingness.getList",FLICKR_SET:"flickr.photosets.getPhotos",FLICKR_GROUP:"flickr.groups.pools.getPhotos",FLICKR_FIND_USER:"flickr.people.findByUsername",FLICKR_PHOTO_INFO:"flickr.photos.getInfo",FLICKR_PEOPLE_FIND:"flickr.people.findByUsername"},w=function(e,n){var i,o,a,r="",s=[];if(t.isp?e.photos?i=e.photos.photo:e.photoset&&(i=e.photoset.photo,r=e.photoset.owner):i=e.photos.photo,!i||0==i.length)return g("Flickr Images Not Found"),s;for(o=0;o<i.length&&h>o;o+=1)a={flickrPhotoId:i[o].id,thumbURL:d(i[o].farm,i[o].server,i[o].secret,i[o].id),imageFullURL:u(i[o].owner||r,i[o].id),imageURL:u(i[o].owner||r,i[o].id),linkTarget:"_blank",caption:i[o].title||"",description:"",preloadedImage:null,preloaded:!1},a.imageURL="original"===f.flickrimagesize.toLowerCase()&&i[o].url_o?i[o].url_o:"large"!==f.flickrimagesize.toLowerCase()&&"original"!==f.flickrimagesize.toLowerCase()||!i[o].url_l?i[o].url_m:i[o].url_l,s.push(a),"function"==typeof n&&k(o,i[o].id,n);return s},y=function(e){if(!e||!e.photo)return null;var t=e.photo;return{id:t.id,title:t.title._content,description:t.description._content.replace(/\n/g,"<br/>")}},j=function(t){var n=l();e.ajax({url:n,dataType:"json",success:function(e){"ok"===e.stat?(f.flickruserid=e.user.id,t&&t()):g("Cannot find Flickr User: "+f.flickrusername)},error:function(){g("Cannot find Flickr User: "+f.flickrusername)}})},T=function(n,i){h=t.isp?parseInt(f.flickrimagecount):p;var o=c(h);e.ajax({url:o,dataType:"json",success:function(e){e.photos?h=Math.min(e.photos.total,h):e.photoset&&(h=Math.min(e.photoset.total,h)),"ok"===e.stat?n&&n(w(e,i)):g("Flickr Images Not Found")},error:function(){g("Flickr Images Not Found")}})},E=function(e){return i("FLICKR_PHOTO_INFO")+"&format=json&photo_id="+e+"&jsoncallback=?"},k=function(t,n,i){if(f.flickrshowdescription){var o=E(n);e.ajax({url:o,dataType:"json",success:function(e){"ok"===e.stat&&i&&i(t,y(e))},error:function(){}})}},C=function(e,t){f.flickrusername?j(function(){T(e,t)}):T(e,t)},I=function(e,t,n){f.flickrshowdescription&&"function"==typeof n&&k(e,t,n)},O=function(e,t,n){if(f.flickrshowdescription&&"function"==typeof n){t.to>=e.length&&(t.to=e.length-1),t.from<0&&(t.from=0);for(var i=t.from;i<=t.to;i++)e[i].detail_loaded||I(i,e[i].flickrPhotoId,n)}};return{get_images:C,load_flickr_images_detail:O}},juicebox_gallery_manager=function(){var e=[],t,n=function(e){t=e},i=function(t){t.position=e.length,t.original_position=e.length,t.loaded=0,t.thumb_loaded=0,t.width=null,t.height=null,t.thumb_width=null,t.thumb_height=null,t.order=parseInt(1e3*Math.random()),e[e.length]=t},o=function(n){if(!t.randomizeimages)return n;for(var i=0;i<e.length;i++)if(e[i].original_position==n)return e[i].position;return-1},a=function(t){return e[t]},r=function(){return e},s=function(n){return n=parseInt(n),!t.enablelooping&&n>=e.length-1?null:e[n<e.length-1?n+1:0]},l=function(n){return n=parseInt(n),!t.enablelooping&&0>=n?null:e[n>0?n-1:e.length-1]},c=function(t){e[t.position]=t},u=function(t,n){return e.slice(t,n)},d=function(){e=e.sort(function(e,t){return e.order-t.order});for(var t=0;t<e.length;t++)e[t].position=t},f=function(){return e.length};return{add_image:i,length:f,get_range:u,get_image:a,get_images:r,update_image:c,get_previous_image:l,get_next_image:s,sort_images:d,init:n,get_current_position:o}},juicebox_gallery_index_panel=function(e,t){var n,i,o,a,r,s,l,c;a=t;var u=e,d=0,f=1,p=0,g=0,h=0,_=0,m=86,b=86,v=96,x=96,w=5,y=!0,j=!1,T=!0,E="jb-tbn-current",k="jb-tbn-prev",C="jb-tbn-next",I=0,O=0,L=0,A=0,S=0,N=!1,M=!1,U="display:none;",F=11,R,P,H,z=100,B=z,D=function(e){R=e,P=R._,r=R.config},G=function(){return-1},W=function(){},V=function(){var e=g*p<=a.length()?B:a.length();return e>a.length()?a.length():e},q=function(){0==_&&(_=P("").height()),p=0,g=0;var e=s.get_thumb_size_info(h,_,r,j,V());p=e.columns,g=e.rows,p*g>a.length()&&g>1&&(g=Math.ceil(a.length()/p)),f=Math.ceil(a.length()/(g*p))},Y=function(){return s.get_thumbs_show_area_size_info(h,_,r,p,g,P("").height())},X=function(e){e||(e=1);var t=(d+e)*p*g-1;return t>=a.length()&&(t=a.length()-1),0>t&&(t=0),{from:d*p*g,to:t}},Q=function(e){var t=u.get_thumb_size(e);m=t.width,b=t.height,w=e.thumbpadding/2,v=m+2*w,x=b+2*w},K=function(e,t){n=e.jquery,j=t,i=e.document_id,o=e.container,r=e.config,u=e.utils,s=e.sizing,l=e.finish_draw_event_callback,c=e.touch_event_callback,H=e.debug,h=e.current_width,_=e.current_height,Q(r),q(),J(),Z(),at(),(u.ship||!r.usethumbdots||g>1)&&(F=0),P(".jb-idx-thumbnail-show-more").click(function(){B+=z,bt(0);var e=R.glrySizePosition(),t=e.index_panel_height;return P(".jb-panel-index").css({height:t}),n("#"+R.config.containerid).height(t),R.features.fullscreen.switched_2_fullscreen()&&P("").css({height:t}),!1})},J=function(){var e=R.features.grytitle.getHtml(!0),t="";"BELOW_THUMBS"===r.captionposition.toUpperCase()&&(t=R.features.caption.getHtml()),o.html("<div class='jb-idx-show-area' style='overflow:hidden;margin:0;padding:0;position:absolute;'></div>"+e+(r.showpagingtext?"<div class='jb-idx-thb-list-page-number' style='position: absolute;'></div>":"")+t)},Z=function(){var e=function(e){if(!N&&(e.preventDefault(),A=0,S=0,!M))if(M=!0,u.is_touchable_desktop()){var t=u.getMsPointerXy(e);O=t.x,L=t.x}else O=e.originalEvent.touches[0].pageX,L=e.originalEvent.touches[0].pageX},t=function(e){if(!N&&M){e.preventDefault();var t;if(u.is_touchable_desktop()){var n=u.getMsPointerXy(e);t=n.x}else t=e.originalEvent.touches[0].pageX;A=t-O,P("table.jb-idx-thb-container").animate({left:"+="+(t-L),avoidTransforms:!r.use_webkit_transform,useTranslate3d:r.use_3d_transform},0),L=t,S=t-O}},i=function(e){if(r.autofullscreenexpand&&(u.show_real_fullscreen(r.containerid),!u.is_in_real_fullscreen())){if(A>5||-5>A)return;var t=0;return n(e.target).attr("data-position")?t=parseInt(n(e.target).attr("data-position")):n(e.target).parent().attr("data-position")&&(t=parseInt(n(e.target).parent().attr("data-position"))),R.detail_panel.set_photo_position(t),R.detail_panel.set_visible_flag(!0),void R.index_panel.set_visible_flag(!1)}!N&&M&&(M=!1,A>5?(Ft()&&!r.enablelooping?It(A,function(){_t()}):At(Math.abs(A),null,h,_),e.preventDefault()):-5>A?(Ut()&&!r.enablelooping?It(A,function(){_t()}):Lt(Math.abs(A),null,h,_),e.preventDefault()):Math.abs(S)<5&&!u.is_touchable_desktop()?r.forcetouchmode?null!=n(e.target).attr("data-position")?l(n(e.target).attr("data-position")):null!=n(e.target).parent().attr("data-position")&&l(n(e.target).parent().attr("data-position")):null!=n(e.target).parent().attr("data-position")&&(5>=A&&A>=-5&&It(A),l(n(e.target).parent().attr("data-position"))):5>=A&&A>=-5&&It(A))};if(u.is_touchable_desktop())for(var o=document.getElementsByClassName("jb-idx-thumbnail-container"),a=0;a<o.length;a++){var s=o[a];s.addEventListener("touchstart",e,!1),s.addEventListener("touchmove",t,!1),s.addEventListener("touchend",i,!1),s.addEventListener("gesturestart",e,!1),s.addEventListener("gesturechange",t,!1),s.addEventListener("gestureend",i,!1)
}else n.browser.msie||P(".jb-idx-show-area").bind("touchstart",e).bind("touchmove",t).bind("touchend",i);r.forcetouchmode&&!u.is_touchable_desktop()&&P(" .jb-idx-thumb, .jb-idx-thb-frame").mousedown(function(t){if(1===t.which){var i={originalEvent:{touches:[{}]}};t.preventDefault(),i.preventDefault=function(){},i.originalEvent.touches[0].pageX=t.screenX,i.originalEvent.touches[0].pageY=t.screenY,n(this).children(".jb-idx-thb-frame").css(yt()),e(i)}}).mousemove(function(e){if(1!==e.which)return void(M=!1);if(M){var n={originalEvent:{touches:[{}]}};n.preventDefault=function(){},n.originalEvent.touches[0].pageX=e.screenX,n.originalEvent.touches[0].pageY=e.screenY,t(n)}}).mouseup(function(){if(M){var e={};e.preventDefault=function(){},e.target=this,i(e)}}).mouseout(function(){if(M){var e={};e.preventDefault=function(){},e.target=this,i(e)}})},et=function(){var e=p*v,t=g*x;return{height:t,width:e}},tt=function(e,t,n,i,o){var s=g*p*e,l=g*p*(e+1),c;c=a.length()<p?a.length()*v:p*v;var d=u.is_side_layout(r)||r.usethumbdots&&g*x<u.get_nav_btn_size(r);t.append("<table class='jb-idx-thb-container jb-classifier-thumb-area table_page_"+e+" "+(o?o:"")+"' style='left:"+n+"px;"+(d?"height:100%;":"")+"' ><tr><td style='text-align:center !important;width:auto !important;'><div class='jb-idx-thb-list' style='text-align:center !important;width:"+c+"px;margin-left: auto;margin-right: auto; margin-top:0; margin-bottom:0; padding:0;' ></div></td></tr></table>");for(var f=P(".table_page_"+e+(o?"."+o:"")+" .jb-idx-thb-list"),h="",_=a.get_range(s,l),m=0;m<_.length;m++)h=pt(_[m],f,h);f.append(h)},nt=function(e){return u.is_earlier_ie()?"":e.thumbcornerradius>0&&e.thumbcornerradius<=Math.min(e.thumbwidth,e.thumbheight)?"border-radius:"+e.thumbcornerradius+"px;":""},it=function(){return r.usethumbdots?"width:"+v+"px;height:"+x+"px;padding:0;margin:"+F+"px 0 0 0;color:"+u.format_color(r.thumbdotcolor)+";":"overflow:hidden;width:"+m+"px;height:"+b+"px;padding:0;margin:"+(F+w)+"px "+parseInt(w)+"px "+w+"px "+parseInt(w)+"px;"+nt(r)},ot=function(e,t){return r.usethumbdots?"padding:0;margin:"+w+"px;width:"+m+"px;height:"+b+"px;":(t?"display:none;":"")+"position:relative;padding:0;left:"+e.left+"px;top:"+e.top+"px;width:"+e.thumb_width+"px;height:"+e.thumb_height+"px;"},at=function(){var e=r.thumbpreloading.toUpperCase();if("ALL"==e)for(var t=a.get_images(),n=0;n<t.length;n++)dt(t[n])},rt=function(){return r.thumbframecolor?u.format_color(r.thumbframecolor):""},st=function(e){return e?(r.thumbframecolor&&r.thumbselectedframewidth?"border-color:"+u.format_color(r.thumbframecolor)+";":"")+(u.is_ie8()?r.thumbframeopacity+";":""):(r.thumbframecolor&&r.thumbframewidth?"border-color:"+u.format_color(r.thumbframecolor)+";":"")+(u.is_ie8()?r.thumbframeopacity+";":"")},lt=function(){return!1},ct=function(e){if(r.usethumbdots)return"";var t=n("#"+i+"_thumb_"+e.position+".jb-thm-thumb-selected").length>0&&u.is_large_screen_mode(r),o=t?st():"",a=t?r.thumbselectedframewidth:r.thumbframewidth,s=t?r.thumbselectedframewidth:r.thumbframewidth,l=0;return lt()&&s>0&&(l=1),'<div class="jb-idx-thb-frame" style="position:absolute;border-style:solid;'+o+";border-width:"+(s+l)+"px;width:"+(m-2*a-l)+"px;height:"+(b-2*a-l)+"px;left:0px;top:0;"+st(t)+nt(r)+'"></div>'},ut=function(){return y?U:""},dt=function(e){e.isPreloadingThumbnail||(e.isPreloadingThumbnail=!0,s.position_2_fill_image(m,b,e.thumbURL,function(t){e.thumb_loaded=1,m===b&&t.imageExpectedWidth===t.imageExpectedHeight?(e.thumb_width=m,e.thumb_height=b,e.imageExpectedWidth=b,e.imageExpectedHeight=b,e.top=0,e.left=0):(e.thumb_width=t.imageWidth,e.thumb_height=t.imageHeight,e.imageExpectedWidth=t.imageExpectedWidth,e.imageExpectedHeight=t.imageExpectedHeight,e.top=t.imageTop,e.left=t.imageLeft),n("#"+i+"_thumb_"+e.position).html("<img class='jb-thm-thumb-image jb-thm-thumb-preloaded' src='"+e.thumbURL+"' style='"+ut()+ot(e,!0)+nt(r)+"' alt='"+e.thumbURL+"'>"+ct(e));var o=n("#"+i+"_thumb_"+e.position+" img");o.is(":visible")||R.utils.fade_in(R.config,o,1e3*R.config.fadetime,!1,null,"indexpanel"),a.update_image(e),n("#"+i+"_thumb_"+e.position+" img").disableSelection()}))},ft=function(e){return u.get_shadow_style_string(e.thumbshadowcolor,e.thumbshadowcolora,e.thumbshadowblur)},pt=function(e,t,o){return r.usethumbdots?o+"<div data-position='"+e.position+"' id='"+i+"_thumb_"+e.position+"' class='jb-idx-thumb jb-thm-thumb-dot' style='"+it()+"'><div class='jb-thm-thumb-image' style='"+ot(e)+"'>"+(n.browser.msie&&n.browser.version<9?"&#xe015;":"")+"</div></div>":e.thumb_loaded?o+"<div data-position='"+e.position+"' id='"+i+"_thumb_"+e.position+"' class='jb-idx-thumb' style='"+it()+ft(r)+"'><img class='jb-thm-thumb-image' src='"+e.thumbURL+"' style='"+ut()+ot(e)+nt(r)+"' alt='"+e.thumbURL+"'>"+ct(e)+"</div>":(t.append(o),t.append("<div data-position='"+e.position+"' id='"+i+"_thumb_"+e.position+"' class='jb-idx-thumb' style='"+it()+ft(r)+"'>"+r.thumb_load_placeholder+"</div>"),dt(e),"")},gt=function(){return 0>=d?f-1:d-1},ht=function(){return d>=f-1?0:d+1},_t=function(){Ct(d)},mt=function(e){0>e||e>=f||Tt(e)},bt=function(e,t,n,i){t&&(h=t),n&&(_=n),q();var o=parseInt(e/(p*g));Tt(o,i),wt(e),u.is_large_screen_mode(r)||P(".jb-idx-title").show()},vt=function(){Ct(gt())},xt=function(){Ct(ht())},wt=function(e){I=e;var t=m-2*r.thumbselectedframewidth,o=b-2*r.thumbselectedframewidth,a=m-2*r.thumbframewidth,s=b-2*r.thumbframewidth,l=u.format_color(r.navbuttonbackcolor);r.usethumbdots&&(l=u.format_color(r.thumbdotcolor)),P(".jb-idx-thumb").removeClass("jb-thm-thumb-selected").children("div").css({color:l});var c=lt()&&r.thumbframewidth>0?1:0,d=lt()&&r.thumbselectedframewidth>0?1:0;P(".jb-idx-thumb .jb-idx-thb-frame").css({width:a-c+"px",height:s-c+"px","border-width":r.thumbframewidth+c});var f=n("#"+i+"_thumb_"+e).addClass("jb-thm-thumb-selected").addClass("jb-thumb-visited").children("div").css({color:u.format_color(r.thumbdothovercolor)});n("#"+i+"_thumb_"+e+" .jb-idx-thb-frame").css({width:t+"px",height:o-d+"px","border-width":r.thumbselectedframewidth+d+"px","border-color":rt()}),r.thumbframecolor&&f.children(".jb-idx-thb-frame").css({"border-color":u.format_color(r.thumbframecolor)})},yt=function(){var e=lt()&&r.thumbselectedframewidth>0?1:0;return{height:r.thumbheight-2*r.thumbselectedframewidth-e,width:r.thumbwidth-2*r.thumbselectedframewidth,"border-width":r.thumbselectedframewidth+e,"border-color":u.format_color(r.thumbframecolor)}},jt=function(){return Y().width+2*s.get_stage_padding(P("").width(),P("").height(),r)-r.thumbpadding},Tt=function(e,t){P(" .jb-idx-thb-container").remove();var i=P(".jb-idx-show-area"),o=Y();i.css({top:o.top,left:o.left+parseInt(r.thumbpadding/2),width:o.width-parseInt(r.thumbpadding),height:o.height}),0==P(".table_page_"+e).length&&tt(e,i,0,_,E);var a=jt();if(r.enablelooping||f-1>e){var s=e>=f-1?0:e+1;tt(s,i,+a,_,C)}if(r.enablelooping||e>0){var p=0>=e?f-1:e-1;tt(p,i,-a,_,k)}kt(e),wt(I);var g=P(" .jb-idx-thumb");if(r.forcetouchmode)Z();else{var h=function(e){var t=P(".jb-idx-thb-list div.jb-idx-thumb .jb-thm-thumb-image");t.stop(!0,!0).show(),u.is_earlier_ie()||t.css({opacity:1}),W(),l(e)};if(g.click(function(e){if(P("").focus(),N)return!1;y=!1,e.preventDefault();var t=parseInt(n(this).attr("data-position"));return r.autofullscreenexpand?(W(),u.show_real_fullscreen(r.containerid),R.detail_panel.set_photo_position(t),R.detail_panel.set_visible_flag(!0),R.index_panel.set_visible_flag(!1),window.setTimeout(function(){"NEVER"!=R.config.showimageoverlay.toUpperCase()&&R.setOverlayFlag(!0),R.features.buttonbar.setPosition(),R.showImage(t,0)},300),!1):(h(t),!1)}),r.usethumbdots){var v=u.format_color(r.thumbdothovercolor),x=u.format_color(r.thumbdotcolor);P(" .jb-idx-thumb .jb-thm-thumb-image").hover(function(){n(this).css({color:v})},function(){var e=x;n(this).parent(".jb-thm-thumb-selected").length>0&&(e=v),n(this).css({color:e})})}F||(g.mousedown(function(e){e.preventDefault&&e.preventDefault(),n(this).children(".jb-idx-thb-frame").css(yt())}).bind("touchstart",function(){n(this).children(".jb-idx-thb-frame").css(yt())}),n(".jb-idx-thb-frame").mousedown(function(e){e.preventDefault&&e.preventDefault(),n(this).css(yt())})),r.changeimageonhover&&g.mouseenter(function(){var e=n(this).attr("data-position");h(e)},null)}if(r.thumbframecolor){var w=m-2*r.thumbhoverframewidth,j=b-2*r.thumbhoverframewidth,T=m-2*r.thumbframewidth,O=b-2*r.thumbframewidth,L=u.is_large_screen_mode(r),A=lt()&&r.thumbhoverframewidth>0?1:0,S=lt()&&r.thumbframewidth>0?1:0;g.hover(function(){var e=n(this);e.is(".jb-thm-thumb-selected")&&L||e.children(".jb-idx-thb-frame").css({width:w-A,height:j-A,"border-color":u.format_color(r.thumbframecolor),"border-width":r.thumbhoverframewidth+A})},function(){var e=n(this);e.is(".jb-thm-thumb-selected")&&L||e.children(".jb-idx-thb-frame").css({width:T-S,height:O-S,"border-color":r.thumbframewidth?u.format_color(r.thumbframecolor):"transparent","border-width":r.thumbframewidth+S})})}P(".jb-classifier-thumb-area").disableSelection(),d=e,"function"==typeof c&&c(t)},Et=function(){var e=a.length();if(e>=g*p)return{row:g,col:p};if(p>=e)return{row:1,col:e};var t=e%p==0?0:1;return{row:parseInt(e/p)+t,col:p}},kt=function(e){var t=Y(),i=Et(),o=i.row*x,a=parseInt((_-o)/4);30>a&&a>15&&i.row>=i.col&&(a-=10),(a>=_||0>a)&&(a=0);var s=parseInt((h-i.col*v)/2+parseInt(w/2));0>s&&(s=0),P(".jb-idx-title").css({left:s+"px",top:a+"px"}),P(".jb-idx-ssm-title-wrapper").css({width:t.width-2*r.thumbpadding});var l=h/2-18;s>l&&(l=s);var c;if(u.is_large_screen_mode(r)){var d=u.is_side_layout(r)&&"BOTTOM"===r.thumbnavposition.toUpperCase()&&r.maxthumbcolumns<=1?0:r.thumbpadding;c=parseInt(t.top+(u.is_side_layout(r)?t.height:o)+d-r.thumbpadding/2),r.usethumbdots&&r.showpagingtext&&(c+=u.is_side_layout(r)?25:-5)}else c=parseInt(t.top+o+r.thumbpadding/2+(_-o>0&&"BOTTOM"!=r.thumbnavposition.toUpperCase()?(_-o)/2:0));0>=c&&(c=0),P(".jb-idx-thb-list-page-number").css({left:l+"px",top:c+"px"}).html(e+1+" "+r.languagelistall.pgnum+" "+f),r.textcolor?P(".jb-idx-title, .jb-idx-thb-list-page-number, .jb-idx-ssm-title-wrapper").css({color:u.format_color(r.textcolor)}):n.browser.msie&&n.browser.version<8&&P(".jb-idx-ssm-title-wrapper").css({color:"#ffffff"}),r.textshadowcolor&&P(".jb-idx-title, .jb-idx-thb-list-page-number").css({"text-shadow":u.get_text_shadow_style(r.textshadowcolor,r.textshadowcolora,!0)}),R.config.galleryfontface&&P(".jb-idx-title, .jb-idx-thb-list-page-number, .jb-idx-ssm-title-wrapper").css({"font-family":R.config.galleryfontface})},Ct=function(e){q(),Tt(e)},It=function(e,t){if(e){var n=1e3*r.smallthumbslidetime;n*=(400-e/2)/400,wt(I),P("table.jb-idx-thb-container").animate({left:"+="+-e,avoidTransforms:!r.use_webkit_transform,useTranslate3d:r.use_3d_transform},n,"",t)}},Ot=function(e,t,n,i,o){var a=-1;i&&(h=i),o&&(_=o);var s=function(){N=!1,e?a===ht()&&xt():a===gt()&&vt(),a=-1,"function"==typeof n&&n()};if(a=e?ht():gt(),"undefined"==typeof t&&(t=0),N)P("table.jb-idx-thb-container").stop(),s();else{N=!0;var l=1e3*r.smallthumbslidetime;t>0&&(l*=(400-t/2)/400);var c=jt();P("table.jb-idx-thb-container").animate({left:(e?"-=":"+=")+(c-t),avoidTransforms:!r.use_webkit_transform,useTranslate3d:r.use_3d_transform},l,"easeOutQuart"),window.setTimeout(function(){s()},l)}},Lt=function(e,t,n,i){y=!1,Ot(!0,e,t,n,i)},At=function(e,t,n,i){y=!1,Ot(!1,e,t,n,i)},St=function(){y=!1},Nt=function(e,t,n,i){e&&(h=e),t&&(_=t),P(".jb-panel-index").css({width:e,height:t,top:n,left:i})},Mt=function(){y=!1,N=!1},Ut=function(){return d+1>=f?!0:!1},Ft=function(){return 0>=d?!0:!1},Rt=function(){return d},Pt=function(e){e?(P(".jb-idx-title").show(),P(".jb-classifier-link-wrapper.jb-classifier-thumb-area").show()):(P(".jb-idx-title").hide(),P(".jb-classifier-link-wrapper.jb-classifier-thumb-area").hide())},Ht=function(){var e=g*x;return e<u.get_nav_btn_size(r)&&(e=u.get_nav_btn_size(r)),e},zt=function(e){N=!0,window.setTimeout(function(){N=!1},e)},Bt=function(e){T=e},Dt=function(){return T};return{initialize:K,show_current_page:_t,show_prev_page:vt,show_next_page:xt,move_to_next_page:Lt,move_to_prev_page:At,show_page_4_image_position:bt,show_page_by_page_index:mt,is_last_page:Ut,is_first_page:Ft,get_index:Rt,repaint:Mt,get_thumblist_size:et,display_gallery_top:Pt,get_image_index_range:X,set_thumbnail_visited:wt,get_thumb_height:Ht,yield_4_transition:zt,synchronize_config:Q,get_show_area_position:Y,set_visible_flag:Bt,is_visible:Dt,setContext:D,cleanup_initial_load_flag:St,restoreScrollPosition:G,getCurrentDisplayingThumbCount:V,set_container_size:Nt}},juicebox_gallery_detail_panel=function(e){var t,n,i,o,a,r,s,l,c,u,d,f,p=e,g,h=null,_=-1,m=0,b,v,x,w=!1,y=!1,j=12,T=18,E=!1,k,C,I=!1,O=function(e){y=!0,t=e.jquery,n=e.document_id,i=e.container,f=e.caption_container,a=e.config,r=e.utils,s=e.sizing,o=e.glymng,l=e.before_draw_event_callback,c=e.finish_draw_event_callback,u=e.touch_event_callback,d=e.caption_complete_callback,x=1e3*a.imagetransitiontime,0>=x&&(x=10),b=e.current_width,v=e.current_height,N(0),g=e.debug},L=function(e){k=e,C=k._},A=function(){return h?h.position:0},S=function(){return h},N=function(e){h=k.gallery_manager().get_image(e)},M=function(e,t){if(e||(e=a.captionposition.toUpperCase()),"BOTTOM"!==e&&"NONE"!==e&&"BELOW_THUMBS"!==e&&"function"==typeof d){var n=C(".caption_"+t+" a"),i=C(".caption_"+t+" .jb-caption").height();n.length>0&&0===i&&(i=50),i=i&&n.length>0?i+2*j:0;var r,l,c;if("BELOW_IMAGE"===e||"OVERLAY_IMAGE"===e){if(r=o.get_image(t),!r.loaded)return;l=s.get_image_display_size(r,b,v,a),c=l.top+l.height+s.get_image_framewidth(b,v,a),c>v&&(c=v-s.get_image_framewidth(b,v,a)-a.imagepadding),d(c-("OVERLAY_IMAGE"===e?i:0))}else d(v-i)}},U=function(e,n,u,d,p){k.index_panel.cleanup_initial_load_flag();var g=_>-1?_:h.position,v=-1;if("undefined"!=typeof d?v=d:e&&o.get_next_image(g)?v=o.get_next_image(g).position:!e&&o.get_previous_image(g)&&(v=o.get_previous_image(g).position),!(0>v)){var x,w=a.captionposition.toUpperCase();"undefined"==typeof u&&(u=!0),("NONE"===w||",BOTTOM,BELOW_IMAGE,OVERLAY_IMAGE,BELOW_THUMBS,".indexOf(","+w+",")<0&&"NEVER"===a.showimageoverlay.toUpperCase())&&(u=!1);var y=a.imagetransitiontype.toUpperCase(),j=function(e){"NONE"!==w&&("NEVER"!==a.showimageoverlay.toUpperCase()||"BOTTOM"==w||"BELOW_THUMBS"==w||"BELOW_IMAGE"==w)&&(a.slidecaption||!u&&"BOTTOM"!==w&&"BELOW_IMAGE"!==w||(r.fade_in(a,C(".jb-cap-frame.jb-status-fading"),e),r.fade_in(a,f,e),et(w,v,e+50)))},T=function(e){if(u){var n=e;t.browser.msie&&t.browser.version>=7&&t.browser.version<8&&(n=0),n?r.fade_out(a,N.addClass("jb-status-fading"),n,null):N.addClass("jb-status-fading").hide()}else N.removeClass("jb-status-fading")},E=0,I=function(e){l(v),B(v,e,null,u,!0),.01==C(".jb-dt-main-image-"+v).css("opacity")&&C(".jb-dt-main-image-"+v).css("opacity",1),E&&window.clearTimeout(E),E=0,e?E=window.setTimeout(function(){c(v)},e+50):c(v),j(e),_=-1},O=function(e,t){E&&window.clearTimeout(E),E=0;var n=_>-1?_:v;p||l(n),B(n,0,null,u,!0),p||t||c(n),j(e),_=-1};_>-1&&(x=C(" .jb-panel-detail .jb-dt-main-frame, .jb-cap-frame"),x.stop(!1,!1),C(".jb-cap-frame.caption_"+v).stop(!1,!1),C(".jb-dt-main-image-"+g).stop(!1,!1),m&&(window.clearTimeout(m),m=0),O(0,!0)),"undefined"==typeof n&&(n=0),_=v;var L=1e3*a.imagetransitiontime;n>0&&(L*=(400-n/2)/400);var A=parseInt(b)+parseInt(a.minimagegap)+2*s.get_stage_padding(C("").width(),C("").height(),a),S=r.is_in_iframe()&&r.is_chrome();(p||!S)&&l(v);var N=C(".jb-cap-frame.caption_"+g);x=C(" .jb-panel-detail .jb-dt-main-frame"),x.stop(),m&&(window.clearTimeout(m),m=0);var M=L/2;if("OVERLAY_IMAGE"==a.captionposition.toUpperCase()&&(M=0),r.is_swipable_device()&&null==d)vt(0),r.clean_up_transition(x),x.animate({left:(e?"-=":"+=")+(A-n),avoidTransforms:!a.use_webkit_transform,useTranslate3d:a.use_3d_transform},L,"easeInOutQuart",function(){O(L/2)}),T(M);else if("NONE"===y||p)N.hide(),O(0);else if("CROSS_FADE"===y){var U=h;if(h=o.get_image(v),x=C(".jb-dt-main-image-"+g),U.width!=h.width||U.height!=h.height){var F=C(".jcbx-glry-classic").css("background-color");x.css({"background-color":F})}h.loaded?(i.append(ot(h,0,!0,!1,1,!0)),f.append(ut(h,f.width(),f.height(),0,!1,500)),r.fade_out(a,x,L,null,"images"),m=window.setTimeout(function(){var e=_>-1?_:v;S&&l(e),B(e,0,null,u,!0),c(e),j(L/2),m=0},L+100),T(L)):O(L/2)}else"FADE"===y||(d||0===d)&&"FADE"!=y&&"CROSS_FADE"!=y&&"NONE"!=y?(vt(L/2),x.length>0?(r.stop_fading("images"),r.fade_out(a,x,L/2,function(){I(L/2)},"images",!0),T(L/2)):(d||0===d)&&(m=window.setTimeout(function(){m=0,I(L/2)},L/2)),T(L/2)):(vt(0),r.clean_up_transition(x),x.animate({left:(e?"-=":"+=")+(A-n),avoidTransforms:!a.use_webkit_transform,useTranslate3d:a.use_3d_transform},L,r.is_earlier_ie()?"easeOutQuart":"easeInOutQuart",function(){O(L/2)}),T(M))}},F=function(e,t){U(!0,e,t)},R=function(e){if(e){var t=1e3*a.imagetransitiontime;t*=(400-e/2)/400;var n;n=C(" .jb-panel-detail .jb-dt-main-frame"),n.stop(),r.clean_up_transition(n),n.animate({left:"+="+-e,avoidTransforms:!a.use_webkit_transform,useTranslate3d:a.use_3d_transform},t,"",null)}},P=function(e,t){U(!1,e,t)},H=function(){a.textcolor&&C(".jb-cap-frame a").css({color:r.format_color(a.textcolor)}),a.textshadowcolor&&C(".jb-cap-frame a").css({"text-shadow":r.get_text_shadow_style(a.textshadowcolor,a.textshadowcolora,!0)})},z=function(e,t,n,i){e&&(b=e),t&&(v=t),C(".jb-panel-detail").css({width:e,height:t,top:n,left:i})},B=function(e,n,l,c,u,d,p){d&&(b=d),p&&(v=p),(d||p)&&C(".jb-dt-main-frame").css({width:b,height:v}),"undefined"==typeof c&&(c=!0);var g=parseInt(b)+parseInt(a.minimagegap)+2*s.get_stage_padding(C("").width(),C("").height(),a);h=o.get_image(e),_=-1;var m=C(".jb-panel-detail");m.length>0&&!m.is(":visible")&&m.show();var w=o.get_image(e),y=o.get_previous_image(e),j=o.get_next_image(e),T=n>0,E=a.imagetransitiontype.toUpperCase();"FADE"!=E&&"CROSS_FADE"!=E&&"NONE"!=E&&o.length()>2?i.children(":not(.jb-dt-main-image-"+e+")").remove():i.children().remove();var k=i.children(".jb-dt-main-image-"+e);if(k.length<=0?(i.append(ot(w,0,!0,T)),k=i.children(".jb-dt-main-image-"+(w?w.position:""))):k.css({left:0}),w.loaded&&("IMAGE"===a.imagenavposition.toUpperCase()||"OVERLAY_IMAGE"===a.buttonbarposition.toUpperCase())){var I=s.get_image_display_size(w,b,v,a);xt(I,x/2)}y&&k.before(ot(y,-g,!1,!1)),j&&k.after(ot(j,g,!1,!1)),k.is(":visible")?n?k.css("opacity")<1&&((!t.browser.msie||t.browser.version>=10)&&k.show().css({opacity:.01}),r.fade_in(a,k,n,!1,null,"captions")):k.css({opacity:1}):((!t.browser.msie||t.browser.version>=10)&&k.show().css({opacity:.01}),r.fade_in(a,k,n,!1,null,"captions"));var O=f.width(),L=f.height();c===!0?T||u?t.browser.msie||r.is_firefox3()?f.hide():r.fade_out(a,f,0):h.loaded&&r.fade_in(a,f,0):f.hide(),V(w);var A=O+parseInt(a.minimagegap)+s.get_side_panel_width(a);f.html(ut(y,O,L,-A,c)+ut(w,O,L,0,c)+ut(j,O,L,A,c)),M("",w.position),H(),a.captionbackcolor&&C(".jb-caption").css({"background-color":r.format_color(a.captionbackcolor)}),n>0?(r.stop_fading("images"),r.fade_in(a,C(".jb-dt-main-image-"+w.position),n,!1,l,"images",!0),c&&r.fade_in(a,f,n,!1,null,"captions")):c&&!u&&f.show()},D=function(e,t){r.fade_out(a,C(".jb-dt-main-image-"+h.position),e,t),r.fade_out(a,f,e)},G=function(e){return e>=o.length()&&(e=o.length()-1),0>e?0:e},W=function(e,t){for(var n=o.get_range(G(e),G(t)),i=0;i<n.length;i++)it(n[i])},V=function(e){if(e.loaded){var t=a.captionposition.toUpperCase();if("OVERLAY_IMAGE"!==t){if("BELOW_THUMBS"===t)return;return void("BELOW_IMAGE"===t&&f.css({overflow:"visible"}))}var n=s.get_image_display_size(e,b,v,a),o=n.top+n.frameHeight-a.maxcaptionheight+a.framewidth;0>o&&(o=0);var r=parseInt(i.css("top"));o+=r;var l=parseInt(C("").height())-r-n.top-n.frameHeight-a.framewidth;f.css({top:o,bottom:l,overflow:"hidden"})}},q=function(e,t){if(e||(e=a.captionposition.toUpperCase()),"BELOW_THUMBS"!=e||!r.is_side_layout(a))return T;var n=p.get_show_area_position(),i=n.left+a.thumbpadding-(t?72:0);return T>i&&(i=T),i},Y=function(e){var t=C(".caption_"+e.position+" .jb-caption").height(),n,i=a.captionposition.toUpperCase(),o=140;if("OVERLAY_IMAGE"!=i)n=o;else{if(!e.loaded)return null;if(rt(e)){var r=s.get_image_display_size(e,b,v,a);n=r.width,t=r.height}else n=0,t=0}return 100>n||t<C(".caption_"+e.position+" .jb-caption").height()?{display:"none"}:o>n?{display:"block",padding:"0"}:{display:rt(e)?"block":"none","padding-top":j+"px","padding-right":q(i,!0)+"px","padding-left":q(i)+"px","padding-bottom":(st()?j:j+18)+"px"}},X=function(e){var t=Y(e);if(!t)return"";var n="";for(var i in t)i&&(n+=i+":"+t[i]+";");return n},Q=function(e,t){if(e){var n=a.captionposition.toUpperCase();if("BELOW_IMAGE"===n||"OVERLAY_IMAGE"===n){var i=parseInt(f.width())+parseInt(a.minimagegap)+s.get_side_panel_width(a),o=(e.position-h.position)*i,r=Y(e);r&&C(".caption_"+e.position+" .jb-caption").css(r),C(".jb-cap-frame.caption_"+e.position).attr("style",J(e,f.width(),f.height(),o,t))}}},K=function(){var e=a.captionposition.toUpperCase();return"BELOW_IMAGE"!=e&&"BOTTOM"!=e?!1:!0},J=function(e,n,i,o,l){var c=K(),u="position:absolute;",d,f,p=a.captionposition.toUpperCase(),g=a.imagetransitiontype.toUpperCase();if("CROSS_FADE"===g&&!l&&e.loaded&&(u+=t.browser.msie||r.is_firefox3()?"display:none;":"opacity:0;"),"BELOW_IMAGE"===p||"OVERLAY_IMAGE"===p){if(!e.loaded)return d="OVERLAY_IMAGE"===p?"":"top:"+(i-a.maxcaptionheight>0?i-a.maxcaptionheight:0)+"px;",u+(c?"height:100%;":"")+"width:100%;left:"+o+"px;display:none;"+d}else if("OVERLAY_IMAGE"!==p&&!c||!e.loaded||"BOTTOM"===p)return u+(c?"height:100%;":"")+"width:"+n+"px;left:"+o+"px;";var h=s.get_image_display_size(e,b,v,a),_=s.get_image_framewidth(b,v,a);return"OVERLAY_IMAGE"===p?(d=a.imagecornerradius>0?_t(a):"",f="width:"+h.frameWidth+"px;",o+=_):(d="top:"+(h.top+h.frameHeight+2*_+s.get_image_padding(b,v,a))+"px;",f="width:"+(h.frameWidth+2*_)+"px;"),u+f+"height:100%;padding:0;margin:0;left:"+(h.left+o)+"px;"+d},Z=0,et=function(e,t,n){"BOTTOM"!==e&&"BELOW_IMAGE"!==e&&"OVERLAY_IMAGE"!==e&&"NONE"!==e&&(Z&&(window.clearTimeout(Z),Z=0),Z=window.setTimeout(function(){Z=0,M(e,t)},n))},tt=function(e){return e||(e=a.captionposition.toUpperCase()),"OVERLAY_IMAGE"===e||"BELOW_IMAGE"===e?!0:!1},nt=function(e,n,i){if(e.loaded)if(V(e),Q(e,i),i)t.browser.msie&&t.browser.version>=10&&f.is(":visible")&&f.css({opacity:1});else{if(!tt())return;r.fade_in(a,C(".jb-cap-frame.caption_"+e.position),n,!0),et("",e.position,n)}},it=function(e,n){if(!e.isPreloading&&!e.loaded){var i=new Image;e.isPreloading=!0,i.onload=function(){e.loaded=!0,e.width=i.width,e.height=i.height,o.update_image(e);var s=C(".jb-panel-detail .jb-dt-main-image-"+e.position);if(s.length>0){var l=function(){s.html(mt(e,n,!1));var i=C(".jb-panel-detail .jb-dt-main-image-"+e.position+" img");i.disableSelection(),h.position===e.position&&(s.hide(),window.setTimeout(function(){r.fade_in(a,s,x),t.browser.msie&&t.browser.version>=10?window.setTimeout(function(){nt(e,x,!0)},x/2):nt(e,x)},50))};r.is_swipable_device()?window.setTimeout(l,100):l()}},i.src=e.imageURL}},ot=function(e,t,n,i,o,r){if(!e)return"";var s="",l=a.imagetransitiontype.toUpperCase();0!==t||"CROSS_FADE"!==l&&"FADE"!==l||(o||(o=2),s="z-index:"+o+";");var c=a.showpreloader?"<div class='jb-status-loading' style='position:absolute;top:0;left:0;width:"+b+"px;height:"+v+"px;padding:0;margin:0;"+s+"'></div>":"";return e.loaded?c=mt(e,n,!1,r):it(e,n),"<div class='jb-dt-main-frame jb-dt-main-image-"+e.position+"' style='height:"+v+"px;width:"+b+"px;left:"+t+"px;"+at(i)+s+"'>"+c+"</div>"},at=function(e){return e?t.browser.msie||r.is_firefox3()?"display:none;":"opacity:0;":""},rt=function(e){if(!e)return"";var n=k.config.galleryfontface?"font-family:"+k.config.galleryfontface+";":"",i,s,l="";a.useflickr?(i=a.flickrshowtitle?e.caption:"",s=a.flickrshowdescription&&e.description?e.description:"",l=a.flickrshowpagelink?'<p class="jb-cap-content jb-caption-link"><a href="'+e.imageFullURL+'" target="_blank"  style="'+ct()+lt()+";"+n+'">'+(a.flickrpagelinktext?a.flickrpagelinktext:e.caption)+"</a>&nbsp</p>":""):(i=e.title?e.title:"",s=e.caption?e.caption:"");var c=a.captionhalign.toUpperCase(),u="";"CENTER"===c?u="text-align:center;":"RIGHT"===c&&(u="text-align:right;");var d=t.trim(i)?'<p class="jb-cap-content jb-caption-title" style="'+u+n+'">'+i+"&nbsp</p>":"",f=t.trim(s)?'<p class="jb-caption-desc" style="'+u+(a.showimagenumber?"":"margin-right:0;")+(i?"margin-top:10px;":"margin-top:0;")+n+'">'+s+"</p>":"",p=a.showimagenumber?'<div class="jbac-number jb-classifier-layer" data-layer="2000" style="z-index:2000;'+(r.ship||!w?"":"padding-bottom:20px;")+ct()+lt()+n+'">'+(e.position+1)+" / "+o.length()+"</div>":"";return p+d+f+l},st=function(){return r.ship||!w},lt=function(){return a.textshadowcolor?"text-shadow:"+r.get_text_shadow_style(a.textshadowcolor,a.textshadowcolora,!0)+";":""},ct=function(){return a.textcolor?"color:"+r.format_color(a.textcolor)+";":""},ut=function(e,t,n,i,o,r){if(!e)return"";r||(r=1e3);var s=rt(e),l=a.maxcaptionheight-2*j;st()||(l-=18),0>=l&&(l=a.maxcaptionheight>n?n:a.maxcaptionheight);var c="<div data-layer='1000' class='jb-caption jb-classifier-layer' style='overflow:hidden;z-index:"+r+";"+X(e)+("OVERLAY_IMAGE"===a.captionposition.toUpperCase()?_t(a):"")+"max-height:"+l+"px;"+(s?"":"display:none;")+ct()+lt()+"'>"+s+"</div>",u=a.captionposition.toUpperCase(),d=!0;"NONE"!==u&&"BELOW_IMAGE"!==u&&"OVERLAY_IMAGE"!==u&&o&&0==i||(d=!1);var f=" class='jb-cap-frame caption_"+e.position+"' style='"+(s?J(e,t,n,i,o):d?"":"display:none;")+"'";return K()?"<div"+f+">"+c+"</div>":"<table"+f+"><tr><td>"+c+"</td></tr></table>"},dt=function(e){if(!r.ship){w=e;var t=a.maxcaptionheight-2*j;st()||(t-=18),0>=t&&(t=a.maxcaptionheight>f.height()?f.height():a.maxcaptionheight);var n=e?j+18:j,i=e?"20px":"";C(".jb-cap-frame .jb-caption").css({"padding-bottom":n,"max-height":t}),C(".jb-cap-frame .jbac-number").css({"padding-bottom":i})}},ft=function(e){e.position==A()&&(wt(e),H())},pt=function(e){return r.is_earlier_ie()?"":r.is_small_android()||r.is_iphone()?"-webkit-box-shadow: 0px 0px "+e.imageshadowblur+"px "+r.format_color(e.imageshadowcolora)+";":"box-shadow: 0px 0px "+e.imageshadowblur+"px "+r.format_color(e.imageshadowcolora)+";"},gt=function(e,t){if(r.is_earlier_ie())return"";var n=e.imagecornerradius;return t&&(n=ht(e)),n>0?"border-radius:"+n+"px;":""},ht=function(e){var t=e.imagecornerradius;return e.framewidth&&e.imagecornerradius&&(t=e.imagecornerradius-e.framewidth),0>t&&(t=0),t},_t=function(e){return r.is_earlier_ie()?"":e.imagecornerradius>0?"border-bottom-left-radius:"+ht(e)+"px;border-bottom-right-radius:"+ht(e)+"px;":""},mt=function(e,t,n,i){if(!e)return"";var o=s.get_image_display_size(e,b,v,a),l=s.suggested_image_size(e,b,v,a,a.imagescalemode.toUpperCase()),c="",u=!1,d=0,f=0;"auto"===l.height&&o.frameHeight<o.height&&(d="-"+parseInt((o.height-o.frameHeight)/2)+"px",u=!0),"auto"===l.width&&o.frameWidth<o.width&&(f="-"+parseInt((o.width-o.frameWidth)/2)+"px",u=!0),r.is_adobe_air()&&"FILL"===a.imagescalemode.toUpperCase()&&(l.height=l.expectedHeight+"px",l.width=l.expectedWidth+"px");var p="<div class='jb-dt-main-image' style='position:absolute;top:"+o.top+"px;left:"+o.left+"px;height:"+o.frameHeight+"px;width:"+o.frameWidth+"px;padding:0;overflow:hidden;border:none;"+(a.imageframecolor?"border-color:"+r.format_color(a.imageframecolor)+";":"")+(k.utils.is_earlier_ie()?k.config.frameopacity+";":"")+pt(a)+gt(a)+"'><img style='${0}$height:"+l.height+";width:"+l.width+";"+c+at(n)+gt(a,!0)+"'  src='"+e.imageURL+"' alt='"+e.imageURL+"'></div>",g=s.get_image_framewidth(b,v,a);return g&&(p=p.replace("border:none;","border-style:solid;border-width:"+g+"px;")),e.position===h.position&&(i?vt(x/2):xt(o,x/2)),u?p.replace("${0}$","display:inline;position:relative;top:"+d+";left:"+f+";"):p.replace("${0}$","")},bt=function(){return I},vt=function(e){if("IMAGE"===k.config.imagenavposition.toUpperCase()){var t=k.config.showimagenav&&"NEVER"!==k.config.showimageoverlay.toUpperCase()?!1:!0;k.canImageMove()&&!t&&r.fade_out(a,C(".jb-classifier-detail-area .jbn-left-button"),e),k.canImageMove(!0)&&!t&&r.fade_out(a,C(".jb-classifier-detail-area .jbn-right-button"),e)}"OVERLAY_IMAGE"===k.config.buttonbarposition.toUpperCase()&&(!k.config.showinfobutton||k.config.showinfobutton&&k.features.showinfo.visible())&&k.detail_panel.is_visible()&&r.fade_out(a,C(".jb-classifier-link-wrapper.jb-classifier-detail-area, .jb-classifier-link-wrapper.jb-classifier-detail-area .jb-bb-bar"),e)},xt=function(e,t){if(k.detail_panel.is_visible()&&(I=!0),"IMAGE"==k.config.imagenavposition.toUpperCase()||"OVERLAY_IMAGE"==k.config.buttonbarposition.toUpperCase()){var n=s.get_containers_size_and_position(k.glryWidth(),k.glryHeight(),k.index_panel.is_visible(),k.detail_panel.is_visible(),k.config_manager.isp,k.features.toppanel.isNeeded(),k.index_panel.get_thumb_height(),k.config,k.index_panel.getCurrentDisplayingThumbCount()),i=n.detail_panel_top,o=s.get_stage_padding(k.glryWidth(),k.glryHeight(),k.config),l=parseInt(k.config.imagenavpadding);0>=l&&(l=0);var c=e.top+Math.min(e.parentHeight,e.height)/2-C(".jbn-nav-button").height()/2+k.config.framewidth,u=e.left+l+k.config.framewidth,d=e.parentWidth-(e.left+e.width+k.config.framewidth)+l;if("IMAGE"===k.config.imagenavposition.toUpperCase()){var f=k.config.showimagenav&&"NEVER"!==k.config.showimageoverlay.toUpperCase()?!1:!0;C(".jb-classifier-detail-area .jbn-nav-left-touch-area .jbn-nav-button").css({left:u,top:c}),C(".jb-classifier-detail-area .jbn-nav-right-touch-area .jbn-nav-button").css({right:d,top:c}),k.canImageMove()&&!f&&r.fade_in(a,C(".jb-classifier-detail-area .jbn-left-button"),t),k.canImageMove(!0)&&!f&&r.fade_in(a,C(".jb-classifier-detail-area .jbn-right-button"),t)}if("OVERLAY_IMAGE"===k.config.buttonbarposition.toUpperCase()){var p=parseInt(k.config.imagecornerradius/4),g=i+e.top+k.config.framewidth+l+p,h=k.config.buttonbarhalign.toUpperCase(),_=k.features.buttonbar.getButtonbarWidth(),m=!1;if(e.width-_<l&&(m=!0),"LEFT"===h)C(".jb-classifier-link-wrapper.jb-classifier-detail-area").css({left:u+p+n.detail_panel_left-10,top:g,width:m?e.width-l:"auto"});else if("CENTER"===h){_=k.features.buttonbar.getButtonbarWidth();var b=parseInt((e.width-_)/2+e.left+o+k.config.framewidth);b-=10,C(".jb-classifier-link-wrapper.jb-classifier-detail-area").css({left:b+n.detail_panel_left-o,top:g})}else d-=10,C(".jb-classifier-link-wrapper.jb-classifier-detail-area").css({right:d+p+o+("RIGHT"===k.config.thumbsposition.toUpperCase()?k.glryWidth()-n.index_panel_left:0),top:g,width:m?e.width-l:"auto"});(!k.config.showinfobutton||k.config.showinfobutton&&k.features.showinfo.visible())&&k.detail_panel.is_visible()&&r.fade_in(a,C(".jb-classifier-link-wrapper.jb-classifier-detail-area, .jb-classifier-link-wrapper.jb-classifier-detail-area .jb-bb-bar"),t)}}},wt=function(e){if(e){var t=",BELOW_THUMBS,",n=",BOTTOM,BELOW_IMAGE,OVERLAY_IMAGE"+t,o=","+a.captionposition.toUpperCase()+",";i.children().remove();var r=f.is(":visible")||t.indexOf(o)>-1,s=a.showimageoverlay.toUpperCase();"NEVER"===s&&n.indexOf(o)<0&&(r=!1),B(e.position,0,null,r)}},yt=function(e,t){b=e,v=t,C(".jb-dt-main-frame").css({width:e,height:t}),wt(h,e,t,0),nt(h,0,!0),o.get_previous_image(h.position),o.get_next_image(h.position)},jt=function(e){E=e},Tt=function(){return E};return{get_photo_position:A,move_2_next_photo:F,move_2_previous_photo:P,initialize:O,populate_photo_html:B,repaint:yt,get_current_photo:S,preload_images:W,fadeout_current_image:D,repopulate_caption_html:ft,move_back:R,set_caption_height_mode:dt,is_initialized:function(){return y},change_2_photo:U,set_visible_flag:jt,is_visible:Tt,setContext:L,isImageShowed:bt,set_photo_position:N,set_container_size:z}},gallery_defined="undefined"!=typeof juicebox_utils;if(!gallery_defined)var juicebox_utils=new juice_box_utils(juicebox_lib.jQuery),juicebox_registered_components={},juicebox_instances=[],juicebox_instance_count=0,different_size_images_in_config=!1,juicebox=function(cnfg){var $=juicebox_lib.jQuery,document_id="jb-glry-id-"+juicebox_instance_count,_=function(e){return $(context.utils.get_query_path(document_id,e))
},sizing=null,current_width=null,current_height=null,gallery_manager=new juicebox_gallery_manager,index_panel=new juicebox_gallery_index_panel(juicebox_utils,gallery_manager),detail_panel=new juicebox_gallery_detail_panel(index_panel),ignoredOptions4New="showthumbsonload",featureInstances={};for(var k in juicebox_registered_components)featureInstances[k]=new juicebox_registered_components[k](null);var context={_:_,instance_id:juicebox_instance_count,utils:juicebox_utils,gallery_manager:function(){return gallery_manager},config_manager:new juicebox_config_manager($,juicebox_utils),index_panel:index_panel,detail_panel:detail_panel,sizing:function(){return sizing},glrySizePosition:function(e,t){return sizing?("undefined"==typeof e&&(e=context.index_panel.is_visible()),"undefined"==typeof t&&(t=context.detail_panel.is_visible()),sizing.get_containers_size_and_position(current_width,current_height,e,t,context.config_manager.isp,context.features.toppanel.isNeeded(),context.index_panel.get_thumb_height(),context.config,index_panel.getCurrentDisplayingThumbCount())):null},glryStagPadding:function(){return sizing?sizing.get_stage_padding(current_width,current_height,context.config):null},glryWidth:function(){return current_width},glryHeight:function(){return current_height},isFullScreenMode:function(){return is_full_screen_mode||sizing.is_fullscreen_mode(context.config)},glryRepaint:function(e,t,n,i){return featureInstances.splash.visible()?void featureInstances.splash.repaint():void repaint(e,t,n,i)},isOverlayVisible:function(){return overlay_visible},setOverlayFlag:function(e){overlay_visible=e},redrawIndexPanel:function(e){show_thumbnails(e)},correctPath:function(e){return correct_path(e)},setOverlay:function(e,t){overlay_visible=e,display_overlay(t)},showOverlayWithSetting:function(e,t){detail_panel.is_visible()&&(overlay_visible=e,show_hide_overlay(e,t))},syncOverlayVisibility:function(){return set_overlay_visible(overlay_visible),overlay_visible},getGalleryInfo:function(){return get_current_gallery_image_info()},setExtendedGlry:function(e){extended_gallery=e},getExtendedGlry:function(){return extended_gallery},showImage:function(e,t,n,i){show_main_image(e,t,n,i)},switch2Main:function(e,t){switch_2_main_image(e,t)},unbindResize:function(){$(window).unbind("resize",windowResize)},canImageMove:function(e){return can_image_move(e)},canPageMove:function(e){return can_page_move(e)},nextImage:function(){next_image()},previousImage:function(){previous_image()},turnOffFullscreen:function(){is_full_screen_mode=!1},hasMultipleSizeImages:function(){return different_size_images_in_config},setImageEventIndex:function(e){lastImageEventIndex=e},getIgnoredOptions4New:function(){return ignoredOptions4New}};context.features=featureInstances;var flickr_loader=null,overlay_visible=!0,is_switching_image=!1;context.config_manager.init(cnfg,null,"ck-s-"),context.config=context.config_manager.get_config();var removeIgnoredOptions=function(){for(var e=ignoredOptions4New.split(","),t=0;t<e.length;t++)e[t].length<=0||delete context.config[e[t]]};"undefined"!=typeof expanded_jb_gallery&&removeIgnoredOptions();for(var j in context.features)context.features[j].setContext(context);context.detail_panel.setContext(context),context.index_panel.setContext(context),gallery_manager.init(context.config);var image_change_speed=1e3*context.config.imagetransitiontime,theme_cls="jcbx-glry-classic",themeUrl="",is_full_screen_mode=!1,right_button_offset=null,extended_gallery=null,correct_path=function(e){return e?context.utils.concate_path(context.config.baseurl,e):""},setup_layout=function(e,t,n){context.utils.is_large_screen_mode(context.config)?(context.index_panel.set_visible_flag(context.features.showthumbsbutton.isThumbsHidden()?!1:!0),context.detail_panel.set_visible_flag(!0),_("").addClass("jb-flag-large-screen-mode")):(n?(context.index_panel.set_visible_flag(!1),context.detail_panel.set_visible_flag(!0)):(context.index_panel.set_visible_flag(!0),context.detail_panel.set_visible_flag(!1)),_("").removeClass("jb-flag-large-screen-mode"))},set_overlay_visible=function(e){if(context.config.showinfobutton)overlay_visible=context.features.showinfo.visible();else{var t=context.config.showimageoverlay.toUpperCase();overlay_visible="ALWAYS"===t?!0:"NEVER"===t?!1:e}},show_hide_overlay=function(e,t){set_overlay_visible(e),display_overlay(t)},display_overlay=function(e){var t=context.detail_panel.isImageShowed()||"OVERLAY_IMAGE"!==context.config.buttonbarposition.toUpperCase()?"":":not(.jb-classifier-link-wrapper)";$.browser.msie&&overlay_visible&&_(".jb-classifier-show-on-over .jb-bb-bar").show(),context.utils.show_hide_controls(_(".jb-classifier-show-on-over"+t),overlay_visible,e)},overlayTimer=0,set_overlay=function(e,t){is_switching_image||_(" .jb-panel-detail").is(":visible")&&(context.features.showthumbsbutton.isSwitching()||(overlayTimer&&(window.clearTimeout(overlayTimer),overlayTimer=0),overlayTimer=window.setTimeout(function(){overlayTimer=0,show_hide_overlay(e,$.browser.msie&&$.browser.version>=7&&$.browser.version<8?0:t)},100)))},is_direct_open=function(){if(context.config.firstimageindex>0&&context.config.firstimageindex<=gallery_manager.length())return!0;var e=directGo2(!0,!0);return 1===e||3===e?!0:!1},check_open_image_directly=function(){var e=directGo2(!0);return 1===e||3===e?(context.detail_panel.set_visible_flag(!0),context.index_panel.set_visible_flag(!1),!0):context.config.firstimageindex>0&&context.config.firstimageindex<=gallery_manager.length()?(show_main_image(context.config.firstimageindex-1,image_change_speed,!0),context.detail_panel.set_visible_flag(!0),context.index_panel.set_visible_flag(!1),!0):!1},set_init_visible_panel=function(){setup_layout(current_width,current_height,!0);var e=sizing.get_containers_size_and_position(current_width,current_height,context.index_panel.is_visible(),context.detail_panel.is_visible(),context.config_manager.isp,context.features.toppanel.isNeeded(),context.index_panel.get_thumb_height(),context.config,index_panel.getCurrentDisplayingThumbCount());set_containers_size_and_position(e),context.features.indexnav.setPosition(e)},lastImgIdx=-1,directGo2=function(e,t){var n=0,i=context.features.hashstatus.getHashStatus();return i.hasSet&&(lastImgIdx=-1),(context.config.enabledirectlinks||e)&&i.directPicIdx>=0&&lastImgIdx!=i.directPicIdx&&(t||(lastImgIdx=i.directPicIdx,set_init_visible_panel(),context.utils.is_large_screen_mode(context.config)?show_main_image(i.directPicIdx,image_change_speed,!1,!0):switch_2_main_image(i.directPicIdx)),n|=1),(!i.hasExpHashPrefix&&context.features.fullscreen.switched_2_fullscreen()&&!context.utils.is_new_expanded_window()||i.hasExpHash&&!context.features.fullscreen.switched_2_fullscreen()&&!is_full_screen_mode)&&(context.features.fullscreen.full_screen(),n|=2),n},fireInitializedEvent=function(){juicebox_instances[context.instance_id]&&"function"==typeof juicebox_instances[context.instance_id].onInitComplete&&juicebox_instances[context.instance_id].onInitComplete()},show_splash_page=function(){if(context.config.fotomotostoreid&&context.utils.add_js_tag("http://widget.fotomoto.com/stores/script/"+context.config.fotomotostoreid+".js?api=true&aid=68677e1269332506","fotomotojs"),!(gallery_manager.length()<=0))if(context.utils.add_viewport_meta_tag_4_device(sizing.is_gallery_fully_filled(context.config.gallerywidth,context.config.galleryheight)||context.utils.is_new_expanded_window()||(context.utils.is_iphone()||context.utils.is_ipad())&&"FALSE"===context.config.expandinnewpage.toUpperCase()),current_width=get_gallery_width(),current_height=get_gallery_height(),set_font(),context.features.splash.isNeeded()){context.config_manager.sync_option_with_dependency({showexpandbutton:!0}),context.config=context.config_manager.get_config(),_(".jb-classifier-detail-area").hide(),_(".jb-panel-index").show();var e=function(){sizing.try_set_body_size(context.config,context.features.fullscreen.switched_2_fullscreen()||is_full_screen_mode),context.features.splash.repaint()};$(window).resize(e),context.features.splash.draw(_(" .jb-panel-index>.jb-idx-thumbnail-container"),function(){$(window).unbind("resize",e),$(window).resize(windowResize),context.features.fullscreen.full_screen()}),hide_url_bar(),context.config.showthumbsonload||context.features.showthumbsbutton.setIndexVisibleFlag(!1),fireInitializedEvent(),context.features.hashstatus.setHashChangedEvent(directGo2);var t=context.features.hashstatus.getHashStatus();t.hasExpHash&&context.features.fullscreen.full_screen()}else after_loading_images(),(context.features.fullscreen.switched_2_fullscreen()||context.utils.is_new_expanded_window())&&(context.config_manager.sync_option_with_dependency({showexpandbutton:!0}),context.config=context.config_manager.get_config())},get_panel_params=function(){return{jquery:$,document_id:document_id,container:_(" .jb-panel-index>.jb-idx-thumbnail-container"),config:context.config,utils:context.utils,glymng:gallery_manager,sizing:sizing,finish_draw_event_callback:switch_2_main_image,touch_event_callback:after_page_changed,caption_complete_callback:set_touch_component_height,current_width:current_width,current_height:current_height,debug:{debug3value:"function"==typeof debug_info2?debug_info2:null,debugmsg:"function"==typeof debug_message?debug_message:null}}},setPanelHoverEvents=function(){if(!(context.utils.is_iphone()||context.utils.is_ipad()||context.utils.is_android()||context.config.showinfobutton||context.config.forcetouchmode)){var e="";_(e).hover(function(){context.detail_panel.is_visible()&&(context.features.touchevent.isInNavigation()||context.features.touchevent.isInTransitioning()||is_switching_image||(overlay_visible=!0,set_overlay(overlay_visible,250),(overlay_visible||"STAGE"!=context.config.imagenavposition.toUpperCase())&&context.features.imagenav.repaint()))},function(){context.detail_panel.is_visible()&&(context.features.touchevent.isInNavigation()||context.features.touchevent.isInTransitioning()||is_switching_image||(overlay_visible=!1,set_overlay(overlay_visible,250)))})}},setNavEvents=function(){_(".jb-classifier-thumb-area .jbn-right-button").click(function(){return next_page(0)}),_(".jb-classifier-thumb-area .jbn-left-button").click(function(){return previous_page(0)});var e=context.config.imageclickmode.toUpperCase();if(!context.utils.is_touchable_device(context.config)||document.msFullscreenEnabled||context.config.forcetouchmode||$.browser.msie&&"OPEN_URL"!=e){var t;_(".jb-classifier-detail-area .jbn-right-button").click(function(){return t=context.features.touchevent.getDelta(),t.x||t.y?null:(context.features.autoplay.stop(),next_image(0))}),_(".jb-classifier-detail-area .jbn-left-button").click(function(){return context.features.autoplay.stop(),t=context.features.touchevent.getDelta(),t.x||t.y?null:previous_image(0)}),context.config.forcetouchmode||("NONE"===e?(_(".jb-classifier-detail-area .jbn-nav-right-touch-area").css("cursor","default"),_(".jb-classifier-detail-area .jbn-nav-left-touch-area").css("cursor","default")):"OPEN_URL"===e?(_(".jb-classifier-detail-area .jbn-nav-right-touch-area").click(context.features.openurl.open_url),_(".jb-classifier-detail-area .jbn-nav-left-touch-area").click(context.features.openurl.open_url)):(_(".jb-classifier-detail-area .jbn-nav-right-touch-area").click(function(){return t=context.features.touchevent.getDelta(),t.x||t.y?!1:(context.features.autoplay.stop(),next_image(0))}),_(".jb-classifier-detail-area .jbn-nav-left-touch-area").click(function(){return t=context.features.touchevent.getDelta(),t.x||t.y?!1:(context.features.autoplay.stop(),previous_image(0))})))}else{var n=parseInt(1005*context.config.imagetransitiontime+510*context.config.imagetransitiontime);_(".jb-classifier-detail-area .jbn-right-button").bind("touchend",function(e){context.index_panel.yield_4_transition(n),e.preventDefault(),context.features.touchevent.isInTransitioning()||(context.features.touchevent.setTransitioning(!0),context.features.autoplay.stop(),next_image(0),window.setTimeout(function(){context.features.touchevent.setTransitioning(!1)},n))}),_(".jb-classifier-detail-area .jbn-left-button").bind("touchend",function(e){context.index_panel.yield_4_transition(n),e.preventDefault(),context.features.touchevent.isInTransitioning()||(context.features.touchevent.setTransitioning(!0),context.features.autoplay.stop(),previous_image(0),window.setTimeout(function(){context.features.touchevent.setTransitioning(!1)},n))})}},initialize_panels=function(){setup_layout(current_width,current_height,context.detail_panel.is_visible());var e=context.config.maxthumbrows*(context.config.thumbheight+context.config.thumbpadding);context.utils.is_side_layout(context.config)&&(e=10);var t=sizing.get_containers_size_and_position(current_width,current_height,context.index_panel.is_visible(),context.detail_panel.is_visible(),context.config_manager.isp,context.features.toppanel.isNeeded(),e,context.config,index_panel.getCurrentDisplayingThumbCount()),n=get_panel_params();n.current_width=t.index_panel_width,n.current_height=t.index_panel_height,context.index_panel.initialize(n,is_full_screen_mode||context.features.fullscreen.switched_2_fullscreen()),n.container=_(" .jb-panel-detail"),n.caption_container=context.features.caption.getArea(),n.current_width=t.detail_panel_width,n.current_height=t.detail_panel_height,n.before_draw_event_callback=before_show_main_image,n.finish_draw_event_callback=after_show_main_image,context.detail_panel.initialize(n)},windowResize=function(){repaint(!1)},set_hover_over_navs=function(){if(context.config.navbuttoniconhovercolor){var e="";_(".jbn-nav-button-icon").hover(function(){e=$(this).attr("style"),$(this).css({color:context.utils.format_color(context.config.navbuttoniconhovercolor)})},function(){$.browser.msie&&$.browser.version<10?$(this).css({color:context.utils.format_color(context.config.navbuttoniconcolor)}):$(this).attr("style",e)})}},set_font=function(){context.config.galleryfontface&&_(".jcbx-glry-classic").css({"font-family":context.config.galleryfontface})},setSidePadding=function(){_(".jbn-nav-left-touch-area .jbn-nav-button").css({left:context.config.imagenavpadding}),_(".jbn-nav-right-touch-area .jbn-nav-button").css({right:context.config.imagenavpadding})},after_loading_images=function(){var e;is_full_screen_mode&&$("body").css({overflow:"hidden"}),context.config.randomizeimages&&gallery_manager.sort_images(),sizing.get_initial_size(),$("#"+document_id).html(get_gallery_frame_html()),set_font(),context.features.touchevent.setEvent(),initialize_panels(),set_hover_over_navs(),overlay_visible=context.config.showoverlayonload;var t=!0;!context.utils.is_large_screen_mode(context.config)&&context.config.autoplayonload&&(t=!1);var n="indexnav"+(context.utils.is_large_screen_mode(context.config)?",imagenav":"");if(t){var i=is_direct_open(),o=context.utils.is_large_screen_mode(context.config);n+=o||context.config.showsmallthumbsonload?",grytitle":"",n+=o||i||!context.config.showsmallthumbsbutton?",backbutton":"",(o||!context.config.showsmallthumbsbutton||i)&&(n+="OVERLAY_IMAGE"===context.config.buttonbarposition.toUpperCase()?"":",buttonbar");var a=1e3*context.config.fadetime,r=!i&&!o;index_panel.is_visible()&&context.utils.fade_in(context.config,context._(".jb-panel-index.jb-classifier-thumb-area"),a,context.utils.is_android()&&!o?!0:!1,null,"indexpanel");var s=context.features.fullscreen.switched_2_fullscreen()||is_full_screen_mode;context.utils.is_ipad()&&(sizing.try_set_body_size(context.config,s),context.features.buttonbar.repaint(),context.features.buttonbar.setPosition()),context.utils.reppaint_components(context.features,n,a,function(){context.utils.is_new_expanded_window()||(context.features.showinfo.showInfoCtrls(overlay_visible,0,!0),r?repaint(!0):(repaint(!0,!1,!1,!1,!0),context.utils.is_android()&&o&&window.setTimeout(function(){repaint(!0)},image_change_speed+300))),context.utils.is_earlier_ie()&&window.setTimeout(function(){repaint(!0)},300)})}else context.features.showinfo.showInfoCtrls(overlay_visible);context.config.useflickr&&_("").addClass("jb-flickr-glry"),context.features.fullscreen.switched_2_fullscreen()&&context.utils.need_viewport_meta()&&!context.utils.host_has_viewport_meta()&&_("").addClass("jb-large-icon"),setSidePadding(),setup_layout(current_width,current_height,context.detail_panel.is_visible()),e=sizing.get_containers_size_and_position(current_width,current_height,context.index_panel.is_visible(),context.detail_panel.is_visible(),context.config_manager.isp,context.features.toppanel.isNeeded(),context.index_panel.get_thumb_height(),context.config,index_panel.getCurrentDisplayingThumbCount()),set_containers_size_and_position(e),context.utils.set_components_position(context.features,"indexnav,imagenav,backbutton,grytitle,buttonbar",e),$(window).resize(windowResize),(context.utils.is_iphone()||context.utils.is_ipad())&&(window.onorientationchange=function(){repaint(!0)}),context.utils.setup_components_event(context.features,"buttonbar"),setNavEvents(),context.detail_panel.is_visible()&&(context.features.fullscreen.switched_2_fullscreen()?overlay_visible=context.features.fullscreen.getPersistor().parent_gallery_param.overlay_info_visible:set_overlay_visible(overlay_visible),t&&($.browser.msie||document.msFullscreenEnabled)&&n.indexOf("imagenav")>-1||(display_overlay(0),context.features.showinfo.showInfoCtrls(overlay_visible),context.features.imagenav.repaint())),set_key_events(),context.config.onload(),setPanelHoverEvents(),context.features.hashstatus.setHashChangedEvent(directGo2);var l=!0;if(context.features.fullscreen.switched_2_fullscreen()){l=!1;var c=context.features.fullscreen&&context.features.fullscreen.getPersistor().parent_gallery_param.openedFromSplash&&context.features.fullscreen.getPersistor().parent_gallery_param.openedFromSplash()?!0:!1;context.utils.is_large_screen_mode(context.config)?(show_main_image(context.features.fullscreen.getPersistor().parent_gallery_param.current_image_index,image_change_speed,!0),context.features.showthumbsbutton.setIndexVisibleFlag(!context.features.fullscreen.getPersistor().parent_gallery_param.hide_thumbnails_in_lsm),repaint(!0),context.features.fullscreen.getPersistor().parent_gallery_param.is_autoplaying&&(context.features.autoplay.stop(!1,!0),context.features.autoplay.toggleAutoPlay(!1,c?!1:!0))):(context.detail_panel.set_visible_flag(context.features.fullscreen.getPersistor().parent_gallery_param.is_detail_visible),context.index_panel.set_visible_flag(context.features.fullscreen.getPersistor().parent_gallery_param.is_index_visible),context.detail_panel.is_visible()?(show_main_image(context.features.fullscreen.getPersistor().parent_gallery_param.current_image_index,image_change_speed,!0),repaint(!0),overlay_visible=context.features.fullscreen.getPersistor().parent_gallery_param.overlay_info_visible,display_overlay(0),context.features.showinfo.showInfoCtrls(overlay_visible),context.features.imagenav.repaint(),context.features.fullscreen.getPersistor().parent_gallery_param.is_autoplaying&&(context.features.autoplay.stop(!1,!0),context.features.autoplay.toggleAutoPlay(!1,c?!1:!0))):(show_thumbnails(context.features.fullscreen.getPersistor().parent_gallery_param.current_image_index),repaint(!0))),context.utils.add_fullscreen_listener(function(e){e||context.features.fullscreen.full_screen()})}else if(context.utils.is_new_expanded_window()){if(l=!1,context.features.showthumbsbutton.setIndexVisibleFlag("true"!=context.config.hide_thumbnails_in_lsm),context.detail_panel.set_visible_flag("true"===context.config.is_detail_visible),context.index_panel.set_visible_flag("true"===context.config.is_index_visible),context.config.pageTitle)try{$("head > title").html(context.config.pageTitle)}catch(u){}context.detail_panel.is_visible()&&show_main_image(context.config.firstimageindex?context.config.firstimageindex-1:0,image_change_speed,!0),repaint(!0)}context.utils.is_new_expanded_window()||(window.setTimeout(function(){if(context.config_manager.isp&&context.features.fullscreen.switched_2_fullscreen()){lastImageEventIndex=context.features.fullscreen.getPersistor().parent_gallery_param.last_image_event_index;for(var e in context.features.fullscreen.getPersistor().parent_gallery)"function"==typeof context.features.fullscreen.getPersistor().parent_gallery[e]&&"onExpand"!==e&&(juicebox_instances[context.instance_id][e]=context.features.fullscreen.getPersistor().parent_gallery[e])}},100),0!==window.location.href.toLowerCase().indexOf("http")&&$.browser.mozilla&&repaint(!0),!t&&context.utils.is_earlier_ie()&&window.setTimeout(function(){repaint(!0)},100));var d=!1;if(context.config.autoplayonload&&!context.features.fullscreen.switched_2_fullscreen()){var f=context.utils.is_large_screen_mode(context.config);f||(switch_2_main_image(context.detail_panel.get_photo_position()),d=!0),window.setTimeout(function(){context.features.autoplay.toggleAutoPlay(!0)},100)}if(context.config.showthumbsonload===!1&&context.utils.is_large_screen_mode(context.config)&&context.features.showthumbsbutton.toggle_index_panel_4_lsm(!0,!0,is_direct_open()?!0:!1),fireInitializedEvent(),l){var p=check_open_image_directly();p||d?context.detail_panel.is_visible()&&!context.utils.is_large_screen_mode(context.config)&&(overlay_visible=context.config.showoverlayonload,context.features.showinfo.showInfoCtrls(overlay_visible),show_hide_overlay(overlay_visible,0)):(context.config.showsmallthumbsbutton&&context.config.showsmallthumbsonload||(context.detail_panel.set_visible_flag(!0),context.index_panel.set_visible_flag(!1)),context.index_panel.is_visible()&&show_thumbnails(0),context.detail_panel.is_visible()&&!context.features.fullscreen.switched_2_fullscreen()&&(!context.utils.is_large_screen_mode(context.config)||context.config.showthumbsonload)&&window.setTimeout(function(){show_main_image(0,1e3*context.config.fadetime)},100))}_(".jb-classifier-detail-area").disableSelection()},can_image_move=function(e){var t=gallery_manager.length();if(1>=t)return!1;if(context.config.enablelooping)return!0;var n=context.detail_panel.get_photo_position();return e?n>=t-1?!1:!0:0>=n?!1:!0},can_page_move=function(e){return context.index_panel.is_last_page()&&context.index_panel.is_first_page()?!1:context.config.enablelooping?!0:e?context.index_panel.is_last_page()?!1:!0:context.index_panel.is_first_page()?!1:!0},set_key_events=function(){var e=function(){(context.features.fullscreen.switched_2_fullscreen()||is_full_screen_mode)&&(context.utils.is_in_iframe()||_("").focus())};return context.config.enablekeyboardcontrols?void(context.utils.is_iphone()||context.utils.is_ipad()||context.utils.is_small_android()||(e(),_("").keydown(function(e){if(!(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey))switch(e.keyCode){case 32:if(e.preventDefault(),!context.config.enableautoplay)return;context.features.autoplay.toggleAutoPlay();break;case 37:case 75:e.preventDefault(),context.features.autoplay.stop(),previous_image(0);break;case 39:case 74:e.preventDefault(),context.features.autoplay.stop(),next_image(0);break;case 36:e.preventDefault(),context.features.autoplay.stop(),show_thumbnails(0),show_main_image(0);break;case 35:e.preventDefault(),context.features.autoplay.stop();var t=gallery_manager.length()-1;show_thumbnails(t),show_main_image(t);break;case 70:if(is_full_screen_mode||context.features.fullscreen.switched_2_fullscreen())return;e.preventDefault(),context.features.fullscreen.full_screen();break;case 27:context.features.fullscreen.switched_2_fullscreen()&&(e.preventDefault(),context.features.fullscreen.full_screen())}}))):void(context.config.enableautoplay&&(e(),_("").keydown(function(e){if(!(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey))switch(e.keyCode){case 32:e.preventDefault(),context.features.autoplay.toggleAutoPlay()}})))},update_flickr_image_details=function(e,t){if(t){var n=gallery_manager.get_image(e);n.flickrPhotoId===t.id&&(n.description=t.description,n.detail_loaded=!0,context.detail_panel.is_initialized()&&context.detail_panel.repopulate_caption_html(n))}},load_images=function(e){context.config.useflickr&&(flickr_loader=new juicebox_flickr_image_loader($,context.config_manager,display_error_message));var t=context.config_manager.isp?1e5:50;if(context.config.useflickr)flickr_loader.get_images(function(e){for(var n=0;n<e.length&&t>n;n++)gallery_manager.add_image({imageURL:e[n].imageURL,thumbURL:e[n].thumbURL,caption:e[n].caption,imageFullURL:e[n].imageFullURL,flickrPhotoId:e[n].flickrPhotoId});show_splash_page()},null);else{var n=0;$(e).find("image").each(function(){if(!(n>=t)){n++;var e=$(this),i="imageURL",o=context.utils.ship;o&&(context.utils.is_retina_display()?context.utils.is_large_screen_mode(context.config)&&(i="largeImageURL"):context.utils.is_large_screen_mode(context.config)?!$.browser.msie&&context.config.usefullscreenexpand&&context.features.fullscreen.switched_2_fullscreen()&&(i="largeImageURL"):i="smallImageURL",different_size_images_in_config||!e.attr("largeImageURL")&&!e.attr("smallImageURL")||(different_size_images_in_config=!0),"imageURL"==i||e.attr(i)||(i="imageURL"));var a=correct_path(e.attr(i)),r=e.attr("thumbURL"),s=r?correct_path(r):a,l=context.config_manager.isp?e.attr("purchaseURL"):"",c=o&&e.attr("largeImageURL")?correct_path(e.attr("largeImageURL")):"",u=o&&e.attr("smallImageURL")?correct_path(e.attr("smallImageURL")):"",d=e.attr("imageURL")?correct_path(e.attr("imageURL")):"";gallery_manager.add_image({largeImageURL:c,smallImageURL:u,originalImageURL:d,imageURL:a,thumbURL:s,title:e.children("title").text(),caption:e.children("caption").text(),linkURL:correct_path(e.attr("linkURL")),linkTarget:e.attr("linkTarget"),purchaseURL:l})}}),show_splash_page()}},get_gallery_height=function(e){return sizing.get_gallery_height(context.config,context.features.fullscreen.switched_2_fullscreen()||is_full_screen_mode,context.features.fullscreen.switched_2_fullscreen(),e)},get_gallery_width=function(){return sizing.get_gallery_width(context.config,context.features.fullscreen.switched_2_fullscreen()||is_full_screen_mode,context.features.fullscreen.switched_2_fullscreen())},init_before_loading_gallery_html=function(e){if($.browser.msie&&$.browser.version<8){var t=document.getElementById(context.config.containerid);t.innerHTML="__"}context.utils.is_ie8()||e.css({height:context.config.galleryheight,width:context.config.gallerywidth}),sizing=new juicebox_sizing_manager($,e,context.utils),context.utils.is_ie8()||(is_full_screen_mode=sizing.is_fullscreen_mode(context.config)),sizing.try_set_body_size(context.config,context.features.fullscreen.switched_2_fullscreen()||is_full_screen_mode),!sizing.force_height_calculation(context.config)&&(context.config.galleryheight+"").indexOf("%")>0?$("#"+context.config.containerid).css({height:get_gallery_height(),width:context.config.gallerywidth}):e.css({height:context.config.galleryheight,width:context.config.gallerywidth}),context.utils.is_ie8()&&(is_full_screen_mode=sizing.is_fullscreen_mode(context.config)),is_full_screen_mode&&$("body").css({padding:"0",margin:"0"}),current_width=get_gallery_width(),current_height=get_gallery_height()},init_after_dom_loaded=function(){if(_(".jb-navigation.jb-classifier-detail-area").fadeOut(0),context.utils.init_components(context.features,"fullscreen"),0!==window.location.href.toLowerCase().indexOf("http")&&(context.utils.is_chrome()||context.utils.is_opera()||context.utils.is_ie_after_11()))return void display_error_message(context.config.languagelistall.lcchm);var e=correct_path(context.config.configurl);$.ajax({url:e,type:"GET",error:function(){$("#"+document_id).html(display_error_message(context.config.languagelistall.ae))},success:function(e){var t;if("string"==typeof e&&($.browser.msie?(t=new ActiveXObject("Microsoft.XMLDOM"),t.async=!1,t.loadXML(e),e=t):(t=new DOMParser,e=t.parseFromString(e,"text/xml"))),!context.utils.is_new_expanded_window()){context.config_manager.sync_options(cnfg,e),context.config=context.config_manager.get_config();for(var n in context.features)context.features[n].setContext(context);context.features.fullscreen.switched_2_fullscreen()&&removeIgnoredOptions()}image_change_speed=1e3*context.config.imagetransitiontime,0>=image_change_speed&&(image_change_speed=1e3),context.index_panel.synchronize_config(context.config),_("."+theme_cls).attr("style",get_background_style()),context.config.showpreloader?window.setTimeout(function(){load_images(e)},300):load_images(e)}})},display_error_message=function(e){var t;t=context.config.containerid?$("#"+context.config.containerid):_("");var n;t.height()<=0&&context.config.galleryheight.indexOf("%")>0&&t.height($(window).height()*parseInt(context.config.galleryheight)/100),t&&t.length>0?(n="<table style='width:100%;height:100%;text-align:center;background-color:#777;'><tr><td><div class='jb-error-message' style='color:white;font-family:sans-serif;font-size:18px;'>"+e+"</div></td></tr></table>",t.html(n)):(n="<table style='width:100%;height:100%;text-align:center;font-family:sans-serif;font-size:18px;background-color:#777;color:#FFF;'><tr><td>"+e+"</td></tr></table>",document.write(n))},get_badge_style_str=function(){return["st","yl","e","=","'","dis","pl","ay",":","bl","ock"," !","imp","ort","ant",";","width",":","9","0","px"," !im","port","ant;","height",":","2","4","px"," !","imp","ort","ant",";","overflow",":","hidden"," !","imp","ort","ant",";","position",":","absolute"," !","imp","ort","ant",";","z-index",":","3","0","0","0"].join("")},add_css_link=function(e){var t=document.createElement("link");t.type="text/css",t.rel="stylesheet";var n=document.getElementsByTagName("head")[0]||document.documentElement;t.href=e,n.appendChild(t)},init=function(){context.utils.init_components(context.features,"hashstatus"),juicebox_instance_count++,context.config.themeurl?themeUrl=context.config.themeurl:context.config.theme&&(themeUrl=correct_path(context.config.jbcore)+"themes/"+context.config.theme+"/css/style.css"),add_css_link(themeUrl);var e;if(context.config.containerid){var t=0;e=$("#"+context.config.containerid),e.length>0?(init_before_loading_gallery_html(e),e.html(gallery_skeleton(document_id)),init_after_dom_loaded()):t=window.setInterval(function(){var e=$("#"+context.config.containerid);if(e.length<=0){if($("body").length>0)return display_error_message(context.config.languagelistall.noid01+context.config.containerid+context.config.languagelistall.noid02),t&&window.clearInterval(t),void(t=0)}else t&&window.clearInterval(t),t=0,init_before_loading_gallery_html(e),e.html(gallery_skeleton(document_id)),init_after_dom_loaded()},200)}else document.write(get_container_html(document_id)),e=_(""),init_before_loading_gallery_html(e),e.html(get_gallery_frame_html()),init_after_dom_loaded()},get_container_html=function(e,t){var n="";return $.browser.msie?n="jb-flag-msie jb-flag-msiever"+parseInt($.browser.version)+(context.utils.is_earlier_ie()?" jb-flag-msie-bf9":""):context.utils.is_swipable_device()&&(n="jb-flag-touchable"),"<div id='"+e+"' tabindex='0' class='juicebox-gallery "+n+"' style='width:100%;height:100%;'>"+(t?t:"")+"</div>"},get_autoplay_status_html=function(){return context.config.showautoplaystatus?"<div class='jb-status-message' style='position:absolute;display:none;"+(context.config.galleryfontface?"font-family:"+context.config.galleryfontface+";":"")+"'></div>":""},get_background_style=function(){var e="height:100%",t=context.config.backgroundcolor;(context.features.fullscreen.switched_2_fullscreen()||context.utils.is_new_expanded_window())&&context.config.expandedbackgroundcolor&&(t=context.config.expandedbackgroundcolor);var n=t?"background-color:"+context.utils.format_color(t)+";"+(context.utils.is_earlier_ie()?context.config.backgroundopacity+";":""):"";return"display:none;width:100%;"+e+";"+n},get_badge_image_url=function(){return context.utils.is_adobe_air()?"":["u","rl","(","ht","tp",":","/","/","j","ui","ce","b","o","x",".","n","e","t","/","i","m","g","/","jb","0","0","1",".","p","n","g",")"].join("")
},get_badge_link=function(){return["on","c","l","i","c","k","=",'"',"w","i","n","d","o","w",".","o","p","e","n","(","'","h","t","t","p",":","/","/","w","w","w",".","j","u","i","c","eb","ox",".","ne","t'",")",";","return ","false",';"'].join("")},get_gallery_frame_html=function(){var e="";context.utils.ship||(e="<div "+get_badge_style_str()+($.browser.msie?"":" !important")+";background: "+get_badge_image_url()+" no-repeat 0 0 !important;cursor:pointer;margin:0 !important;padding:0 !important;bottom:0 !important;right:0 !important' "+get_badge_link()+"></div>"),context.utils.is_adobe_air()&&(e=e.replace("<div style=","<div class='"+["j","b","-","b","a","d","g","e"].join("")+"' style=").replace(";background: "+get_badge_image_url()+" no-repeat 0 0 !important;",";"));var t=context.config.captionposition.toUpperCase();return"<div class='"+theme_cls+"' style='"+get_background_style()+"'>"+context.features.backgroundimage.getHtml()+context.features.toppanel.getHtml()+"<div class='jb-panel-index jb-classifier-thumb-area' data-layer='300' style='display:none;position:absolute !important;z-index:300;'><div class='jb-idx-thumbnail-container' style='height:100% !important;width:100% !important;margin:0;padding:0;position:relative;'></div><div class='jb-navigation index-navigation jb-classifier-thumb-area'><div class='jbn-nav-button jbn-left-button jbn-nav-button-icon jb-classifier-layer' data-layer='1000' style='z-index:1000;display:none;"+context.utils.get_nav_icon_style(context.config)+"'>"+context.utils.add_font_icon_4_ie8(context.config,"&#xe000;")+"</div><div class='jbn-nav-button jbn-right-button jbn-nav-button-icon jb-classifier-layer' data-layer='1000' style='z-index:1000;display:none;"+context.utils.get_nav_icon_style(context.config)+"'>"+context.utils.add_font_icon_4_ie8(context.config,"&#xe001;")+"</div></div><div class='jb-idx-thumbnail-show-more' style='left:10px;bottom:10px;height:30px;width:100%;margin:0;padding:0;position:absolute;display:none;'><a href='#'>more...</a></div></div>"+context.features.backbutton.getHtml()+context.features.buttonbar.getHtml4IndexPage()+"<div class='jb-panel-detail jb-classifier-detail-area jb-classifier-layer' data-layer='50' style='position:absolute !important'></div>"+context.features.grytitle.getHtml()+context.features.buttonbar.getHtml()+e+("NONE"!=t&&"BELOW_THUMBS"!=t?context.features.caption.getHtml():"")+"<div class='jb-navigation jb-classifier-detail-area jb-classifier-layer' data-layer='500' style='height:100%;z-index:500;'>"+get_autoplay_status_html()+"<div class='jbn-nav-touch-area jbn-nav-left-touch-area'>"+context.features.imagenav.getHtml(!0)+"</div><div class='jbn-nav-touch-area jbn-nav-right-touch-area'>"+context.features.imagenav.getHtml()+"</div></div></div>"},get_current_gallery_image_info=function(){var e,t=context.detail_panel.get_current_photo();e=context.config.enabledirectlinks?window.location.href:context.features.hashstatus.getUrlWithImageHash(t.position);var n=_(".jb-area-large-mode-title").text(),i=_(".caption_"+t.position+" .jb-caption .jb-caption-title").text(),o=_(".caption_"+t.position+" .jb-caption .jb-caption-desc").text(),a=n;a?i&&(a+=" | "+i):i&&(a=i);var r=a;return a&&o&&(a+=" | "+o),a||(a=o),{shareUrl:encodeURIComponent(e),imageUrl:encodeURIComponent(context.utils.convert_to_absolute_path(t.imageURL)),shareText:encodeURIComponent(a),caption:encodeURIComponent(o),title:encodeURIComponent(i),galleryTitle:encodeURIComponent(n),allTitles:encodeURIComponent(r)}},gallery_skeleton=function(e){var t=get_gallery_frame_html();return get_container_html(e,t)},lastPageEventIndex=-1,after_page_changed=function(e){if(context.features.indexnav.repaint(),!e&&context.config_manager.isp&&juicebox_instances[context.instance_id]&&"function"==typeof juicebox_instances[context.instance_id].onThumbPageChange){var t=parseInt(context.index_panel.get_index())+1;if(t!=lastPageEventIndex){lastPageEventIndex=t;var n=context.detail_panel.get_current_photo(),i={id:t,title:context.config.gallerytitle,caption:n.caption};juicebox_instances[context.instance_id].onThumbPageChange(i)}}},show_thumbnails=function(e){var t=sizing.get_containers_size_and_position(current_width,current_height,context.index_panel.is_visible(),context.detail_panel.is_visible(),context.config_manager.isp,context.features.toppanel.isNeeded(),context.index_panel.get_thumb_height(),context.config,index_panel.getCurrentDisplayingThumbCount());context.index_panel.show_page_4_image_position(e,t.index_panel_width,t.index_panel_height),context.utils.reppaint_components(context.features,"indexnav,grytitle,showthumbsbutton"),context.index_panel.is_visible()&&(set_containers_size_and_position(t),context.features.indexnav.setPosition(t))},need_jump_2_page=function(e){if(!context.utils.is_swipable_device()||!context.features.touchevent.isInTransitioning())return!1;var t=sizing.get_containers_size_and_position(current_width,current_height,context.index_panel.is_visible(),context.detail_panel.is_visible(),context.config_manager.isp,context.features.toppanel.isNeeded(),context.index_panel.get_thumb_height(),context.config,index_panel.getCurrentDisplayingThumbCount());return context.index_panel.show_page_4_image_position(e,t.index_panel_width,t.index_panel_height),!0},before_show_main_image=function(e){if((!context.features.autoplay.isPlaying()||context.config.autoplaythumbs)&&(context.index_panel.set_thumbnail_visited(e),context.index_panel.is_visible())){var t=context.index_panel.get_image_index_range(),n=t.to-t.from+1;if(e<t.from-n)return;if(e>t.to+n)return;e<t.from&&0===e?need_jump_2_page(e)||context.index_panel.move_to_next_page():e>t.to?need_jump_2_page(e)||context.index_panel.move_to_next_page():e<t.from&&(need_jump_2_page(e)||context.index_panel.move_to_prev_page())}},after_show_main_image=function(e,t){if(is_switching_image=!1,context.features.grytitle.repaint(),(!t||window.location.href.split("#").length<2||!window.location.href.split("#")[1])&&context.features.hashstatus.setImageHash(e),!context.features.autoplay.isPlaying()||context.config.autoplaythumbs){var n=context.index_panel.get_image_index_range();(n.from>e||n.to<e)&&show_thumbnails(e)}if(context.utils.reppaint_components(context.features,"buttonbar,backbutton"),set_caption_height_mode(),(overlay_visible||"STAGE"!=context.config.imagenavposition.toUpperCase())&&context.features.imagenav.repaint(),context.features.showthumbsbutton.repaint(),context.utils.is_swipable_device()&&overlay_visible&&context.features.showinfo.showInfoCtrls(overlay_visible),context.config_manager.isp&&juicebox_instances[context.instance_id]&&"function"==typeof juicebox_instances[context.instance_id].onImageChange){needImageEventOnFirstLoad=!1;var i=context.detail_panel.get_current_photo(),o=parseInt(i.position)+1,a={id:o,title:context.config.gallerytitle,caption:i.caption};o!=lastImageEventIndex&&(lastImageEventIndex=o,juicebox_instances[context.instance_id].onImageChange(a))}handle_image_preload(),context.utils.is_chrome()?_(" *").disableSelection():(_(".jb-dt-main-image-"+e+" img").disableSelection(),_(".table_page_"+context.index_panel.get_index()+" img").disableSelection(),$.browser.mozilla&&_(".jb-navigation.jb-classifier-detail-area *").disableSelection()),$.browser.msie&&$.browser.version>=8&&context.config.firstimageindex>0&&(context.index_panel.set_thumbnail_visited(e),window.setTimeout(function(){context.index_panel.set_thumbnail_visited(e)},200))},needImageEventOnFirstLoad=!0,lastImageEventIndex=-1,show_main_image=function(e,t,n,i,o,a){return context.features.touchevent.resetFlags(),!t&&$.browser.msie?window.setTimeout(function(){context.index_panel.set_thumbnail_visited(e)},100):context.index_panel.set_thumbnail_visited(e),context.utils.is_large_screen_mode(context.config)||context.features.buttonbar.setPosition(),n?void context.detail_panel.populate_photo_html(e,t,function(){after_show_main_image(e,needImageEventOnFirstLoad),needImageEventOnFirstLoad=!1},context.features.caption.isVisible(),!1,o,a):(t?(is_switching_image=!0,context.detail_panel.change_2_photo(!1,0,context.features.caption.isVisible(),e)):(context.detail_panel.populate_photo_html(e,0,null,context.features.caption.isVisible(),!1,o,a),after_show_main_image(e,i)),void(needImageEventOnFirstLoad=!1))},handle_image_preload=function(){var e,t=context.config.imagepreloading.toUpperCase();e="ALL"===t?{from:0,to:gallery_manager.length()-1}:"NEXT"===t?context.index_panel.get_image_index_range(2):"NONE"===t?{from:context.detail_panel.get_current_photo().position,to:context.detail_panel.get_current_photo().position}:context.index_panel.get_image_index_range(),flickr_loader&&flickr_loader.load_flickr_images_detail(gallery_manager.get_images(),e,update_flickr_image_details),context.utils.is_large_screen_mode(context.config)&&context.detail_panel.preload_images(e.from,e.to+1)},set_touch_component_height=function(e){var t=sizing.get_containers_size_and_position(current_width,current_height,context.index_panel.is_visible(),context.detail_panel.is_visible(),context.config_manager.isp,context.features.toppanel.isNeeded(),context.index_panel.get_thumb_height(),context.config,index_panel.getCurrentDisplayingThumbCount());set_touch_component_size(t.detail_panel_top,t.detail_panel_left,t.detail_panel_width,e)},set_touch_component_size=function(e,t,n,i){_(".jb-navigation.jb-classifier-detail-area").css({top:e,left:t,width:n,height:i})},switch_2_main_image=function(e,t){if(context.features.autoplay.stop(),context.index_panel.is_visible()&&context.detail_panel.is_visible())return void show_main_image(e,image_change_speed);context.detail_panel.set_visible_flag(!0),context.index_panel.set_visible_flag(!1);var n=function(){context.utils.is_large_screen_mode(context.config)||context.config_manager.isp&&juicebox_instances[context.instance_id]&&"function"==typeof juicebox_instances[context.instance_id].onShowThumbs&&juicebox_instances[context.instance_id].onShowThumbs(!1)};if(_(".jb-panel-index").is(":visible")){var i=_(".jb-panel-index img");if(i.length){var o=1e3*context.config.imagetransitiontime;i.stop(),context.utils.fade_out(context.config,i,o),window.setTimeout(function(){_(".jb-classifier-thumb-area").hide();var i=_(".jb-classifier-detail-area, .jb-area-caption");i.stop(),_(".jb-area-caption").html(""),context.utils.is_firefox3()&&i.css({opacity:1,display:"none"}),i.children(".jb-dt-main-frame").remove(),context.utils.fade_in(context.config,i,o),window.setTimeout(function(){show_main_image(e,o),n(),t&&t()},20)},o>50?o-50:o)}else _(".jb-classifier-thumb-area").hide(),_(".jb-classifier-detail-area, .jb-area-caption").show(),show_main_image(e),t&&t()}else show_main_image(e),t&&t()},set_caption_height_mode=function(){if(!context.config_manager.isp&&context.detail_panel.is_visible()){var e=!0;context.index_panel.is_visible()&&"BOTTOM"!==context.config.captionposition.toUpperCase()&&"BELOW_THUMBS"!==context.config.captionposition.toUpperCase()&&(e=!1),context.detail_panel.set_caption_height_mode(e)}},repaint_timer=0,repaint=function(e,t,n,i,o){sizing.try_set_body_size(context.config,context.features.fullscreen.switched_2_fullscreen()||is_full_screen_mode);var a=n?current_height:get_gallery_height(i),r=n?current_width:get_gallery_width(),s;if(!sizing.force_height_calculation(context.config)&&(context.config.galleryheight+"").indexOf("%")>0){var l=a,c=$("#"+context.config.containerid).length>0?$("#"+context.config.containerid):_("").parent(),u=0;context.features.fullscreen.switched_2_fullscreen()&&context.config.autofullscreenexpand&&(u=3),c.height(l+u)}if(!($("#jb-glry-dlg:visible").length>0&&"jb-glry-dlg"!=_("").parent().attr("id"))){if(null==right_button_offset&&(right_button_offset=_(".jbn-right-button").width()+parseInt(_(".jbn-right-button").css("margin-right"))),context.index_panel.cleanup_initial_load_flag(),e||current_width!=r||current_height!=a){if(current_width=r,current_height=a,l=a,context.features.fullscreen.switched_2_fullscreen()?_("").css({width:r,height:l}):(sizing.force_height_calculation(context.config)&&_("").css({height:l}),sizing.force_width_calculation(context.config)&&_("").css({width:r})),setup_layout(r,a,context.detail_panel.is_visible()),s=sizing.get_containers_size_and_position(r,a,context.index_panel.is_visible(),context.detail_panel.is_visible(),context.config_manager.isp,context.features.toppanel.isNeeded(),context.index_panel.get_thumb_height(),context.config,index_panel.getCurrentDisplayingThumbCount()),set_containers_size_and_position(s,o),!o)if(context.detail_panel.is_visible()){var d=context.utils.is_swipable_device()||"OVERLAY_IMAGE"===context.config.buttonbarposition.toUpperCase()?":not(.jb-classifier-link-wrapper)":"",f=overlay_visible?"":":not(.jb-classifier-show-on-over)",p=overlay_visible&&context.utils.is_swipable_device()?".jb-classifier-detail-area"+f+d+", .jb-area-caption":".jb-classifier-detail-area"+f+d,g;context.utils.is_earlier_ie()?(_(p).fadeIn(100),g=_(".jb-panel-detail img"),g.fadeIn(100),_(".jb-panel-detail").fadeIn(100)):(_(p).css("opacity",1).show(),g=_(".jb-panel-detail img"),g.css("opacity",1).show(),_(".jb-panel-detail").css("opacity",1)),_(".jb-panel-detail").html()?context.detail_panel.repaint(s.detail_panel_width,s.detail_panel_height):show_main_image(context.detail_panel.get_photo_position(),0,!1,!0,s.detail_panel_width,s.detail_panel_height),context.features.caption.setMaxHeight(s)}else context.detail_panel.repaint(s.detail_panel_width,s.detail_panel_height),_(".jb-classifier-detail-area, .jb-area-caption, .jb-classifier-link-wrapper.jb-classifier-detail-area").hide();if(context.index_panel.is_visible()&&!t){_(".jb-classifier-thumb-area").show(),_(".jb-panel-index").show();var h=context.detail_panel.get_photo_position();context.index_panel.show_page_4_image_position(h,s.index_panel_width,s.index_panel_height,!0)}else _(".jb-panel-index").hide();context.features.showthumbsbutton.repaint(),context.index_panel.set_thumbnail_visited(context.detail_panel.get_photo_position()),set_caption_height_mode(),context.utils.set_components_position(context.features,"imagenav,indexnav,grytitle,buttonbar",s)}if(context.utils.ios_version()>=7&&current_width>current_height&&window.scrollTo(0,-40),!i)if(context.features.fullscreen.switched_2_fullscreen()){if(!context.utils.is_android()&&!$.browser.msie){var m=_("").offset();m&&window.scrollTo(m.left,m.top)}}else is_full_screen_mode&&context.utils.is_iphone()&&(window.scrollTo(0,1),repaint_timer&&(window.clearTimeout(repaint_timer),repaint_timer=0),repaint_timer=window.setTimeout(function(){window.scrollTo(0,1)},1e3));context.utils.reppaint_components(context.features,"backgroundimage")}},hide_url_bar=function(){context.utils.is_iphone()&&window.scrollTo(0,1)};null!=context.config.css?(document.write("<style id='"+document_id+"_style'>"+context.config.css.replace(/\}\s/g,"} #"+document_id+" ").replace(/^/,"#"+document_id+" ")+"</style>"),init()):init();var next_page=function(){return can_page_move(!0)?(context.index_panel.move_to_next_page(0,context.features.indexnav.repaint),handle_image_preload(),!1):!1},previous_page=function(){return can_page_move(!1)?(context.index_panel.move_to_prev_page(0,context.features.indexnav.repaint),handle_image_preload(),!1):!1},next_image=function(e){return can_image_move(!0)&&context.detail_panel.is_visible()?(context.detail_panel.move_2_next_photo(e,context.features.caption.isVisible()),!1):!1},previous_image=function(e){return can_image_move(!1)&&context.detail_panel.is_visible()?(context.detail_panel.move_2_previous_photo(e,context.features.caption.isVisible()),!1):!1},set_containers_size_and_position=function(e,t){var n=function(e,t){var n=t.detail_panel_height/2+parseInt(_(".jbn-right-button").height()/2),i=_(".jb-cap-frame.caption_"+e+" a"),o=context.config.captionposition.toUpperCase(),a="BOTTOM"!=o&&"NONE"!=o&&"BELOW_IMAGE"!=o&&"BELOW_THUMBS"!=o;set_touch_component_size(t.detail_panel_top,t.detail_panel_left,t.detail_panel_width,t.detail_panel_height-(!a||i.length<=0?0:n>context.config.maxcaptionheight?context.config.maxcaptionheight:n))},i=context.detail_panel.get_current_photo().position;n(i,e),context.index_panel.set_container_size(e.index_panel_width,e.index_panel_height,e.index_panel_top,e.index_panel_left),context.detail_panel.set_container_size(e.detail_panel_width,e.detail_panel_height,e.detail_panel_top,e.detail_panel_left);var o=context.config.captionposition.toUpperCase(),a=!context.utils.is_earlier_ie()&&"NONE"!=o&&"BOTTOM"!=o&&"BELOW_IMAGE"!=o&&"BELOW_THUMBS"!=o,r=e.caption_panel_height;$.browser.msie&&$.browser.version<=8||(!context.utils.is_large_screen_mode(context.config)||!context.features.showthumbsbutton.isThumbsHidden()&&!a)&&context.utils.is_large_screen_mode(context.config)||(r="100%");var s=e.caption_panel_top;"BELOW_THUMBS"===o&&(r="auto"),t||(context.features.caption.setAreaStyle({width:e.caption_panel_width,height:r,top:s,left:e.caption_panel_left,bottom:e.caption_panel_bottom}),context.features.caption.setMaxHeight(e)),context.features.toppanel.setAreaStyle({width:e.top_panel_width,height:e.top_panel_height,top:e.top_panel_top,left:e.top_panel_left})};return context.utils.init_components(context.features,"api"),juicebox_instances[context.instance_id].debug=function(script){context.config.debugmode=!0,eval(script)},juicebox_instances[context.instance_id]};juicebox_registered_components.api=function(){var e,t,n=function(n){e=n,t=e._},i=function(){var n={sendMessage:function(){e.config_manager.isp&&juicebox_instances[e.instance_id]&&"function"==typeof juicebox_instances[e.instance_id].onExpand&&juicebox_instances[e.instance_id].onExpand(!1)},restore:function(n,i){e.features.hashstatus.setExpanded(!1),e.features.hashstatus.enableHashEvent(!0),e.setExtendedGlry(null),e.features.splash.isSet()||("undefined"!=typeof i&&window.setTimeout(function(){e.showOverlayWithSetting(e.isOverlayVisible(),0),e.features.showinfo.showInfoCtrls(e.isOverlayVisible()),e.detail_panel.is_visible()||t(".jb-area-caption").hide(),$('.jb-dt-main-frame[style*="opacity: 0.01"]').fadeIn()},100),e.features.showthumbsbutton.toggle_index_panel_4_lsm(!0,n))},setGallerySize:function(n,i){if(!e.features.fullscreen.switched_2_fullscreen()){var o=$("#"+e.config.containerid);if(!(o.length<=0)){var a=parseInt(n)+"px",r=parseInt(i)+"px";e.turnOffFullscreen(),e.config.gallerywidth=a,e.config.galleryheight=r,o.css({height:r,width:a}),t("").height(r),e.glryRepaint(!0)}}},getScreenMode:function(){return e.utils.is_large_screen_mode(e.config)?"LARGE":"SMALL"}},i=function(t,n){if(e.features.splash.visible())return!1;var i=e.index_panel.is_visible();if(e.getExtendedGlry()&&(i=e.getExtendedGlry().isIndexVisible()),e.utils.is_large_screen_mode(e.config)||!i)return n&&n(),!1;var o=e.detail_panel.get_photo_position()+t;return 0>o&&(o=e.config.enablelooping?e.gallery_manager().length()-1:0),o>=e.gallery_manager().length()&&(o=e.config.enablelooping?0:e.gallery_manager().length()-1),e.getExtendedGlry()?e.getExtendedGlry().switch2MainE(o):e.switch2Main(o,n),!0},o=e.config_manager.isp?{showGallery:function(n){n||(e.features.audio.stop(),e.features.autoplay.stop()),n?t("").show():t("").hide()},showImage:function(t){if(e.getExtendedGlry())return void e.getExtendedGlry().showImageE(t);var n=e.gallery_manager().length();t--,0>t||t>=n||e.showImage(t)},showNextImage:function(){return i(1)?void 0:e.getExtendedGlry()?void e.getExtendedGlry().showNextImageE():void e.nextImage()},showPreviousImage:function(){return i(-1)?void 0:e.getExtendedGlry()?void e.getExtendedGlry().showPreviousImageE():void e.previousImage()},showIndexByImage:function(){return e.getExtendedGlry()?void e.getExtendedGlry().showIndexByImageE():void e.redrawIndexPanel()},toggleAutoPlay:function(t){i(0,function(){return e.getExtendedGlry()?void e.getExtendedGlry().toggleAutoPlayE(!1,t):void e.features.autoplay.toggleAutoPlay(!1,t)})},toggleThumbs:function(){return i(0)?void 0:e.getExtendedGlry()?void e.getExtendedGlry().toggleThumbsE():void e.features.showthumbsbutton.indexButtonClicked(!0)},toggleAudio:function(){return e.getExtendedGlry()?void e.getExtendedGlry().toggleAudioE():void e.features.audio.toggleAudioPlay()},toggleExpand:function(){return e.getExtendedGlry()?void e.getExtendedGlry().toggleExpandE():void e.features.fullscreen.full_screen()},toggleOverlay:function(){e.features.splash.visible()||e.setOverlay(!e.isOverlayVisible(),250)},openImageLink:function(){e.features.openurl.open_url()},showThumbPage:function(t){t--,e.index_panel.show_page_by_page_index(t)},getImageInfo:function(t){t--;var n=e.gallery_manager().length();if(0>t||t>=n)return null;var i=e.gallery_manager().get_image(t);return{id:parseInt(i.position)+1,imageURL:i.originalImageURL,largeImageURL:i.largeImageURL,smallImageURL:i.smallImageURL,displayingImageURL:i.imageURL,thumbURL:i.thumbURL,caption:i.caption,title:i.title,linkURL:i.linkURL,linkTarget:i.linkTarget}},getImageCount:function(){return e.gallery_manager().length()},getThumbPageIndex:function(){return parseInt(e.index_panel.get_index())+1},getImageIndex:function(){return parseInt(e.detail_panel.get_current_photo().position)+1}}:{};e.config_manager.isp&&e.features.fullscreen.getPersistor().parent_gallery&&(o={showImageE:function(t){var n=e.gallery_manager().length();t--,0>t||t>=n||e.showImage(t)},showNextImageE:e.nextImage,showPreviousImageE:e.previousImage,showIndexByImageE:e.redrawIndexPanel,toggleAutoPlayE:e.features.autoplay.toggleAutoPlay,toggleThumbsE:e.features.showthumbsbutton.indexButtonClicked,toggleAudioE:e.features.audio.toggleAudioPlay,toggleExpandE:e.features.fullscreen.full_screen,switch2MainE:e.switch2Main,isIndexVisible:e.index_panel.is_visible}),juicebox_instances[e.instance_id]=juicebox_lib.jQuery.extend(n,o)};return{setContext:n,init:i}},juicebox_registered_components.touchevent=function(){var e,t,n=juicebox_lib.jQuery,i=!1,o=!1,a=0,r,s,l,c,u,d,f=function(n){e=n,t=e._},p=function(){O()},g=function(){},h=function(){return{x:l,y:d}},_=function(){i=!1,o=!1,a&&(window.clearTimeout(a),a=0)},m=function(){return i},b=function(){return o},v=function(e){return i=e},x=function(e){return o=e},w=function(e){t(".jb-area-caption").is(":visible")&&t(".jb-area-caption").addClass("jb-status-cap-hide-4-move").fadeOut(e)},y=function(e){t(".jb-area-caption.jb-status-cap-hide-4-move").removeClass("jb-status-cap-hide-4-move").fadeIn(e)},j=function(n){"IMAGE"==e.config.imagenavposition.toUpperCase()&&t(".jb-classifier-detail-area .jbn-nav-button div").fadeOut(n)},T=function(){"IMAGE"==e.config.imagenavposition.toUpperCase()&&set_image_nav()},E=function(n){"OVERLAY_IMAGE"==e.config.buttonbarposition.toUpperCase()&&t(".jb-classifier-link-wrapper.jb-classifier-detail-area, .jb-classifier-link-wrapper.jb-classifier-detail-area .jb-bb-bar").fadeOut(n)},k=function(n){"OVERLAY_IMAGE"==e.config.buttonbarposition.toUpperCase()&&(!e.utils.is_buttonbarposition_default(e.config)||e.isOverlayVisible())&&e.detail_panel.is_visible()&&(n||(n=0),t(".jb-classifier-link-wrapper.jb-classifier-detail-area, .jb-classifier-link-wrapper.jb-classifier-detail-area .jb-bb-bar").fadeIn(n))},C=function(t,n){e.detail_panel.move_back(t),"IMAGE"==e.config.imagenavposition.toUpperCase()&&window.setTimeout(function(){T()},500*e.config.imagetransitiontime),(e.utils.is_buttonbarposition_default(e.config)||"OVERLAY_IMAGE"==e.config.buttonbarposition.toUpperCase())&&window.setTimeout(function(){k()},500*e.config.imagetransitiontime),window.setTimeout(function(){y()},500*e.config.imagetransitiontime),n&&window.setTimeout(function(){n()},1e3*e.config.imagetransitiontime+100)},I=function(){e.setOverlay(!e.isOverlayVisible(),250)},O=function(){var f=function(n,r){i=!1,o=!0;var s=parseInt(1e3*e.config.imagetransitiontime*(e.glryWidth()-l)/e.glryWidth());if(r>10)e.features.autoplay.stop(),e.canImageMove(!1)?e.detail_panel.move_2_previous_photo(Math.abs(r),"BELOW_THUMBS"!==e.config.captionposition.toUpperCase()||e.index_panel.is_visible()?e.isOverlayVisible():!1):C(r,function(){e.glryRepaint(!0,!1,!0,!0)}),n.preventDefault();else if(-10>r)e.features.autoplay.stop(),e.canImageMove(!0)?e.detail_panel.move_2_next_photo(Math.abs(r),"BELOW_THUMBS"!==e.config.captionposition.toUpperCase()||e.index_panel.is_visible()?e.isOverlayVisible():!1):C(r),n.preventDefault();else{var c=e.config.imageclickmode.toUpperCase();if("OPEN_URL"===c)return e.features.openurl.open_url(),a=0,o=!1,T(),k(),void y();if(e.config.showinfobutton)return C(r),a=0,void(o=!1);e.utils.is_touchable_desktop()&&e.isOverlayVisible()?C(r):(e.detail_panel.move_back(l),"NEVER"!==e.config.showimageoverlay.toUpperCase()&&I(),"BELOW_IMAGE"===e.config.captionposition.toUpperCase()&&t(".jb-area-caption").fadeIn()),s=310}e.index_panel.yield_4_transition(s),e.utils.is_large_screen_mode(e.config)?a=window.setTimeout(function(){a=0,o=!1},s):o=!1},p=function(t){if(e.features.fullscreen.switched_2_fullscreen()&&t.preventDefault(),!i&&(o&&(o=!1),l=0,d=0,!i)){if(i=!0,e.utils.is_touchable_desktop()){var n=e.utils.getMsPointerXy(t);r=n.x,c=n.y}else r=t.originalEvent.touches[0].pageX,c=t.originalEvent.touches[0].pageY;s=r,u=c,j(0),E(0)}},g=0,h=function(n){var a=0,f=0;if((e.features.fullscreen.switched_2_fullscreen()||e.isFullScreenMode()||Math.abs(a-r)>Math.abs(f-c))&&n.preventDefault(),e.utils.is_touchable_desktop()){var p=e.utils.getMsPointerXy(n);a=p.x,f=p.y}else a=n.originalEvent.touches[0].pageX,f=n.originalEvent.touches[0].pageY;if(!o&&i){w(0),l=a-r,d=f-c,Math.abs(l)>10&&e.features.autoplay.stop();var h=t(" .jb-panel-detail .jb-dt-main-frame");e.utils.clean_up_transition(h),h.animate({left:"+="+(a-s),avoidTransforms:!e.config.use_webkit_transform,useTranslate3d:e.config.use_3d_transform},0),s=a,u=f,e.utils.is_android()&&(g&&window.clearTimeout(g),g=window.setTimeout(function(){g=0,_(n)},1e3))}},_=function(t){e.config.autofullscreenexpand&&e.utils.show_real_fullscreen(e.config.containerid),g&&(window.clearTimeout(g),g=0);var n=Math.abs(l)>Math.abs(d);return(e.features.fullscreen.switched_2_fullscreen()||e.isFullScreenMode()||n)&&t.preventDefault(),o||!i?(l=0,d=0,void(i=!1)):void(n?f(t,l):Math.abs(d)>10?(C(l),e.isFullScreenMode()||e.features.fullscreen.switched_2_fullscreen()||window.scrollBy(0,-1*d),i=!1):f(t,0))};if(e.utils.is_touchable_desktop())for(var m=document.getElementsByClassName("jb-navigation jb-classifier-detail-area"),b=0;b<m.length;b++){var v=m[b];v.addEventListener("touchstart",p,!1),v.addEventListener("touchmove",h,!1),v.addEventListener("touchend",_,!1),v.addEventListener("gesturestart",p,!1),v.addEventListener("gesturechange",h,!1),v.addEventListener("gestureend",_,!1)}else n.browser.msie||document.msFullscreenEnabled||t(".jb-navigation.jb-classifier-detail-area").bind("touchstart",p).bind("touchmove",h).bind("touchend",_);(!n.browser.msie&&!document.msFullscreenEnabled||e.utils.is_touchable_desktop())&&(t(".jb-classifier-detail-area .jbn-right-button, jb-classifier-detail-area .jbn-left-button").bind("touchstart",function(e){e.preventDefault()}).bind("touchmove",function(e){e.preventDefault()}).bind("touchend",function(e){e.preventDefault()}),t(".jb-area-caption, .jb-classifier-link-wrapper, .jb-area-large-mode-title").bind("touchmove",function(e){e.preventDefault()}),t(".jb-panel-detail").nextAll('div[onclick*="window.open"]').bind("touchmove",function(e){e.preventDefault()}).bind("touchend",function(e){window.open("http://www."+["ju","ice","b","ox",".n","et"].join("")),e.preventDefault()})),e.config.forcetouchmode&&!e.utils.is_touchable_desktop()&&(t(".jb-classifier-detail-area .jbn-left-button, .jb-classifier-detail-area .jbn-right-button").mouseup(function(e){e.preventDefault(),i=!1}).mousedown(function(e){e.preventDefault()}).mousemove(function(e){e.preventDefault()}),t(".jb-navigation.jb-classifier-detail-area").mousedown(function(e){if(1===e.which){var t={originalEvent:{touches:[{}]}};e.preventDefault(),t.preventDefault=function(){},t.originalEvent.touches[0].pageX=e.screenX,t.originalEvent.touches[0].pageY=e.screenY,p(t)}}).mousemove(function(e){if(1!==e.which)return void(i=!1);if(i){var t={originalEvent:{touches:[{}]}};t.preventDefault=function(){},t.originalEvent.touches[0].pageX=e.screenX,t.originalEvent.touches[0].pageY=e.screenY,h(t)}}).mouseup(function(){if(i){var e={};e.preventDefault=function(){},_(e)}}).mouseout(function(){if(i){var e={};e.preventDefault=function(){},_(e)}}))};return{setContext:f,setEvent:p,init:g,isInNavigation:m,isInTransitioning:b,resetFlags:_,setNavigation:v,setTransitioning:x,getDelta:h}},juicebox_registered_components.caption=function(){var e,t,n=function(n){e=n,t=e._},i=function(){var t=e.config.captionposition.toUpperCase();if("NONE"===t)return"";var n;n="BELOW_IMAGE"===t||"BOTTOM"===t||"BELOW_THUMBS"===t?"jb-flag-size-fixed":"jb-classifier-show-on-over";var i=e.config.thumbsposition.toUpperCase(),o="BOTTOM"!==t&&"BELOW_THUMBS"!==t||"LEFT"==i||"RIGHT"==i?200:400;return"<div class='jb-area-caption jb-classifier-layer "+n+"' data-layer='200' style='display:none; position:absolute !important;overflow:hidden; bottom: 0; z-index:"+o+"; max-height:"+e.config.maxcaptionheight+"px;"+(e.config.galleryfontface?"font-family:"+e.config.galleryfontface+";":"")+"'></div>"},o=function(){return t(".jb-area-caption")},a=function(e){t(".jb-area-caption").css(e)},r=function(e){return e.html(i()),!0},s=function(){},l=function(){},c=function(e){if(u()){var n=t(".jb-area-caption");e?n.fadeIn(e):n.show()}},u=function(){var t=e.config.captionposition.toUpperCase();return"NONE"===t?!1:"BELOW_THUMBS"!==e.config.captionposition.toUpperCase()||e.index_panel.is_visible()?"BELOW_IMAGE"===t||"BOTTOM"===t||"BELOW_THUMBS"===t?!0:e.syncOverlayVisibility():!1},d=function(t){var n=",BOTTOM,NONE,BELOW_IMAGE,BELOW_THUMBS,",i=","+e.config.captionposition.toUpperCase()+",";if(t&&(t.detail_panel_top||t.detail_panel_height)){var o=e.config.maxcaptionheight>t.detail_panel_height&&n.indexOf(i)<0?t.detail_panel_height:e.config.maxcaptionheight;0>=o&&(o=0),a({"max-height":o})}};return{setContext:n,getHtml:i,draw:r,setEvent:s,init:l,repaint:c,isVisible:u,setAreaStyle:a,getArea:o,setMaxHeight:d}},juicebox_registered_components.splash=function(){var e,t,n,i,o=!1,a=!1,r=function(n){e=n,t=e._},s=function(){i||(i=e.config.splashimageurl?e.correctPath(e.config.splashimageurl):e.gallery_manager().get_image(0).imageURL);var t=e.config.galleryfontface?"font-family:"+e.config.galleryfontface+";":"",n="style='display:none;position:absolute;left:0;top:0;width:"+e.glryWidth()+"px;height:"+e.glryHeight()+"px;"+t+"'";return"<table><tr><td class='jb-splash-holder'><img src='"+i+"' "+n+"/>                     <div class='jb-splash-background' "+n+"></div>                     <div class='jb-splash'>                     <div class='jb-splash-info jb-layer' data-layer='100' style='z-index:100;'>                         <h3 style='"+t+"'>"+(e.config.splashtitle?e.config.splashtitle:e.config.gallerytitle)+"</h3>                         "+(e.config.splashshowimagecount?"<p class='jb-splash-cnt' style='"+t+"'>"+e.gallery_manager().length()+" "+e.config.languagelistall.splimgs+"</p>":"")+l()+"<a class='jb-splash-view-glry' href='#' style='"+t+"'>"+e.config.splashbuttontext+"</a>                     </div>                 </div></td></tr></table>"},l=function(){return e.config.gallerydescription?"<p class='jb-splash-desc'>"+e.config.gallerydescription+"</p>":""},c=function(e){return e.playaudioonload&&a?!0:!1},u=function(){return a},d=function(i){o=!0,a=!0,n=i,i.html(s()),g(),e.features.audio.init(!0),e.config.autoplayonload&&e.features.autoplay.set_autoplay_flag(1),e.setOverlayFlag(e.config.showoverlayonload),e.features.showinfo.showInfoCtrls(e.config.showoverlayonload),e.config.firstimageindex>0&&e.config.firstimageindex<=e.gallery_manager().length()&&e.detail_panel.set_photo_position(e.config.firstimageindex-1),t(".jb-splash-view-glry, .jb-splash, .jb-splash-background").click(function(){return o=!1,e.features.fullscreen.full_screen(),!1})},f=function(){return o},p=function(){},g=function(){var n=e.sizing(),o=n.get_gallery_width(e.config,!1),a=n.get_gallery_height(e.config,!1);
e.sizing().position_2_fill_image(o,a,i,function(n){t(".jb-splash-holder img").css({top:n.imageTop,left:n.imageLeft,width:n.imageWidth,height:n.imageHeight}).show();var i={height:a};t(".jb-splash-background").css(i),juicebox_lib.jQuery("#"+e.config.containerid).css(i)},!0),e.utils.is_iphone()&&window.scrollTo(0,1)},h=function(){return e.features.fullscreen.switched_2_fullscreen()||e.utils.is_new_expanded_window()?!1:_()},_=function(){var t=e.config.showsplashpage.toUpperCase();return"NEVER"===t?!1:"ALWAYS"===t?!0:e.utils.is_large_screen_mode(e.config)||e.isFullScreenMode()?!1:!0};return{setContext:r,getHtml:s,draw:d,setEvent:p,repaint:g,isNeeded:h,isSet:_,visible:f,need2PlayAudioAfterSplash:c,opendFromSplash:u}},juicebox_registered_components.hashstatus=function(){var e="expanded",t,n,i=!1,o=juicebox_lib.jQuery,a=function(e){t=e,n=t._},r=function(){},s=function(){!t.features.fullscreen.switched_2_fullscreen()&&t.instance_id>0&&(e="expand"+(t.instance_id+1))},l=function(){return e},c=function(n){if(!t.utils.need_new_window(t.config)){o(window).unbind("hashchange"),d&&window.clearTimeout(d),d=window.setTimeout(function(){d=0,_()},100);var i=window.location.href.split("#");if(n){if(1==i.length)return void(window.location.href=i[0]+"#"+e);var a=i[1].replace("expanded","").replace(e,"").replace(/expand\d+/g,"")+e;if(a==i[1])return;return void(window.location.href=i[0]+"#"+a)}if(!(i.length<=1)){var r=i[1].replace(e,"").replace(/expand\d+/g,"");if(r!=i[1])return void(window.location.href=i[0]+"#"+r)}}},u=!1,d=0,f=function(n){u=!0;var i=window.location.href.split("#"),o="";2==i.length&&i[1].indexOf(e)>-1&&(o=e);var a=t.gallery_manager().get_image(n).original_position;return i[0]+"#"+(parseInt(a)+1)+o},p=function(e){if(t.config.enabledirectlinks){var n=window.location.href.split("#"),i=t.gallery_manager().get_image(e).original_position;n.length>=2&&i===parseInt(n[1])-1||(o(window).unbind("hashchange"),window.location.href=f(e),d&&window.clearTimeout(d),d=window.setTimeout(function(){d=0,_()},100))}},g=0,h,_=function(e){if(e&&(h=e),o.browser.msie&&o.browser.version<8){if(g&&window.clearInterval(g),g=0,!h)return;g=window.setInterval(function(){!i&&h&&h()},800)}else o(window).bind("hashchange",function(){!i&&h&&h()})},m=function(e){i=!e},b=function(){var n=window.location.href.split("#"),i=n.length>=2?parseInt(n[1])-1:-1;return i=t.gallery_manager().get_current_position(i),i>=0&&i<t.gallery_manager().length()||(i=-1),{hasExpHash:2==n.length&&n[1].indexOf(e)>=0,directPicIdx:i,hasSet:u,hasExpHashPrefix:2==n.length&&n[1].indexOf("expand")>=0}};return{setContext:a,setEvent:r,init:s,setExpanded:c,getUrlWithImageHash:f,setImageHash:p,setHashChangedEvent:_,getHashStatus:b,enableHashEvent:m,getExpendedHash:l}},juicebox_registered_components.backgroundimage=function(){var e,t,n=function(n){e=n,t=e._},i=0,o=0,a=function(){var n=e.correctPath(e.config.backgroundurl);if(t(".jb-panel-background").remove(),!n)return"";if(e.features.fullscreen.switched_2_fullscreen()){i=e.features.fullscreen.getPersistor().parent_gallery_param.background_image_width,o=e.features.fullscreen.getPersistor().parent_gallery_param.background_image_height;var a=u(!0),r="";return"undefined"!=typeof a&&a&&("undefined"!=typeof a.imageTop&&(r+="top:"+a.imageTop+"px;"),"undefined"!=typeof a.imageLeft&&(r+="left:"+a.imageLeft+"px;"),a.imageWidth&&(r+="width:"+a.imageWidth+"px;"),a.imageHeight&&(r+="height:"+a.imageHeight+"px;")),"<img class='jb-panel-background' src='"+n+"' style='position:absolute;"+r+"'/>"}var s=new Image;return s.onload=function(){i=s.width,o=s.height,u(),t(".jb-panel-background").attr("src",n).show()},s.src=n,"<img class='jb-panel-background' style='display:none;position:absolute;'/>"},r=function(e){return e.html(a()),!0},s=function(){t(".jb-bb-btn-de-show-list").click(l)},l=function(){return!1},c=function(){},u=function(n){if(!e.config.backgroundurl)return null;if(!i||!o)return null;var a={},r=e.config.backgroundscale.toUpperCase(),s=t(".jb-panel-background"),l=e.glryHeight(),c=e.glryWidth();return n&&(e.config.usefullscreenexpand&&e.utils.support_real_fullscreen&&screen.height&&screen.width?(l=parseInt(screen.height),c=parseInt(screen.width)):(l=$(window).height(),c=$(window).width())),"FILL"===r?(a=e.sizing().get_image_display_size({width:i,height:o},c,l,e.config,"FILL",!0),s.css({top:a.unadjtop,left:a.unadjleft,width:a.width,height:a.height})):"NONE"===r||(s.css({width:c,height:l}),a={imageTop:0,imageLeft:0,imageWidth:c,imageHeight:l}),a},d=function(){u()},f=function(){return{width:i,height:o}};return{setContext:n,getHtml:a,draw:r,setEvent:s,init:c,repaint:d,getSizingInfo:f}},juicebox_registered_components.grytitle=function(){var e,t,n=function(n){e=n,t=e._},i=function(e){return e?"jb-idx-title":"jb-area-large-mode-title"},o=function(t){if(!e.config.gallerytitle)return"";var n=e.config.gallerytitleposition.toUpperCase();if("NONE"===n)return"";var o=e.utils.is_large_screen_mode(e.config);if(o&&t)return"";var a,r=i(t);return"TOP"==n||t||(r+=" jb-classifier-show-on-over"),a=o||e.config.gallerytitle.indexOf("<")>-1?e.config.gallerytitle:'<textarea rows="1" class="jb-idx-ssm-title-wrapper" readonly="true" style="background:transparent;border:none;overflow:hidden;resize: none;">'+e.config.gallerytitle+"</textarea>","ABOVE_THUMBS"!=e.config.gallerytitleposition.toUpperCase()?"<div class='"+r+"' style='position: absolute;display:none;'>"+a+"</div>":"<div class='"+r+"jb-classifier-layer' data-layer='600' style='position:absolute;display:none;z-index:600'>"+a+"</div>"},a=function(e){return e.html(o()),!0},r=function(){},s=function(){},l=function(t){c(t),e.config.galleryfontface&&e._("."+i(!0)+", ."+i()).css("font-family",e.config.galleryfontface)},c=function(n){var i=t(".jb-area-large-mode-title"),o;if(e.utils.is_large_screen_mode(e.config)){if(e.index_panel.display_gallery_top(!1),e.config.gallerytitle){var a=e.config.showimageoverlay.toUpperCase(),r=e.config.gallerytitleposition.toUpperCase();if(e.config.textcolor&&i.css({color:e.utils.format_color(e.config.textcolor)}),e.config.textshadowcolor&&i.css({"text-shadow":e.utils.get_text_shadow_style(e.config.textshadowcolor,e.config.textshadowcolora,!0)}),"TOP"==r)o=i.html(e.config.gallerytitle);else if("ABOVE_THUMBS"===r)e.index_panel.is_visible()?o=i.html(e.config.gallerytitle).css({height:"auto",overflow:"visible","white-space":"normal"}).removeClass("jb-classifier-show-on-over"):i.hide();else{var s=t(".jb-area-large-mode-title.jb-classifier-show-on-over");e.config.showinfobutton&&!e.features.showinfo.visible()?o=null:e.isOverlayVisible()||"ALWAYS"===a?o=s.html(e.config.gallerytitle):"NEVER"===a&&s.html(e.config.gallerytitle).hide()}o&&(n?e.utils.fade_in(e.config,o,n,!1,null,"title"):o.show())}}else i.remove(),e.index_panel.is_visible()&&e.index_panel.display_gallery_top(e.index_panel.is_visible())},u=function(n){var i=e.config.gallerytitleposition.toUpperCase(),o=e.glryStagPadding(),a=10+o,r=10,s=n?n:e.glrySizePosition(),l=a,c=l,u=l,d=e.config.gallerytitlehalign.toUpperCase(),f=!0,p=0;if("RIGHT"===d&&(f=!1),p=r+s.detail_panel_top,"TOP"===i)p=r+1+s.top_panel_top;else if("ABOVE_THUMBS"===i){var g=e.index_panel.get_show_area_position(),h=parseInt(e._(".jb-area-large-mode-title").css("font-size"));p=parseInt(s.is_sideway_layout?g.top-h-e.config.thumbpadding:s.index_panel_top-e.sizing().constTitleHeight4AboveThumbs+g.top),0>p&&(p=0),"CENTER"===d?(c=s.index_panel_left+e.config.thumbhseparation-e.config.thumbpadding+(s.index_panel_width-t(".jb-area-large-mode-title").width())/2,u="auto"):"RIGHT"===d?(u=e.glryWidth()-s.index_panel_left-g.left-g.width,c="auto"):(c=g.left+s.index_panel_left,u="auto")}var _="auto",m=e.config.buttonbarposition.toUpperCase(),b="OVERLAY"===m&&"OVERLAY"===i||"TOP"===m&&"TOP"===i?!0:!1;if(e.utils.is_large_screen_mode(e.config)&&b){var v=e.config.buttonbarhalign.toUpperCase(),x=parseInt(t(".jb-bb-bar").parent().width()),w=e._(".jb-area-large-mode-title").width(),y=e.glryWidth()-2*e.config.stagepadding-x-30,j=w>y-50;j&&("LEFT"===v&&"RIGHT"===d||"RIGHT"===v&&"LEFT"===d)&&(_=y,250>_&&(_=250))}var T=e.config.thumbsposition.toUpperCase(),E="ABOVE_THUMBS"!==i||"LEFT"!==T&&"RIGHT"!==T?!1:!0,k=t(".jb-area-large-mode-title a").length>0?600:200,C;"CENTER"===d?(E&&"ABOVE_THUMBS"!=i&&(c=o-parseInt(t(".jb-area-large-mode-title").css("padding-left")),u=o+("RIGHT"===T?0:s.detail_panle_left)),C=e.index_panel.is_visible()?{left:c,top:p,right:u,height:"auto","text-align":"center",overflow:"visible","white-space":"normal","z-index":k}:{left:c,top:p,right:u,height:"auto","text-align":"center",overflow:"hidden","white-space":"nowrap","z-index":k}):f?(E&&"RIGHT"===T&&"ABOVE_THUMBS"!=i&&(c=s.index_panel_left),C=e.index_panel.is_visible()?{left:c,right:"auto",height:"auto",width:_,top:p,"text-align":"left",overflow:"visible","white-space":"normal","z-index":k}:{left:c,right:"auto",height:"auto",width:_,top:p,"text-align":"left",overflow:"hidden","white-space":"nowrap","z-index":k}):(E&&"ABOVE_THUMBS"!=i&&("LEFT"===T?u+=current_width-s.detail_panel_left:u-=10),C=e.index_panel.is_visible()?{left:"auto",right:u,top:p,height:"auto",width:_,"text-align":"right",overflow:"visible","white-space":"normal","z-index":k}:{left:"auto",right:u,top:p,height:"auto",width:_,"text-align":"right",overflow:"hidden","white-space":"nowrap","z-index":k}),e._(".jb-area-large-mode-title").css(C)};return{setContext:n,getHtml:o,draw:a,setEvent:r,init:s,repaint:l,setPosition:u}},juicebox_registered_components.toppanel=function(e){var t=e,n=function(e){t=e},i=function(){return u()?"<div class='jb-panel-top' style='position:absolute;background-color:"+t.utils.format_color(t.config.topbackcolor)+(t.utils.is_earlier_ie()?";"+t.config.topbackopacity+";":"")+"'> </div>":""},o=function(e){return e.html(i()),!0},a=function(e){t._(".jb-panel-top").css(e)},r=function(){t._(".jb-bb-btn-de-show-list").click(s)},s=function(){return!1},l=function(){},c=function(){},u=function(){if(!t.utils.is_large_screen_mode(t.config))return!1;var e=t.config.backbuttonposition.toUpperCase();return"TOP"===t.config.gallerytitleposition.toUpperCase()||"TOP"===t.config.buttonbarposition.toUpperCase()||"TOP"===e?!0:!1};return{setContext:n,getHtml:i,draw:o,setEvent:r,init:l,repaint:c,isNeeded:u,setAreaStyle:a}},juicebox_registered_components.backbutton=function(){var e,t,n=juicebox_lib.jQuery,i=function(n){e=n,t=e._},o=function(){return"TOP"===e.config.backbuttonposition.toUpperCase()?6:10},a=function(){if(!d())return"";var t=e.config.backbuttonposition.toUpperCase(),n="";return"OVERLAY"===t&&(n=" jb-classifier-show-on-over"),e.config.showsmallbackbutton&&(n+=" jb-classifier-detail-area"),e.config.backbuttonuseicon&&(n+=" jb-go-back-icon-frame"),"<div class='jb-go-back jb-classifier-layer"+n+"' data-layer='600' style='position:absolute !important;z-index:600; top: "+o()+"px; left: 10px; display:none;"+(d()&&e.config.backbuttonuseicon?e.utils.get_button_bar_style(e.config,!0):"")+"'>"+f()+"</div>"},r=function(e){return e.html(a()),!0},s=function(){t(".jb-bb-btn-de-show-list").click(l)},l=function(){return!1},c=function(){},u=function(n){d()&&e.utils.fade_in(e.config,t(".jb-go-back"),n,!1,null,"backbtn")},d=function(){if(e.config.showsmallbackbutton)return!0;var t=e.config.backbuttonposition.toUpperCase();return"TOP"===t||"OVERLAY"===t?!0:!1},f=function(){if(!e.features.backbutton.isNeeded())return"";var t,i=e.config.backbuttonuseicon?"jb-go-back-icon":"",o=e.config.backbuttonuseicon&&n.browser.msie&&n.browser.version<9?"&#xe014;":e.config.backbuttonuseicon?"":e.config.backbuttontext,a=e.config.backbuttonuseicon?" title='"+e.config.languagelistall.gobk+"'":"",r=n.browser.msie&&n.browser.version<8?"padding-top:"+parseInt(e.utils.get_button_bar_button_size(e.config).buttonWidth/4)+"px;":"";return i+=e.config.backbuttonuseicon?" jb-go-back-icon":"",t=e.config.backbuttonurl?"<a href='"+e.config.backbuttonurl+"'"+(e.config.showsmallbackbutton?" class='jb-classifier-show-on-over "+i+"'":"class='"+i+"'")+" style='"+r+(e.config.backbuttonuseicon?e.utils.get_button_bar_icon_style(e.config,!0):"")+"'"+a+">"+o+"</a>":"<a href='#' onclick='history.back(); return false;'"+(e.config.showsmallbackbutton?" class='jb-classifier-show-on-over "+i+"'":"class='"+i+"'")+" style='"+r+(e.config.backbuttonuseicon?e.utils.get_button_bar_icon_style(e.config,!0):"")+"'"+a+">"+o+"</a>"},p=function(){if(!e.features.backbutton.isNeeded())return void t(".jb-go-back").remove();var n=o()+e.glryStagPadding(),i=e.glrySizePosition(!0,!0),a=n,r="OVERLAY"!=e.config.backbuttonposition.toUpperCase()?n:i.detail_panel_top+10,s=e.config.backbuttonhalign.toUpperCase(),l;"CENTER"===s?(l={top:r,left:a,right:a,"text-align":"center","z-index":550},e.config.backbuttonuseicon&&(l.left=parseInt((current_width-38)/2),l.right="auto",l.padding=0,l.width="auto")):l="RIGHT"===s?{top:r,left:"auto",right:a,"z-index":650}:{top:r,left:a,right:"auto","z-index":650},e.config.showsmallbackbutton?t(".jb-go-back").html(f()).css(l):t(".jb-go-back").html(f()).css(l).show(),e.config.textcolor&&t(".jb-go-back a").css({color:e.utils.format_color(e.config.textcolor)}),e.config.textshadowcolor&&t(".jb-go-back a").css({"text-shadow":e.utils.get_text_shadow_style(e.config.textshadowcolor,e.config.textshadowcolora,!0)}),e.config.galleryfontface&&t(".jb-go-back a").css("font-family",e.config.galleryfontface)};return{setContext:i,getHtml:a,draw:r,setEvent:s,init:c,repaint:u,isNeeded:d,setPosition:p}},juicebox_registered_components.buttonbar=function(){var e=juicebox_lib.jQuery,t,n,i=function(e){t=e,n=t._},o=function(){return t.utils.is_large_screen_mode(t.config)?"":"<div class='jb-classifier-link-wrapper jb-classifier-thumb-area jb-classifier-layer' data-layer='3000' style='z-index:3000;right:10px;top:10px;'><div class='jb-bb-bar' style='"+t.utils.get_button_bar_style(t.config)+"'><div class='jb-bb-button jb-bb-btn-full-screen"+(t.features.fullscreen.switched_2_fullscreen()||t.utils.is_new_expanded_window()?" jb-bb-btn-de-full-screen":"")+"' title='"+(t.features.fullscreen.switched_2_fullscreen()||t.utils.is_new_expanded_window()?t.config.languagelistall.ef:t.config.languagelistall.gf)+"' style='"+t.utils.get_button_bar_icon_style(t.config)+"'>"+t.utils.add_font_icon_4_ie8(t.config,t.features.fullscreen.switched_2_fullscreen()||t.utils.is_new_expanded_window()?"&#xe006;":"&#xe005;",!0)+"</div></div></div>"},a=function(){var e=t.config.buttonbarposition.toUpperCase();if("NONE"===e)return"";var n="",i="display:none;";return"TOP"==e||"OVERLAY_IMAGE"==e||t.config.showinfobutton||(n="jb-classifier-show-on-over"),"<div class='jb-classifier-link-wrapper jb-classifier-detail-area jb-classifier-layer "+n+"' data-layer='3000' style='z-index:3000;"+i+"'>"+(p()?"<div class='jb-bb-bar' style='"+t.utils.get_button_bar_style(t.config)+"background-color:"+t.utils.format_color(t.config.buttonbarbackcolor)+"'>"+s()+g("jb-bb-splitter-1")+l()+g("jb-bb-splitter-2")+c()+g("jb-bb-splitter-3")+u()+"</div>":"")+"</div>"},r=function(e){return e.html(a()),!0},s=function(){var e=t.features.fullscreen.getPersistor();return d("jb-bb-btn-de-show-list",t.config.languagelistall.st,t.utils.is_large_screen_mode(t.config)?"&#xe002;":"&#xe003;")+d("jb-bb-btn-open-url",t.config.languagelistall.oiinw,"&#xe004;")+d("jb-bb-btn-full-screen"+(e.is_full_screen||t.utils.is_new_expanded_window()?" jb-bb-btn-de-full-screen":""),e.is_full_screen||t.utils.is_new_expanded_window()?t.config.languagelistall.ef:t.config.languagelistall.gf,e.is_full_screen||t.utils.is_new_expanded_window()?"&#xe006;":"&#xe005;")},l=function(){return d("jb-bb-btn-top-nav jb-bb-btn-top-nav-left",t.config.languagelistall.goprv,"&#xe007;")+d("jb-bb-btn-auto-play",t.config.languagelistall.strta,"&#xe009;")+d("jb-bb-btn-top-nav jb-bb-btn-top-nav-right",t.config.languagelistall.gonxt,"&#xe008;")},c=function(){return d("jb-bb-btn-show-info",t.config.languagelistall.hdinfo,"&#xe00b;")+d("jb-bb-btn-audio",t.config.languagelistall.plya,"&#xe00c;")},u=function(){return d("jb-bb-btn-fotomoto",t.config.languagelistall.fotomoto,"&#xe00e;",t.config.fotomotostoreid?!1:!0)+(t.config.sharefacebook?d("jb-bb-btn-facebook",t.config.languagelistall.facebook,"&#xe00f;"):"")+(t.config.sharetwitter?d("jb-bb-btn-twitter",t.config.languagelistall.twitter,"&#xe010;"):"")+(t.config.sharegplus?d("jb-bb-btn-gplus",t.config.languagelistall.gplus,"&#xe011;"):"")+(t.config.sharepinterest?d("jb-bb-btn-printerest",t.config.languagelistall.printerest,"&#xe012;"):"")+(t.config.sharetumblr?d("jb-bb-btn-tumblr",t.config.languagelistall.tumblr,"&#xe013;"):"")},d=function(e,n,i,o){return"<div class='jb-bb-button "+e+"' title='"+n+"' style='"+t.utils.get_button_bar_icon_style(t.config)+(o?";display:none;":"")+"'>"+t.utils.add_font_icon_4_ie8(t.config,i,!0)+"</div>"},f=function(){if(t.utils.init_components(t.features,"audio"),t.utils.setup_components_event(t.features,"showthumbsbutton,openurl,fullscreen,topnavleft,autoplay,topnavright,showinfo,audio,fotomoto,facebook,twitter,gplus,printerest,tumblr"),t.config.buttonbariconhovercolor){var i="",o=".jb-bb-button";t.features.backbutton.isNeeded()&&t.config.backbuttonuseicon&&(o+=", .jb-go-back-icon"),n(o).hover(function(){i=e(this).attr("style"),e(this).css({color:t.utils.format_color(t.config.buttonbariconhovercolor)})},function(){e.browser.msie&&e.browser.version<10?e(this).css({color:t.utils.format_color(t.config.buttonbariconcolor)}):e(this).attr("style",i)})}n(".jb-bb-btn-top-nav.jb-bb-btn-top-nav-left").click(function(){return t.features.autoplay.stop(),t.previousImage(0)}),n(".jb-bb-btn-top-nav.jb-bb-btn-top-nav-right").click(function(){return t.features.autoplay.stop(),t.nextImage(0)})},p=function(){return"NONE"===t.config.buttonbarposition.toUpperCase()?!1:!0},g=function(e){var n=0,i="";t.config.buttonbariconrealsize&&parseInt(t.config.buttonbariconrealsize)&&(n=parseInt(t.config.buttonbariconrealsize)),t.config.buttonbariconcolor&&(i="border-color:"+t.config.buttonbariconcolor+";");var o=parseInt(n/2)-1;return"<div class='jb-bb-splitter "+e+"' style='"+(n?"height:"+n+"px;margin:"+o+"px 2px "+o+"px 2px;":"")+i+"'></div>"},h=function(){},_=function(e){if(e){if("NEVER"===t.config.showimageoverlay.toUpperCase())return;var i=n(".jb-classifier-link-wrapper.jb-classifier-detail-area");t.utils.fade_in(t.config,i,e,!1,null,"btnbar")}else v()},m=function(){var e=v(!0),n=t.utils.get_button_bar_button_size(t.config);return n.buttonWidth*e.detailButtonCount+n.padding+4*e.separatorCount},b=function(){return v(!0)},v=function(e){var i=!1,o=!1,a=0,r=0,s=!1,l=!1,c=!1,u=!1;if(t.features.showthumbsbutton.isVisible()?(o=!0,s=!0,a++):n(".jb-bb-btn-de-show-list").hide(),t.config.showcaption||n(".jb-caption").hide(),t.config.showopenbutton?(o=!0,s=!0,a++):n(".jb-bb-btn-open-url").hide(),t.config.showautoplaybutton?(o=!0,l=!0,a++):n(".jb-bb-btn-auto-play").hide(),w()?(o=!0,c=!0,a++):n(".jb-bb-btn-audio").hide(),x()?(s=!0,t.index_panel.is_visible()&&!t.utils.is_large_screen_mode(t.config)?(i=!0,r++):(o=!0,a++)):n(".jb-bb-btn-full-screen").hide(),t.config.showinfobutton?(o=!0,c=!0,a++):n(".jb-bb-btn-show-info").hide(),t.config.shownavbuttons?(o=!0,l=!0,a+=2):n(".jb-bb-btn-top-nav").hide(),t.features.fotomoto.isVisible())e||n(".jb-bb-btn-fotomoto").is(":visible")||(n(".jb-bb-btn-fotomoto").show(),y()),o=!0,u=!0,a++;else if(!e){var d=n(".jb-bb-btn-fotomoto").is(":visible");n(".jb-bb-btn-fotomoto").hide(),d&&y()}t.config.sharefacebook?(o=!0,u=!0,a++):n(".jb-bb-btn-facebook").hide(),t.config.sharetwitter?(o=!0,u=!0,a++):n(".jb-bb-btn-twitter").hide(),t.config.sharegplus?(o=!0,u=!0,a++):n(".jb-bb-btn-gplus").hide(),t.config.sharepinterest?(o=!0,u=!0,a++):n(".jb-bb-btn-printerest").hide(),t.config.sharetumblr?(o=!0,u=!0,a++):n(".jb-bb-btn-tumblr").hide();var f=0;if(s&&l?(n(".jb-bb-splitter-1").show(),f++):n(".jb-bb-splitter-1").hide(),c&&(l||s)?(n(".jb-bb-splitter-2").show(),f++):n(".jb-bb-splitter-2").hide(),u&&(c||l||s)?(n(".jb-bb-splitter-3").show(),f++):n(".jb-bb-splitter-3").hide(),e)return{detailButtonCount:a,indexButtonCount:r,separatorCount:f};var p=t.config.showimageoverlay.toUpperCase(),g=t.config.buttonbarposition.toUpperCase();return"NONE"===g?n(".jb-classifier-link-wrapper.jb-classifier-detail-area").remove():t.config.showinfobutton||t.isOverlayVisible()||"TOP"===g||"ALWAYS"===p?t.detail_panel.is_visible()&&"OVERLAY_IMAGE"!=g&&n(".jb-classifier-link-wrapper.jb-classifier-detail-area").show():n(".jb-classifier-link-wrapper.jb-classifier-detail-area").hide(),o?n(".jb-classifier-link-wrapper.jb-classifier-detail-area .jb-bb-bar").show():n(".jb-classifier-link-wrapper.jb-classifier-detail-area .jb-bb-bar").hide(),i?n(".jb-classifier-link-wrapper.jb-classifier-thumb-area").show():n(".jb-classifier-link-wrapper.jb-classifier-thumb-area").hide(),null},x=function(){return!t.utils.is_in_iframe()&&t.config.usefullscreenexpand&&t.utils.exit_support_real_fullscreen()?!0:(t.utils.is_in_iframe()||!t.features.fullscreen.switched_2_fullscreen()&&!t.utils.is_new_expanded_window())&&(!t.config.showexpandbutton||t.isFullScreenMode()||t.utils.is_in_iframe())?!1:!0},w=function(){return!t.config.showaudiobutton||t.utils.is_earlier_ie()?!1:!0},y=function(){var i=t.config.buttonbarposition.toUpperCase();if("OVERLAY_IMAGE"!=i&&"NONE"!=i){var o,a=t.config.buttonbarhalign.toUpperCase(),r=0,s=i==t.config.backbuttonposition.toUpperCase()||!t.utils.is_large_screen_mode(t.config)&&t.config.showsmallbackbutton;if(t.detail_panel.is_visible()&&t.features.backbutton.isNeeded()&&s){var l=t.config.backbuttonhalign.toUpperCase();("LEFT"===l&&"RIGHT"==a||"RIGHT"===l&&"LEFT"==a)&&(r=e(".jb-go-back").width()+20)}var c=!1,u=t.glrySizePosition(),d=10,f=t.glryStagPadding(),p=f;o=m(),"CENTER"===a?(c=!0,p=parseInt((t.glryWidth()-o)/2)):"LEFT"===a&&(c=!0);var g=d+u.detail_panel_top;"TOP"===i&&(g=d-4+u.top_panel_top),o+=30,o>t.glryWidth()-2*t.config.stagepadding-r-20&&(o=t.glryWidth()-2*t.config.stagepadding-r);var h=o+"",_=h[h.length-1];o>17*t.config.buttonbariconsize?("8"===_||"9"===_||"0"===_||"1"===_||"2"===_)&&(o-=5):o>10*t.config.buttonbariconsize?("3"===_||"4"===_||"5"===_||"6"===_||"7"===_)&&(o-=5):o>102&&("2"===_||"1"===_||"0"===_||"9"===_||"8"===_)&&(o-=5),n(".jb-classifier-link-wrapper.jb-classifier-detail-area").css(c?{left:p,top:g,width:o}:{right:p,top:g,width:o})}};return{setContext:i,getHtml:a,draw:r,setEvent:f,init:h,repaint:_,setPosition:y,getVisibleBtnCount:b,getButtonbarWidth:m,getHtml4IndexPage:o}},juicebox_registered_components.imagenav=function(){var e,t,n=juicebox_lib.jQuery,i=function(n){e=n,t=e._},o=function(t){if(!c())return"";var n=t?"left":"right";return"<div class='jbn-nav-button jb-classifier-show-on-over jb-classifier-layer' data-layer='1000' style='z-index:1000;position:absolute;"+n+":"+(e.glryStagPadding()+10)+"px;"+e.utils.get_nav_btn_size_style(e.config,!1)+"'><div class='jbn-"+n+"-button jbn-nav-button-icon' style='display:none;"+e.utils.get_nav_icon_style(e.config)+"'>"+e.utils.add_font_icon_4_ie8(e.config,t?"&#xe000;":"&#xe001;")+"</div></div>"},a=function(e){return e.html(o()),!0},r=function(){},s=function(){},l=function(n){var i=e.sizing(),o=parseInt(e.config.navbuttoniconrealsize);o||(o=18);var a=e.utils.get_nav_btn_size(e.config),r=a/2;"IMAGE"!=e.config.imagenavposition.toUpperCase()&&e._(".jb-navigation.jb-classifier-detail-area .jbn-nav-button").css("top",parseInt(n.detail_panel_height/2-r)+"px");var s=e.config.thumbnavposition.toUpperCase(),l=n.is_sideway_layout||"ABOVE_THUMBS"!==e.config.gallerytitleposition.toUpperCase()||"BOTTOM"==s?0:i.constTitleHeight4AboveThumbs;if(e.utils.is_large_screen_mode(e.config)){var c=e.index_panel.get_thumb_height()/2-r,u=e.index_panel.get_show_area_position(),d=e.glryStagPadding(),f=e.config.captionposition.toUpperCase();if("BOTTOM"===s){var p=u.top+e.index_panel.get_thumb_height();c="BELOW_THUMBS"===f?p+parseInt((n.caption_panel_top-p-o-e.config.thumbpadding)/2):p+i.padding_bottom_index_nav(e.config);var g=p+parseInt((n.index_panel_height-e.index_panel.get_thumb_height())/2)-r;p>c&&(c=p),n.is_sideway_layout&&e.config.showpagingtext&&c+2*e.config.thumbpadding<g&&(c+=e.config.thumbpadding),c>g&&(c=g)}else if(n.is_sideway_layout){c=(e.glryHeight()-n.top_panel_height-2*d-("BOTTOM"===f?n.caption_panel_height:0))/2-r+("BOTTOM"===f?d:0);var h=e.config.thumbsvalign.toUpperCase();("TOP"===h||"BOTTOM"===h)&&(c=u.top+parseInt((e.index_panel.get_thumb_height()-a+e.config.thumbpadding)/2))}if(e.config.usethumbdots){var _=e.config.thumbnavposition.toUpperCase();e.config.showpagingtext&&"BOTTOM"===_&&(l+=10),0>c&&(l+=7+(20>=o?(22-o)/2:0)),e.config_manager.isp||(l+=11)}t(".jb-navigation.jb-classifier-thumb-area .jbn-nav-button").css("top",parseInt(c+l)+"px")}else t(".jb-navigation.jb-classifier-thumb-area .jbn-nav-button").css("top",parseInt(n.index_panel_height/2-r+l)+"px")},c=function(){return e.utils.is_large_screen_mode(e.config)?!0:e.config.showimagenav?!0:!1},u=function(i){if(e.detail_panel.isImageShowed()||"IMAGE"!==e.config.imagenavposition.toUpperCase()){var o=e.config.showimagenav&&("NEVER"!==e.config.showimageoverlay.toUpperCase()||e.config.showinfobutton&&e.features.showinfo.visible())?!1:!0,a=t(".jb-classifier-detail-area .jbn-left-button"),r=t(".jb-classifier-detail-area .jbn-nav-left-touch-area"),s=t(".jb-bb-button.jb-bb-btn-top-nav.jb-bb-btn-top-nav-left");o?a.hide():e.canImageMove()?(i?n.browser.msie||document.msFullscreenEnabled?(a.fadeOut(),window.setTimeout(function(){a.fadeIn(i)},100)):a.fadeIn(i):o||a.show().css(e.utils.is_earlier_ie()&&e.config.navbuttoniconopacity?{filter:e.config.navbuttonbackcoloropacity.replace("filter:","")}:{opacity:1}),s.css({opacity:1}),r.removeClass("dt-nav-disabled")):(a.hide(),e.utils.is_large_screen_mode(e.config)||window.setTimeout(function(){a.hide()},50),s.css({opacity:.5}),r.addClass("dt-nav-disabled"));var l=t(".jb-classifier-detail-area .jbn-right-button"),c=t(".jb-classifier-detail-area .jbn-nav-right-touch-area"),u=t(".jb-bb-button.jb-bb-btn-top-nav.jb-bb-btn-top-nav-right");o?l.hide():e.canImageMove(!0)?(i?e.utils.fade_in(e.config,l,i,!1,null,"imgnavs"):o||l.show().css({opacity:1}),u.css({opacity:1}),c.removeClass("dt-nav-disabled")):(l.hide(),e.utils.is_large_screen_mode(e.config)||window.setTimeout(function(){l.hide()},50),u.css({opacity:.5}),c.addClass("dt-nav-disabled"))}};return{setContext:i,getHtml:o,draw:a,setEvent:r,init:s,repaint:u,setPosition:l,isNeeded:c}},juicebox_registered_components.indexnav=function(){var e,t,n=function(n){e=n,t=e._},i=function(){return""},o=function(e){return e.html(i()),!0},a=function(){},r=function(){},s=function(n){var i=e.utils.is_large_screen_mode(e.config),o=t(".jb-classifier-thumb-area .jbn-left-button");i||e.config.showsmallthumbnav?e.canPageMove()?n?o.fadeIn(n):o.show():(o.hide(),e.utils.is_large_screen_mode(e.config)||window.setTimeout(function(){o.hide()},50)):o.hide();var a=t(".jb-classifier-thumb-area .jbn-right-button");i||e.config.showsmallthumbnav?e.canPageMove(!0)?n?e.utils.fade_in(e.config,a,n,!1,null,"idxnavs"):a.show():(a.hide(),e.utils.is_large_screen_mode(e.config)||window.setTimeout(function(){a.hide()},50)):a.hide()},l=function(n){var i=e.index_panel.get_thumblist_size(),o=e.utils.get_nav_btn_size(e.config),a=parseInt((n.index_panel_width-i.width)/2-o-o/3);o/3>10&&5>a&&(a=5);var r=n.index_panel_width-i.width-2*o;e.utils.is_large_screen_mode(e.config)&&("BOTTOM"===e.config.thumbnavposition.toUpperCase()&&(a=parseInt((n.index_panel_width-i.width)/2+(e.config.thumbwidth-o+e.config.thumbpadding)/2),parseInt(e.config.maxthumbcolumns)<=1&&(a-=parseInt(e.config.thumbwidth/2-12))),"BOTTOM"===e.config.thumbnavposition.toUpperCase()&&e.config.usethumbdots&&(a-=e.config.maxthumbcolumns<=4?11:3));var s=e.config.thumbshalign.toUpperCase(),l=5;"LEFT"===s?(t(".index-navigation .jbn-left-button").css("left",l+"px"),t(".index-navigation .jbn-right-button").css("right",r-l+"px")):"RIGHT"===s?(t(".index-navigation .jbn-left-button").css("left",r-l+"px"),t(".index-navigation .jbn-right-button").css("right",l+"px")):(t(".index-navigation .jbn-left-button").css("left",a+"px"),t(".index-navigation .jbn-right-button").css("right",a+"px"))};return{setContext:n,getHtml:i,draw:o,setEvent:a,init:r,repaint:s,setPosition:l}},juicebox_registered_components.showthumbsbutton=function(e){var t=e,n=null,i=!1,o=!1,a=function(e){t=e,n=t._},r=function(){n(".jb-bb-btn-de-show-list").click(function(){return s()})},s=function(e){var n=function(){l()};return t.utils.is_large_screen_mode(t.config)?c(e):(t.config_manager.isp&&juicebox_instances[t.instance_id]&&"function"==typeof juicebox_instances[t.instance_id].onShowThumbs&&juicebox_instances[t.instance_id].onShowThumbs(!0),n(),!1)},l=function(e){t.features.autoplay.stop();var i=e?e:0;if(t.detail_panel.get_photo_position()>0&&(i=t.detail_panel.get_photo_position()),t.index_panel.is_visible()&&t.detail_panel.is_visible())return t.redrawIndexPanel(i),!1;t.detail_panel.set_visible_flag(!1),t.index_panel.set_visible_flag(!0);var a=n(" .jb-panel-detail, .jb-area-caption");if(a.is(":visible")){o=!0;var r=n(" .jb-panel-detail img");r.length>0&&r.fadeOut(250),t.utils.is_android()?(a.fadeOut(250),window.setTimeout(function(){n(" .jb-classifier-detail-area, .jb-area-caption").hide(),n(".jb-classifier-thumb-area").show().fadeIn(200),t.redrawIndexPanel(i),o=!1},250)):(a.fadeOut(250),window.setTimeout(function(){n(" .jb-classifier-detail-area, .jb-area-caption").hide(),n(".jb-classifier-thumb-area").show().fadeIn(200),t.redrawIndexPanel(i),o=!1},250))}else t.redrawIndexPanel();if(t.config.enabledirectlinks){var s=t.features.hashstatus.getExpendedHash(),l=window.location.href.split("#"),c="";2==l.length&&l[1].indexOf(s)>=0&&(c=s),window.location.href=window.location.href.split("#")[0]+"#"+c}return!1},c=function(e,o,a){var r,s,l=n(".jb-panel-index");if(i="boolean"==typeof o?o:!i,l.stop(),i){var c=function(){t.index_panel.set_visible_flag(!1),l.hide(),t.features.grytitle.setPosition(),t.features.buttonbar.setPosition(),a||t.glryRepaint(!0,!1,!0)};if(e)c();else{var u=parseInt(l.height()),d=parseInt(l.width());s=t.config.thumbsposition.toUpperCase(),n(".jb-panel-index .jb-area-large-mode-title").css({overflow:"hidden","white-space":"nowrap"}),"TOP"===s?l.animate({top:"-="+u,height:"-="+u,avoidTransforms:!0},500,"easeInOutQuart",c):"LEFT"===s?(n(".index-navigation .jbn-nav-button").hide(),l.animate({left:"-="+d,width:"-="+d,avoidTransforms:!0},500,"easeInOutQuart",c)):"RIGHT"===s?(n(".index-navigation .jbn-nav-button").hide(),l.animate({left:"+="+d,width:"-="+d,avoidTransforms:!0},500,"easeInOutQuart",c)):l.animate({top:"+="+u,height:"-="+u,avoidTransforms:!0},500,"easeInOutQuart",c)}}else{r=t.glrySizePosition(!0,!0),t.glryRepaint(!0,!0,!0),s=t.config.thumbsposition.toUpperCase();var f=r.index_panel_top,p=r.index_panel_left,g=r.index_panel_height,h=r.index_panel_width;"TOP"===s?(g=0,f=r.index_panel_top-r.index_panel_height):"LEFT"===s?(h=0,p=r.index_panel_left-r.index_panel_width):"RIGHT"===s?(h=0,p=r.index_panel_left+r.index_panel_width):(g=0,f=r.index_panel_top+r.index_panel_height),l.css({top:f,height:g,left:p,width:h}),l.show(),n(".jb-idx-show-area table").length<=0&&t.index_panel.show_current_page(),n(".jb-panel-index .jb-area-caption").show(),"ABOVE_THUMBS"===t.config.gallerytitleposition.toUpperCase()&&n(".jb-panel-index .jb-area-large-mode-title").show();var _=function(){t.index_panel.set_visible_flag(!0),l.hide(),a||t.glryRepaint(!0,!1,!0)};e?_():(n(".jb-panel-index .jb-area-large-mode-title").css({overflow:"hidden","white-space":"nowrap"}),"TOP"===s?l.animate({top:"-="+-r.index_panel_height,height:"+="+r.index_panel_height,avoidTransforms:!0},500,"easeInOutQuart",_):"LEFT"===s?l.animate({left:"+="+r.index_panel_width,width:"+="+r.index_panel_width,avoidTransforms:!0},500,"easeInOutQuart",_):"RIGHT"===s?l.animate({left:"-="+r.index_panel_width,width:"+="+r.index_panel_width,avoidTransforms:!0},500,"easeInOutQuart",_):l.animate({top:"+="+-r.index_panel_height,height:"+="+r.index_panel_height,avoidTransforms:!0},500,"easeInOutQuart",_))}return t.config_manager.isp&&juicebox_instances[t.instance_id]&&"function"==typeof juicebox_instances[t.instance_id].onShowThumbs&&juicebox_instances[t.instance_id].onShowThumbs(!i),t.utils.is_touchable_desktop()&&(t.features.touchevent.setTransitioning(!0),window.setTimeout(function(){t.features.touchevent.setTransitioning(!1)
},50)),!1},u=function(){},d=function(){return i},f=function(e){i=!e},p=function(){return o},g=function(){return!t.config.showsmallthumbsbutton||!t.config.showthumbsbutton||!t.utils.is_large_screen_mode(t.config)&&t.index_panel.is_visible()?!1:!t.config.showsmallthumbsbutton||!t.config.showthumbsbutton&&t.utils.is_large_screen_mode(t.config)?!1:!0},h=function(){var e=n(".jb-bb-btn-de-show-list");t.utils.is_large_screen_mode(t.config)?t.index_panel.is_visible()?e.attr("title",t.config.languagelistall.htlsm):e.attr("title",t.config.languagelistall.stlsm):(e.attr("title",t.config.languagelistall.st),g()?e.show():(e.hide(),n(".jb-bb-bar>div:visible").length<=0&&t.isFullScreenMode()&&n(".jb-bb-bar").hide()),t.detail_panel.is_visible()&&t.index_panel.display_gallery_top(!1))};return{setContext:a,setEvent:r,init:u,isThumbsHidden:d,switch2Thumbnails:l,isSwitching:p,toggle_index_panel_4_lsm:c,setIndexVisibleFlag:f,repaint:h,indexButtonClicked:s,isVisible:g}},juicebox_registered_components.openurl=function(){var e,t,n=function(n){e=n,t=e._},i=function(){e._(".jb-bb-btn-open-url").click(o)},o=function(){var t=e.detail_panel.get_current_photo();if(e.config.useflickr&&t.imageFullURL)return window.open(t.imageFullURL),!1;var n;t.linkURL?n=t.linkURL:(n=t.imageURL,t.largeImageURL&&(n=t.largeImageURL));var i=t.linkTarget?t.linkTarget.toLowerCase():"";return"_self"===i?window.location.href=n:window.open(n,i),!1},a=function(){},r=function(){};return{setContext:n,setEvent:i,init:a,repaint:r,open_url:o}},juicebox_registered_components.fullscreen=function(){var e,t,n,i=juicebox_lib.jQuery,o=null,a=function(i){e=i,t=e._;var o=e.config;n={parent_gallery_param:o.persistor_param,is_full_screen:o.fullscreen_displaying_mode?!0:!1,parent_gallery:o.parent_gallery,initial_body_css_inline_style:o.initial_body_css_inline_style?o.initial_body_css_inline_style:"",scroll_position:o.scroll_position?o.scroll_position:{},initial_height:0,initial_width:0}},r=function(){t(".jb-bb-btn-full-screen").click(function(){cancelFullScreen()})},s=function(){o=new juicebox_gallery_dialog({jquery:i})},l=function(){},c=function(){return navigator.userAgent.match(/Safari/i)?(u(),!1):u()},u=function(){if(n.is_full_screen){var a=i(window);if(e.utils.need_viewport_meta()&&(n.parent_gallery_param.viewportContent?e.utils.set_viewport_meta_content(n.parent_gallery_param.viewportContent):e.utils.is_android()&&e.utils.get_android_ver()>=4?n.parent_gallery_param.restore_viewport(320,!0):e.utils.is_iphone()?n.parent_gallery_param.restore_viewport(.4,!0):e.utils.is_ipad()||n.parent_gallery_param.restore_viewport(160*n.parent_gallery_param.max_side_length/Math.max(a.width(),a.height()),!0)),!n.parent_gallery_param.splash_is_set){n.parent_gallery_param.parent_set_info_visible(e.features.showinfo.visible());var r=e.detail_panel.get_photo_position();e.detail_panel.is_visible()&&n.parent_gallery_param.restore_image(r),e.index_panel.is_visible()&&n.parent_gallery_param.restore_index(r)}window.setTimeout(function(){i("body").css({overflow:"auto"}),window.setTimeout(function(){juicebox_instances.length>1&&(n.initial_body_css_inline_style=n.initial_body_css_inline_style.replace(/ /g,"").replace("overflow:hidden;")),i("body").attr("style",n.initial_body_css_inline_style),window.setTimeout(function(){window.scroll(n.scroll_position.scrollLeft,n.scroll_position.scrollTop)},100)},100)},100),n.parent_gallery_param.restore_zindex&&n.parent_gallery_param.restore_zindex();var s=function(){o.cleanup_dialog(),e.unbindResize(),n.parent_gallery.restore(e.features.showthumbsbutton.isThumbsHidden(),e.isOverlayVisible())};(e.config.usefullscreenexpand||e.config.autofullscreenexpand)&&e.utils.exit_fullscreen();var l=e.features.autoplay.isPlaying();s(),e.features.fullscreen.switched_2_fullscreen()&&e.features.fullscreen.getPersistor().parent_gallery_param.openedFromSplash()&&(e.features.fullscreen.getPersistor().parent_gallery_param.stopAudioPlay&&e.features.fullscreen.getPersistor().parent_gallery_param.stopAudioPlay(),l=e.config.autoplayonload?!0:!1),n.parent_gallery_param.restore_autoplay(l),e.features.hashstatus.enableHashEvent(!1),e.features.splash.isSet()||n.parent_gallery.sendMessage()}else{if(e.utils.is_new_expanded_window())return window.history.back(),!1;if(e.config_manager.isp&&juicebox_instances[e.instance_id]&&"function"==typeof juicebox_instances[e.instance_id].onExpand&&juicebox_instances[e.instance_id].onExpand(!0),e.features.hashstatus.enableHashEvent(!1),e.features.hashstatus.setExpanded(!0),!e.utils.is_in_iframe()&&e.utils.need_new_window(e.config)){var c;return i.browser.msie&&i.browser.version<8&&i.browser.version>=7?c={configurl:e.utils.convert_to_absolute_path(e.correctPath(e.config.configurl)),themeurl:e.utils.convert_to_absolute_path(e.config.themeurl),hide_thumbnails_in_lsm:e.features.showthumbsbutton.isThumbsHidden(),backgroundurl:e.utils.convert_to_absolute_path(e.correctPath(e.config.backgroundurl)),firstimageindex:e.detail_panel.get_current_photo()?e.detail_panel.get_current_photo().position+1:0,baseurl:e.utils.convert_to_absolute_path(e.config.baseurl)}:(e.features.splash.isNeeded()&&(e.detail_panel.set_visible_flag(!0),e.index_panel.set_visible_flag(!1)),c={showsplashpage:"NEVER",configurl:e.utils.convert_to_absolute_path(e.correctPath(e.config.configurl)),themeurl:e.utils.convert_to_absolute_path(e.config.themeurl),baseurl:e.utils.convert_to_absolute_path(e.config.baseurl),backbuttonurl:e.utils.convert_to_absolute_path(e.config.backbuttonurl),audiourlmp3:e.config.audiourlmp3?e.utils.convert_to_absolute_path(e.config.audiourlmp3):"",audiourlogg:e.config.audiourlogg?e.utils.convert_to_absolute_path(e.config.audiourlogg):"",backgroundurl:e.utils.convert_to_absolute_path(e.correctPath(e.config.backgroundurl)),firstimageindex:e.detail_panel.get_current_photo()?e.detail_panel.get_current_photo().position+1:0,hide_thumbnails_in_lsm:e.features.showthumbsbutton.isThumbsHidden(),is_detail_visible:e.detail_panel.is_visible(),is_index_visible:e.index_panel.is_visible(),maxthumbcolumns:e.config.maxthumbcolumns,maxthumbrows:e.config.maxthumbrows,languagelist:e.config.languagelistbak,pageTitle:e.config.gallerytitle?e.config.gallerytitle:i("head > title").text()}),e.config_manager.get_cookie_manager().saveConfig({skip:"gallerywidth,galleryheight,containerid,enabledirectlinks,usefullscreenexpand,expandinnewpage,languagelistall,splashtitle,splashimageurl,splashshowimagecount,gallerydescription,thumb_load_placeholder,main_load_placeholder,showthumbsonload",config:c}),e.features.audio.isPlaying()&&e.features.audio.toggleAudioPlay(),document.location.href=e.utils.get_js_folder_url()+"full.html",!1}var u=e.utils.get_viewport_meta_content();e.utils.set_viewport_meta(!0);for(var d=i.extend({},e.config),f=e.getIgnoredOptions4New().split(","),p=0;p<f.length;p++)f[p].length<=0||delete d[f[p]];d.containerid=o.get_id(),d.parent_gallery=juicebox_instances[e.instance_id],d.gallerywidth="100%",d.galleryheight="100%",d.fullscreen_displaying_mode=!0,d.parent_gallery=juicebox_instances[e.instance_id],d.initial_body_css_inline_style=i("body").attr("style"),d.scroll_position={},d.scroll_position.scrollTop=i(window).scrollTop(),d.scroll_position.scrollLeft=i(window).scrollLeft(),window.scroll(0,0),d.persistor_param={},d.persistor_param.viewportContent=u;var g=i(window),h=e.utils.is_large_screen_mode(e.config);d.persistor_param.max_side_length=Math.max(g.width(),g.height()),d.persistor_param.restore_viewport=function(t,n){e.utils.set_viewport_value(t,n)},d.persistor_param.is_index_visible=e.features.splash.isSet()?!1:e.index_panel.is_visible(),d.persistor_param.is_detail_visible=e.features.splash.isSet()?!0:e.detail_panel.is_visible(),d.persistor_param.current_image_index=e.detail_panel.get_photo_position(),d.persistor_param.restore_image=function(t){e.setImageEventIndex(t+1),h?e.showImage(t):e.switch2Main(t)},d.persistor_param.restore_index=h?e.redrawIndexPanel:e.features.showthumbsbutton.switch2Thumbnails,d.persistor_param.splash_is_set=e.features.splash.isSet(),d.persistor_param.background_image_width=e.features.backgroundimage.getSizingInfo().width,d.persistor_param.background_image_height=e.features.backgroundimage.getSizingInfo().height,d.persistor_param.gallery_manager=e.gallery_manager,d.persistor_param.hide_thumbnails_in_lsm=e.features.showthumbsbutton.isThumbsHidden(),d.persistor_param.last_image_event_index=(e.detail_panel.get_current_photo()?e.detail_panel.get_current_photo().position:0)+1,d.persistor_param.overlay_info_visible=e.features.showinfo.visible(),d.persistor_param.openedFromSplash=e.features.splash.opendFromSplash,e.features.audio.isNeeded()&&(d.persistor_param.is_audio_playing=e.features.audio.isPlaying(),d.persistor_param.parent_toggle_audio_play=e.features.audio.toggleAudioPlay,d.persistor_param.need2PlayAudioAfterSplash=e.features.splash.need2PlayAudioAfterSplash,d.persistor_param.stopAudioPlay=e.features.audio.stop),d.persistor_param.parent_set_info_visible=e.features.showinfo.showInfoCtrls,d.persistor_param.different_size_images_in_config=e.hasMultipleSizeImages;var _=e.features.autoplay.isPlaying();e.features.autoplay.stop(!1,!0),d.persistor_param.is_autoplaying=_,d.persistor_param.restore_autoplay=function(t){t!=e.features.autoplay.isPlaying()&&e.features.autoplay.toggleAutoPlay(!1,!0)},e.utils.is_swipable_device()||e.config.forcetouchmode||e.config.showinfobutton||e.setOverlay(!1,0),i("body").css({overflow:"hidden"});var m=h?!1:!0;1===e.config.backgroundopacity||"1"===e.config.backgroundopacity||"string"==typeof e.config.backgroundopacity&&0===e.config.backgroundopacity.indexOf("filter")&&e.config.backgroundopacity.indexOf("100")>0?m=!0:(d.persistor_param.restore_zindex=function(){t("").show(),t("").focus()},t("").hide()),o.fadein_dialog(!1,e.config.backgroundcolor,300,function(){e.setExtendedGlry(new juicebox(d))}),e.config.usefullscreenexpand&&e.utils.show_real_fullscreen("jb-glry-dlg")}return!1},d=function(){return n.is_full_screen},f=function(){return n.is_full_screen?n.parent_gallery:null},p=function(){return n};return{setContext:a,setEvent:r,init:s,repaint:l,switched_2_fullscreen:d,full_screen:c,parentGallery:f,getPersistor:p}},juicebox_registered_components.autoplay=function(){var e,t,n=0,i,o=function(n){e=n,t=e._,i=1e3*e.config.imagetransitiontime},a=function(){return"<div class='' title='"+e.config.languagelistall.st+"' style='"+e.utils.get_button_bar_icon_style(config)+"'>"+e.utils.add_font_icon_4_ie8(config,utils.is_large_screen_mode(config)?"&#xe002;":"&#xe003;",!0)+"</div>"},r=function(t){return e.config.showthumbsbutton&&e.allowDisplay()?(t.html(a()),!0):!1},s=function(){t(".jb-bb-btn-auto-play").click(function(){return u(),!1})},l=function(){},c=function(){},u=function(t,i){return e.config.showautoplaybutton||e.config.enableautoplay||e.config.autoplayonload?n?(window.clearInterval(n),n=0,d(i),!1):(e.detail_panel.is_visible()&&e.config.gonextonautoplay&&!t&&e.nextImage(0),p(),d(i),!1):!1},d=function(o){var a=e.config.languagelistall.aon;if(n?t(".jb-bb-btn-auto-play").toggleClass("jb-status-playing").attr("title",e.config.languagelistall.stpa).html(e.utils.add_font_icon_4_ie8(e.config,"&#xe00a;")):(a=e.config.languagelistall.aoff,t(".jb-bb-btn-auto-play").toggleClass("jb-status-playing").attr("title",e.config.languagelistall.strta).html(e.utils.add_font_icon_4_ie8(e.config,"&#xe009;"))),e.config.showautoplaystatus&&!o){var r=t(".jb-status-message"),s=e.glrySizePosition(e.index_panel.is_visible(),e.detail_panel.is_visible(),e.config_manager.isp,e.features.toppanel.isNeeded(),e.index_panel.get_thumb_height(),e.config),l=s.detail_panel_height/2-18,c=s.detail_panel_width/2-60;r.css({top:l,left:c,width:"115px"}),r.html(a).fadeIn(300),window.setTimeout(function(){r.hide().fadeOut(i),r.fadeOut(300)},1e3)}},f=function(e){n=e},p=function(){n=window.setInterval(function(){if(!e.canImageMove(!0))return void e.features.autoplay.toggleAutoPlay();var n=e.gallery_manager().get_next_image(e.detail_panel.get_photo_position()).position,i=t(".jb-dt-main-image-"+n+" .jb-status-loading");i.length<=0&&e.config.main_load_placeholder.indexOf("jb-status-")>0&&e.nextImage(0)},1e3*e.config.displaytime+i)},g=function(){n&&u()},h=function(){return 0!=n};return{setContext:o,getHtml:a,draw:r,setEvent:s,init:l,repaint:c,toggleAutoPlay:u,stop:g,isPlaying:h,set_autoplay_flag:f}},juicebox_registered_components.showinfo=function(){var e,t,n=!0,i=juicebox_lib.jQuery,o=function(n){e=n,t=e._},a=function(){e.config.showinfobutton&&t(".jb-bb-btn-show-info").click(function(){return r(),!1})},r=function(){n=!n,e.setOverlayFlag(n),l(n,250,!1)},s=function(){return n},l=function(o,a,r){if(n=o,e.detail_panel.is_visible()){var s=e.detail_panel.isImageShowed()||"OVERLAY_IMAGE"!==e.config.buttonbarposition.toUpperCase()?"":":not(.jb-classifier-link-wrapper)";if(r&&(s+=":not(.jb-area-caption)"),e.utils.show_hide_controls(t(".jb-classifier-show-on-over"+s),o,i.browser.msie&&i.browser.version>=7&&i.browser.version<8?0:a),r||t(".jb-area-caption table").css({display:""}),"CROSS_FADE"===e.config.imagetransitiontype.toUpperCase()&&!i.browser.msie&&!e.utils.is_firefox3()){var l=a?a:50;window.setTimeout(function(){t(".jb-area-caption table").css({opacity:1})},l)}var c=o?e.config.languagelistall.hdinfo:e.config.languagelistall.sinfo;t(".jb-bb-button.jb-bb-btn-show-info").attr("title",c)}};return{setContext:o,setEvent:a,showInfoCtrls:l,visible:s}},juicebox_registered_components.audio=function(){var e,t,n,i,o=function(n){e=n,t=e._},a=function(){t(".jb-bb-btn-audio").click(function(){return r(),!1})},r=function(){var o=!1;if(e.features.fullscreen.switched_2_fullscreen()&&e.features.fullscreen.getPersistor().parent_gallery_param.parent_toggle_audio_play)n=!e.features.fullscreen.getPersistor().parent_gallery_param.parent_toggle_audio_play(),o=!0;else if(!i)return n;if(e.utils.is_earlier_ie())return n;if(n)o||i&&i.pause(),n=!1,t(".jb-bb-btn-audio").removeClass("jb-status-playing").attr("title",e.config.languagelistall.plya);else{if(!o&&(i&&i.play(),i.paused))return n;n=!0,t(".jb-bb-btn-audio").addClass("jb-status-playing").attr("title",e.config.languagelistall.psa)}return n},s=function(o){var a;if(a=e.utils.is_firefox()||e.utils.is_opera()?e.config.audiourlogg:e.config.audiourlmp3?e.config.audiourlmp3:e.config.audiourlogg,e.features.fullscreen.switched_2_fullscreen()&&e.features.fullscreen.getPersistor().parent_gallery_param.parent_toggle_audio_play)e.features.fullscreen.getPersistor().parent_gallery_param.need2PlayAudioAfterSplash&&e.features.fullscreen.getPersistor().parent_gallery_param.need2PlayAudioAfterSplash(e.config)?r():(n=e.features.fullscreen.getPersistor().parent_gallery_param.is_audio_playing,e.features.fullscreen.getPersistor().parent_gallery_param.is_audio_playing?t(".jb-bb-btn-audio").addClass("jb-status-playing").attr("title",e.config.languagelistall.psa):t(".jb-bb-btn-audio").removeClass("jb-status-playing").attr("title",e.config.languagelistall.plya));else if(a&&!e.utils.is_earlier_ie()&&!e.utils.is_adobe_air())try{i=new Audio(a),i.addEventListener("ended",function(){this.currentTime=0,e.config.loopaudio?this.play():r()},!1),i.volume=e.config.audiovolume,!o&&e.config.playaudioonload&&r()}catch(s){console.error("cannot handle audio")}},l=function(){return null!=i},c=function(){return n},u=function(){},d=function(e,t){n&&r(e,t)},f=function(){i&&i.pause(),i=null};return{setContext:o,setEvent:a,init:s,repaint:u,toggleAudioPlay:r,isNeeded:l,isPlaying:c,stop:d,remove:f}},juicebox_registered_components.fotomoto=function(){var e,t,n=function(n){e=n,t=e._},i=function(){t(".jb-bb-btn-fotomoto").click(o)},o=function(){if(e.config.fotomotostoreid)FOTOMOTO.API.showWindow(10,e.detail_panel.get_current_photo().imageURL);else{var t=e.detail_panel.get_current_photo();t.purchaseURL&&window.open(t.purchaseURL,"_blank")}return!1},a=function(){if(e.utils.is_in_iframe())return!1;if(!e.utils.is_large_screen_mode(e.config))return!1;if(e.config.fotomotostoreid)return!0;var t=e.detail_panel.get_current_photo();return t.purchaseURL?!0:!1};return{setContext:n,setEvent:i,isVisible:a}},juicebox_registered_components.facebook=function(){var e,t,n=function(n){e=n,t=e._},i=function(){t(".jb-bb-btn-facebook").click(o)},o=function(){var t=e.getGalleryInfo();return window.open("http://www.facebook.com/sharer.php?u="+t.shareUrl,"","menubar=no,toolbar=no,resizable=yes,"+e.utils.get_popup_position_string(560,420)),!1};return{setContext:n,setEvent:i}},juicebox_registered_components.twitter=function(){var e,t,n=function(n){e=n,t=e._},i=function(){t(".jb-bb-btn-twitter").click(o)},o=function(){var t=e.getGalleryInfo();return window.open("https://twitter.com/intent/tweet?text="+t.shareText+"&url="+t.shareUrl,"","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,"+e.utils.get_popup_position_string(600,420)),!1};return{setContext:n,setEvent:i}},juicebox_registered_components.gplus=function(){var e,t,n=function(n){e=n,t=e._},i=function(){t(".jb-bb-btn-gplus").click(o)},o=function(){var t=e.getGalleryInfo();return window.open("https://plus.google.com/share?url="+t.shareUrl,"","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,"+e.utils.get_popup_position_string(600,420)),!1};return{setContext:n,setEvent:i}},juicebox_registered_components.printerest=function(){var e,t,n=function(n){e=n,t=e._},i=function(){t(".jb-bb-btn-printerest").click(o)},o=function(){var t=e.getGalleryInfo();return window.open("https://pinterest.com/login/?next=/pin/create/bookmarklet/%3Fmedia%3D"+t.imageUrl+"%26description%3D"+t.shareText+"%26is_video%3Dfalse%26url%3D"+t.shareUrl,"","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,"+e.utils.get_popup_position_string(600,420)),!1};return{setContext:n,setEvent:i}},juicebox_registered_components.tumblr=function(){var e,t,n=function(n){e=n,t=e._},i=function(){t(".jb-bb-btn-tumblr").click(o)},o=function(){var t=e.getGalleryInfo();return window.open("http://www.tumblr.com/share/photo?source="+t.imageUrl+"&caption="+t.shareText+"&click_thru="+t.shareUrl,"","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,"+e.utils.get_popup_position_string(600,420)),!1};return{setContext:n,setEvent:i}};